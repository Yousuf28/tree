/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={890:function(t,n,e){var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof e.g&&e.g.global===e.g?e.g:this;function r(t,n,e){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){u(i.response,n,e)},i.onerror=function(){console.error("could not download file")},i.send()}function a(t){var n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch(t){}return n.status>=200&&n.status<=299}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,n,e){var s=i.URL||i.webkitURL,u=document.createElementNS("http://www.w3.org/1999/xhtml","a");n=n||t.name||"download",u.download=n,u.rel="noopener","string"==typeof t?(u.href=t,u.origin!==location.origin?a(u.href)?r(t,n,e):o(u,u.target="_blank"):o(u)):(u.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){o(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,e){if(n=n||t.name||"download","string"==typeof t)if(a(t))r(t,n,e);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){o(i)}))}else navigator.msSaveOrOpenBlob(function(t,n){return void 0===n?n={autoBom:!1}:"object"!=typeof n&&(console.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,e),n)}:function(t,n,e,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return r(t,n,e);var o="application/octet-stream"===t.type,u=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&u||s)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},c.readAsDataURL(t)}else{var h=i.URL||i.webkitURL,f=h.createObjectURL(t);a?a.location=f:location.href=f,a=null,setTimeout((function(){h.revokeObjectURL(f)}),4e4)}});i.saveAs=u.saveAs=u,t.exports=u},510:(t,n,e)=>{var i;!function(r){"use strict";var a=r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype,o=r.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),s=o&&r.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),u=r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder,l=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,c=(o||u)&&r.atob&&r.ArrayBuffer&&r.Uint8Array&&function(t){var n,e,i,r,a,c,h,f,d;if(!(n=t.match(l)))throw new Error("invalid data URI");for(e=n[2]?n[1]:"text/plain"+(n[3]||";charset=US-ASCII"),i=!!n[4],r=t.slice(n[0].length),a=i?atob(r):decodeURIComponent(r),c=new ArrayBuffer(a.length),h=new Uint8Array(c),f=0;f<a.length;f+=1)h[f]=a.charCodeAt(f);return o?new Blob([s?h:c],{type:e}):((d=new u).append(c),d.getBlob(e))};r.HTMLCanvasElement&&!a.toBlob&&(a.mozGetAsFile?a.toBlob=function(t,n,e){var i=this;setTimeout((function(){e&&a.toDataURL&&c?t(c(i.toDataURL(n,e))):t(i.mozGetAsFile("blob",n))}))}:a.toDataURL&&c&&(a.msToBlob?a.toBlob=function(t,n,e){var i=this;setTimeout((function(){(n&&"image/png"!==n||e)&&a.toDataURL&&c?t(c(i.toDataURL(n,e))):t(i.msToBlob(n))}))}:a.toBlob=function(t,n,e){var i=this;setTimeout((function(){t(c(i.toDataURL(n,e)))}))})),void 0===(i=function(){return c}.call(n,e,n,t))||(t.exports=i)}(window)},601:()=>{d3.contextMenu=function(t,n){return d3.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),d3.select("body").on("click.d3-context-menu",(function(){d3.select(".d3-context-menu").style("display","none")})),function(e,i){var r=this;d3.selectAll(".d3-context-menu").html(""),d3.selectAll(".d3-context-menu").append("ul").selectAll("li").data(t).enter().append("li").html((function(t){return"string"==typeof t.title?t.title:t.title(e)})).on("click",(function(t,n){t.action(r,e,i),d3.select(".d3-context-menu").style("display","none")})),n&&!1===n(e,i)||(d3.select(".d3-context-menu").style("left",d3.event.pageX-2+"px").style("top",d3.event.pageY-2+"px").style("display","block"),d3.event.preventDefault(),d3.event.stopPropagation())}}},738:(t,n,e)=>{var i,r;!function(){function a(t){return t&&(t.ownerDocument||t.document||t).documentElement}function o(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function s(t,n){return n>t?-1:t>n?1:t>=n?0:NaN}function u(t){return null===t?NaN:+t}function l(t){return!isNaN(t)}function c(t){return{left:function(n,e,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=n.length);r>i;){var a=i+r>>>1;t(n[a],e)<0?i=a+1:r=a}return i},right:function(n,e,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=n.length);r>i;){var a=i+r>>>1;t(n[a],e)>0?r=a:i=a+1}return i}}}function h(t){return t.length}function f(t){for(var n=1;t*n%1;)n*=10;return n}function d(t,n){for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}function p(){this._=Object.create(null)}function g(t){return(t+="")===Na||t[0]===za?za+t:t}function v(t){return(t+="")[0]===za?t.slice(1):t}function m(t){return g(t)in this._}function _(t){return(t=g(t))in this._&&delete this._[t]}function y(){var t=[];for(var n in this._)t.push(v(n));return t}function x(){var t=0;for(var n in this._)++t;return t}function b(){for(var t in this._)return!1;return!0}function w(){this._=Object.create(null)}function M(t){return t}function k(t,n,e){return function(){var i=e.apply(n,arguments);return i===n?t:i}}function C(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var e=0,i=ja.length;i>e;++e){var r=ja[e]+n;if(r in t)return r}}function S(){}function A(){}function F(t){function n(){for(var n,i=e,r=-1,a=i.length;++r<a;)(n=i[r].on)&&n.apply(this,arguments);return t}var e=[],i=new p;return n.on=function(n,r){var a,o=i.get(n);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,a=e.indexOf(o)).concat(e.slice(a+1)),i.remove(n)),r&&e.push(i.set(n,{on:r})),t)},n}function E(){xa.event.preventDefault()}function T(){for(var t,n=xa.event;t=n.sourceEvent;)n=t;return n}function N(t){for(var n=new A,e=0,i=arguments.length;++e<i;)n[arguments[e]]=F(n);return n.of=function(e,i){return function(r){try{var a=r.sourceEvent=xa.event;r.target=t,xa.event=r,n[r.type].apply(e,i)}finally{xa.event=a}}},n}function z(t){return Da(t,Ha),t}function j(t){return"function"==typeof t?t:function(){return $a(t,this)}}function q(t){return"function"==typeof t?t:function(){return La(t,this)}}function D(t,n){return t=xa.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function $(t){return t.trim().replace(/\s+/g," ")}function L(t){return new RegExp("(?:^|\\s+)"+xa.requote(t)+"(?:\\s+|$)","g")}function R(t){return(t+"").trim().split(/^|\s+/)}function H(t,n){var e=(t=R(t).map(P)).length;return"function"==typeof n?function(){for(var i=-1,r=n.apply(this,arguments);++i<e;)t[i](this,r)}:function(){for(var i=-1;++i<e;)t[i](this,n)}}function P(t){var n=L(t);return function(e,i){if(r=e.classList)return i?r.add(t):r.remove(t);var r=e.getAttribute("class")||"";i?(n.lastIndex=0,n.test(r)||e.setAttribute("class",$(r+" "+t))):e.setAttribute("class",$(r.replace(n," ")))}}function O(t,n,e){return null==n?function(){this.style.removeProperty(t)}:"function"==typeof n?function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}:function(){this.style.setProperty(t,n,e)}}function I(t,n){return null==n?function(){delete this[t]}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}:function(){this[t]=n}}function U(t){return"function"==typeof t?t:(t=xa.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var n=this.ownerDocument,e=this.namespaceURI;return e?n.createElementNS(e,t):n.createElement(t)}}function W(){var t=this.parentNode;t&&t.removeChild(this)}function B(t){return{__data__:t}}function Y(t){return function(){return Ra(this,t)}}function Z(t){return arguments.length||(t=s),function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}function X(t,n){for(var e=0,i=t.length;i>e;e++)for(var r,a=t[e],o=0,s=a.length;s>o;o++)(r=a[o])&&n(r,o,e);return t}function V(t){return Da(t,Oa),t}function Q(t){var n,e;return function(i,r,a){var o,s=t[a].update,u=s.length;for(a!=e&&(e=a,n=0),r>=n&&(n=r+1);!(o=s[n])&&++n<u;);return o}}function K(t,n,e){function i(){var n=this[r];n&&(this.removeEventListener(t,n,n.$),delete this[r])}var r="__on"+t,a=t.indexOf("."),o=G;a>0&&(t=t.slice(0,a));var s=Ia.get(t);return s&&(t=s,o=J),a?n?function(){var a=o(n,wa(arguments));i.call(this),this.addEventListener(t,this[r]=a,a.$=e),a._=n}:i:n?S:function(){var n,e=new RegExp("^__on([^.]+)"+xa.requote(t)+"$");for(var i in this)if(n=i.match(e)){var r=this[i];this.removeEventListener(n[1],r,r.$),delete this[i]}}}function G(t,n){return function(e){var i=xa.event;xa.event=e,n[0]=this.__data__;try{t.apply(this,n)}finally{xa.event=i}}}function J(t,n){var e=G(t,n);return function(t){var n=this,i=t.relatedTarget;i&&(i===n||8&i.compareDocumentPosition(n))||e.call(n,t)}}function tt(t){var n=".dragsuppress-"+ ++Wa,e="click"+n,i=xa.select(o(t)).on("touchmove"+n,E).on("dragstart"+n,E).on("selectstart"+n,E);if(null==Ua&&(Ua=!("onselectstart"in t)&&C(t.style,"userSelect")),Ua){var r=a(t).style,s=r[Ua];r[Ua]="none"}return function(t){if(i.on(n,null),Ua&&(r[Ua]=s),t){var a=function(){i.on(e,null)};i.on(e,(function(){E(),a()}),!0),setTimeout(a,0)}}}function nt(t,n){n.changedTouches&&(n=n.changedTouches[0]);var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();if(0>Ba){var r=o(t);if(r.scrollX||r.scrollY){var a=(e=xa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ba=!(a.f||a.e),e.remove()}}return Ba?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function et(){return xa.event.changedTouches[0].identifier}function it(t){return t>0?1:0>t?-1:0}function rt(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function at(t){return t>1?0:-1>t?Xa:Math.acos(t)}function ot(t){return t>1?Ka:-1>t?-Ka:Math.asin(t)}function st(t){return((t=Math.exp(t))+1/t)/2}function ut(t){return(t=Math.sin(t/2))*t}function lt(){}function ct(t,n,e){return this instanceof ct?(this.h=+t,this.s=+n,void(this.l=+e)):arguments.length<2?t instanceof ct?new ct(t.h,t.s,t.l):kt(""+t,Ct,ct):new ct(t,n,e)}function ht(t,n,e){function i(t){return Math.round(255*function(t){return t>360?t-=360:0>t&&(t+=360),60>t?r+(a-r)*t/60:180>t?a:240>t?r+(a-r)*(240-t)/60:r}(t))}var r,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)||0>n?0:n>1?1:n,r=2*(e=0>e?0:e>1?1:e)-(a=.5>=e?e*(1+n):e+n-e*n),new xt(i(t+120),i(t),i(t-120))}function ft(t,n,e){return this instanceof ft?(this.h=+t,this.c=+n,void(this.l=+e)):arguments.length<2?t instanceof ft?new ft(t.h,t.c,t.l):vt(t instanceof pt?t.l:(t=St((t=xa.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ft(t,n,e)}function dt(t,n,e){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),new pt(e,Math.cos(t*=Ga)*n,Math.sin(t)*n)}function pt(t,n,e){return this instanceof pt?(this.l=+t,this.a=+n,void(this.b=+e)):arguments.length<2?t instanceof pt?new pt(t.l,t.a,t.b):t instanceof ft?dt(t.h,t.c,t.l):St((t=xt(t)).r,t.g,t.b):new pt(t,n,e)}function gt(t,n,e){var i=(t+16)/116,r=i+n/500,a=i-e/200;return new xt(yt(3.2404542*(r=mt(r)*so)-1.5371385*(i=mt(i)*uo)-.4985314*(a=mt(a)*lo)),yt(-.969266*r+1.8760108*i+.041556*a),yt(.0556434*r-.2040259*i+1.0572252*a))}function vt(t,n,e){return t>0?new ft(Math.atan2(e,n)*Ja,Math.sqrt(n*n+e*e),t):new ft(NaN,NaN,t)}function mt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function _t(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function yt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function xt(t,n,e){return this instanceof xt?(this.r=~~t,this.g=~~n,void(this.b=~~e)):arguments.length<2?t instanceof xt?new xt(t.r,t.g,t.b):kt(""+t,xt,ht):new xt(t,n,e)}function bt(t){return new xt(t>>16,t>>8&255,255&t)}function wt(t){return bt(t)+""}function Mt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function kt(t,n,e){var i,r,a,o=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return e(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return n(Ft(r[0]),Ft(r[1]),Ft(r[2]))}return(a=fo.get(t.toLowerCase()))?n(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,u=15&a,u|=u<<4):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,u=255&a)),n(o,s,u))}function Ct(t,n,e){var i,r,a=Math.min(t/=255,n/=255,e/=255),o=Math.max(t,n,e),s=o-a,u=(o+a)/2;return s?(r=.5>u?s/(o+a):s/(2-o-a),i=t==o?(n-e)/s+(e>n?6:0):n==o?(e-t)/s+2:(t-n)/s+4,i*=60):(i=NaN,r=u>0&&1>u?0:i),new ct(i,r,u)}function St(t,n,e){var i=_t((.4124564*(t=At(t))+.3575761*(n=At(n))+.1804375*(e=At(e)))/so),r=_t((.2126729*t+.7151522*n+.072175*e)/uo);return pt(116*r-16,500*(i-r),200*(r-_t((.0193339*t+.119192*n+.9503041*e)/lo)))}function At(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ft(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}function Et(t){return"function"==typeof t?t:function(){return t}}function Tt(t){return function(n,e,i){return 2===arguments.length&&"function"==typeof e&&(i=e,e=null),Nt(n,e,t,i)}}function Nt(t,n,e,i){function r(){var t,n=u.status;if(!n&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(u)||n>=200&&300>n||304===n){try{t=e.call(a,u)}catch(t){return void o.error.call(a,t)}o.load.call(a,t)}else o.error.call(a,u)}var a={},o=xa.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=r:u.onreadystatechange=function(){u.readyState>3&&r()},u.onprogress=function(t){var n=xa.event;xa.event=t;try{o.progress.call(a,u)}finally{xa.event=n}},a.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==n?delete s[t]:s[t]=n+"",a)},a.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",a):n},a.responseType=function(t){return arguments.length?(l=t,a):l},a.response=function(t){return e=t,a},["get","post"].forEach((function(t){a[t]=function(){return a.send.apply(a,[t].concat(wa(arguments)))}})),a.send=function(e,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),u.open(e,t,!0),null==n||"accept"in s||(s.accept=n+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=n&&u.overrideMimeType&&u.overrideMimeType(n),null!=l&&(u.responseType=l),null!=r&&a.on("error",r).on("load",(function(t){r(null,t)})),o.beforesend.call(a,u),u.send(null==i?null:i),a},a.abort=function(){return u.abort(),a},xa.rebind(a,o,"on"),null==i?a:a.get(function(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}(i))}function zt(){var t=jt(),n=qt()-t;n>24?(isFinite(n)&&(clearTimeout(mo),mo=setTimeout(zt,n)),vo=0):(vo=1,yo(zt))}function jt(){var t=Date.now();for(_o=po;_o;)t>=_o.t&&(_o.f=_o.c(t-_o.t)),_o=_o.n;return t}function qt(){for(var t,n=po,e=1/0;n;)n.f?n=t?t.n=n.n:po=n.n:(n.t<e&&(e=n.t),n=(t=n).n);return go=t,e}function Dt(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function $t(t){var n=t.decimal,e=t.thousands,i=t.grouping,r=t.currency,a=i&&e?function(t,n){for(var r=t.length,a=[],o=0,s=i[0],u=0;r>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),a.push(t.substring(r-=s,r+s)),!((u+=s+1)>n));)s=i[o=(o+1)%i.length];return a.reverse().join(e)}:M;return function(t){var e=bo.exec(t),i=e[1]||" ",o=e[2]||">",s=e[3]||"-",u=e[4]||"",l=e[5],c=+e[6],h=e[7],f=e[8],d=e[9],p=1,g="",v="",m=!1,_=!0;switch(f&&(f=+f.substring(1)),(l||"0"===i&&"="===o)&&(l=i="0",o="="),d){case"n":h=!0,d="g";break;case"%":p=100,v="%",d="f";break;case"p":p=100,v="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+d.toLowerCase());case"c":_=!1;case"d":m=!0,f=0;break;case"s":p=-1,d="r"}"$"===u&&(g=r[0],v=r[1]),"r"!=d||f||(d="g"),null!=f&&("g"==d?f=Math.max(1,Math.min(21,f)):("e"==d||"f"==d)&&(f=Math.max(0,Math.min(20,f)))),d=wo.get(d)||Lt;var y=l&&h;return function(t){var e=v;if(m&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var u=xa.formatPrefix(t,f);t=u.scale(t),e=u.symbol+v}else t*=p;var x,b,w=(t=d(t,f)).lastIndexOf(".");if(0>w){var M=_?t.lastIndexOf("e"):-1;0>M?(x=t,b=""):(x=t.substring(0,M),b=t.substring(M))}else x=t.substring(0,w),b=n+t.substring(w+1);!l&&h&&(x=a(x,1/0));var k=g.length+x.length+b.length+(y?0:r.length),C=c>k?new Array(k=c-k+1).join(i):"";return y&&(x=a(C+x,C.length?c-b.length:1/0)),r+=g,t=x+b,("<"===o?r+t+C:">"===o?C+r+t:"^"===o?C.substring(0,k>>=1)+r+t+C.substring(k):r+(y?t:C+t))+e}}}function Lt(t){return t+""}function Rt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ht(t,n,e){function i(n){var e=t(n),i=a(e,1);return i-n>n-e?e:i}function r(e){return n(e=t(new ko(e-1)),1),e}function a(t,e){return n(t=new ko(+t),e),t}function o(t,i,a){var o=r(t),s=[];if(a>1)for(;i>o;)e(o)%a||s.push(new Date(+o)),n(o,1);else for(;i>o;)s.push(new Date(+o)),n(o,1);return s}t.floor=t,t.round=i,t.ceil=r,t.offset=a,t.range=o;var s=t.utc=Pt(t);return s.floor=s,s.round=Pt(i),s.ceil=Pt(r),s.offset=Pt(a),s.range=function(t,n,e){try{ko=Rt;var i=new Rt;return i._=t,o(i,n,e)}finally{ko=Date}},t}function Pt(t){return function(n,e){try{ko=Rt;var i=new Rt;return i._=n,t(i,e)._}finally{ko=Date}}}function Ot(t){function n(t){function n(n){for(var e,r,a,o=[],s=-1,u=0;++s<i;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(r=So[e=t.charAt(++s)])&&(e=t.charAt(++s)),(a=x[e])&&(e=a(n,null==r?"e"===e?" ":"0":r)),o.push(e),u=s+1);return o.push(t.slice(u,s)),o.join("")}var i=t.length;return n.parse=function(n){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(e(i,t,n,0)!=n.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var r=null!=i.Z&&ko!==Rt,a=new(r?Rt:ko);return"j"in i?a.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(a.setFullYear(i.y,0,1),a.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(a.getDay()+5)%7:i.w+7*i.U-(a.getDay()+6)%7)):a.setFullYear(i.y,i.m,i.d),a.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),r?a._:a},n.toString=function(){return t},n}function e(t,n,e,i){for(var r,a,o,s=0,u=n.length,l=e.length;u>s;){if(i>=l)return-1;if(37===(r=n.charCodeAt(s++))){if(o=n.charAt(s++),!(a=b[o in So?n.charAt(s++):o])||(i=a(t,e,i))<0)return-1}else if(r!=e.charCodeAt(i++))return-1}return i}var i=t.dateTime,r=t.date,a=t.time,o=t.periods,s=t.days,u=t.shortDays,l=t.months,c=t.shortMonths;n.utc=function(t){function e(t){try{var n=new(ko=Rt);return n._=t,i(n)}finally{ko=Date}}var i=n(t);return e.parse=function(t){try{ko=Rt;var n=i.parse(t);return n&&n._}finally{ko=Date}},e.toString=i.toString,e},n.multi=n.utc.multi=sn;var h=xa.map(),f=Ut(s),d=Wt(s),p=Ut(u),g=Wt(u),v=Ut(l),m=Wt(l),_=Ut(c),y=Wt(c);o.forEach((function(t,n){h.set(t.toLowerCase(),n)}));var x={a:function(t){return u[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:n(i),d:function(t,n){return It(t.getDate(),n,2)},e:function(t,n){return It(t.getDate(),n,2)},H:function(t,n){return It(t.getHours(),n,2)},I:function(t,n){return It(t.getHours()%12||12,n,2)},j:function(t,n){return It(1+Mo.dayOfYear(t),n,3)},L:function(t,n){return It(t.getMilliseconds(),n,3)},m:function(t,n){return It(t.getMonth()+1,n,2)},M:function(t,n){return It(t.getMinutes(),n,2)},p:function(t){return o[+(t.getHours()>=12)]},S:function(t,n){return It(t.getSeconds(),n,2)},U:function(t,n){return It(Mo.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return It(Mo.mondayOfYear(t),n,2)},x:n(r),X:n(a),y:function(t,n){return It(t.getFullYear()%100,n,2)},Y:function(t,n){return It(t.getFullYear()%1e4,n,4)},Z:an,"%":function(){return"%"}},b={a:function(t,n,e){p.lastIndex=0;var i=p.exec(n.slice(e));return i?(t.w=g.get(i[0].toLowerCase()),e+i[0].length):-1},A:function(t,n,e){f.lastIndex=0;var i=f.exec(n.slice(e));return i?(t.w=d.get(i[0].toLowerCase()),e+i[0].length):-1},b:function(t,n,e){_.lastIndex=0;var i=_.exec(n.slice(e));return i?(t.m=y.get(i[0].toLowerCase()),e+i[0].length):-1},B:function(t,n,e){v.lastIndex=0;var i=v.exec(n.slice(e));return i?(t.m=m.get(i[0].toLowerCase()),e+i[0].length):-1},c:function(t,n,i){return e(t,x.c.toString(),n,i)},d:Gt,e:Gt,H:tn,I:tn,j:Jt,L:rn,m:Kt,M:nn,p:function(t,n,e){var i=h.get(n.slice(e,e+=2).toLowerCase());return null==i?-1:(t.p=i,e)},S:en,U:Yt,w:Bt,W:Zt,x:function(t,n,i){return e(t,x.x.toString(),n,i)},X:function(t,n,i){return e(t,x.X.toString(),n,i)},y:Vt,Y:Xt,Z:Qt,"%":on};return n}function It(t,n,e){var i=0>t?"-":"",r=(i?-t:t)+"",a=r.length;return i+(e>a?new Array(e-a+1).join(n)+r:r)}function Ut(t){return new RegExp("^(?:"+t.map(xa.requote).join("|")+")","i")}function Wt(t){for(var n=new p,e=-1,i=t.length;++e<i;)n.set(t[e].toLowerCase(),e);return n}function Bt(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e,e+1));return i?(t.w=+i[0],e+i[0].length):-1}function Yt(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e));return i?(t.U=+i[0],e+i[0].length):-1}function Zt(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e));return i?(t.W=+i[0],e+i[0].length):-1}function Xt(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e,e+4));return i?(t.y=+i[0],e+i[0].length):-1}function Vt(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e,e+2));return i?(t.y=function(t){return t+(t>68?1900:2e3)}(+i[0]),e+i[0].length):-1}function Qt(t,n,e){return/^[+-]\d{4}$/.test(n=n.slice(e,e+5))?(t.Z=-n,e+5):-1}function Kt(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e,e+2));return i?(t.m=i[0]-1,e+i[0].length):-1}function Gt(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e,e+2));return i?(t.d=+i[0],e+i[0].length):-1}function Jt(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e,e+3));return i?(t.j=+i[0],e+i[0].length):-1}function tn(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e,e+2));return i?(t.H=+i[0],e+i[0].length):-1}function nn(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e,e+2));return i?(t.M=+i[0],e+i[0].length):-1}function en(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e,e+2));return i?(t.S=+i[0],e+i[0].length):-1}function rn(t,n,e){Ao.lastIndex=0;var i=Ao.exec(n.slice(e,e+3));return i?(t.L=+i[0],e+i[0].length):-1}function an(t){var n=t.getTimezoneOffset(),e=n>0?"-":"+",i=Ta(n)/60|0,r=Ta(n)%60;return e+It(i,"0",2)+It(r,"0",2)}function on(t,n,e){Fo.lastIndex=0;var i=Fo.exec(n.slice(e,e+1));return i?e+i[0].length:-1}function sn(t){for(var n=t.length,e=-1;++e<n;)t[e][0]=this(t[e][0]);return function(n){for(var e=0,i=t[e];!i[1](n);)i=t[++e];return i[0](n)}}function un(){}function ln(t,n,e){var i=e.s=t+n,r=i-t,a=i-r;e.t=t-a+(n-r)}function cn(t,n){t&&zo.hasOwnProperty(t.type)&&zo[t.type](t,n)}function hn(t,n,e){var i,r=-1,a=t.length-e;for(n.lineStart();++r<a;)i=t[r],n.point(i[0],i[1],i[2]);n.lineEnd()}function fn(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)hn(t[e],n,1);n.polygonEnd()}function dn(){function t(t,n){n=n*Ga/2+Xa/4;var e=(t*=Ga)-i,o=e>=0?1:-1,s=o*e,u=Math.cos(n),l=Math.sin(n),c=a*l,h=r*u+c*Math.cos(s),f=c*o*Math.sin(s);qo.add(Math.atan2(f,h)),i=t,r=u,a=l}var n,e,i,r,a;Do.point=function(o,s){Do.point=t,i=(n=o)*Ga,r=Math.cos(s=(e=s)*Ga/2+Xa/4),a=Math.sin(s)},Do.lineEnd=function(){t(n,e)}}function pn(t){var n=t[0],e=t[1],i=Math.cos(e);return[i*Math.cos(n),i*Math.sin(n),Math.sin(e)]}function gn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function vn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function mn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function _n(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function yn(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function xn(t){return[Math.atan2(t[1],t[0]),ot(t[2])]}function bn(t,n){return Ta(t[0]-n[0])<Ya&&Ta(t[1]-n[1])<Ya}function wn(t,n){t*=Ga;var e=Math.cos(n*=Ga);Mn(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function Mn(t,n,e){++$o,Ro+=(t-Ro)/$o,Ho+=(n-Ho)/$o,Po+=(e-Po)/$o}function kn(){function t(t,r){t*=Ga;var a=Math.cos(r*=Ga),o=a*Math.cos(t),s=a*Math.sin(t),u=Math.sin(r),l=Math.atan2(Math.sqrt((l=e*u-i*s)*l+(l=i*o-n*u)*l+(l=n*s-e*o)*l),n*o+e*s+i*u);Lo+=l,Oo+=l*(n+(n=o)),Io+=l*(e+(e=s)),Uo+=l*(i+(i=u)),Mn(n,e,i)}var n,e,i;Zo.point=function(r,a){r*=Ga;var o=Math.cos(a*=Ga);n=o*Math.cos(r),e=o*Math.sin(r),i=Math.sin(a),Zo.point=t,Mn(n,e,i)}}function Cn(){Zo.point=wn}function Sn(){function t(t,n){t*=Ga;var e=Math.cos(n*=Ga),o=e*Math.cos(t),s=e*Math.sin(t),u=Math.sin(n),l=r*u-a*s,c=a*o-i*u,h=i*s-r*o,f=Math.sqrt(l*l+c*c+h*h),d=i*o+r*s+a*u,p=f&&-at(d)/f,g=Math.atan2(f,d);Wo+=p*l,Bo+=p*c,Yo+=p*h,Lo+=g,Oo+=g*(i+(i=o)),Io+=g*(r+(r=s)),Uo+=g*(a+(a=u)),Mn(i,r,a)}var n,e,i,r,a;Zo.point=function(o,s){n=o,e=s,Zo.point=t,o*=Ga;var u=Math.cos(s*=Ga);i=u*Math.cos(o),r=u*Math.sin(o),a=Math.sin(s),Mn(i,r,a)},Zo.lineEnd=function(){t(n,e),Zo.lineEnd=Cn,Zo.point=wn}}function An(t,n){function e(e,i){return e=t(e,i),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,i){return(e=n.invert(e,i))&&t.invert(e[0],e[1])}),e}function Fn(){return!0}function En(t,n,e,i,r){var a=[],o=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e=t[0],i=t[n];if(bn(e,i)){r.lineStart();for(var s=0;n>s;++s)r.point((e=t[s])[0],e[1]);return void r.lineEnd()}var u=new Nn(e,t,null,!0),l=new Nn(e,null,u,!1);u.o=l,a.push(u),o.push(l),u=new Nn(i,t,null,!1),l=new Nn(i,null,u,!0),u.o=l,a.push(u),o.push(l)}})),o.sort(n),Tn(a),Tn(o),a.length){for(var s=0,u=e,l=o.length;l>s;++s)o[s].e=u=!u;for(var c,h,f=a[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(s=0,l=c.length;l>s;++s)r.point((h=c[s])[0],h[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(p)for(s=(c=d.p.z).length-1;s>=0;--s)r.point((h=c[s])[0],h[1]);else i(d.x,d.p.x,-1,r);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);r.lineEnd()}}}function Tn(t){if(n=t.length){for(var n,e,i=0,r=t[0];++i<n;)r.n=e=t[i],e.p=r,r=e;r.n=e=t[0],e.p=r}}function Nn(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function zn(t,n,e,i){return function(r,a){function o(n,e){var i=r(n,e);t(n=i[0],e=i[1])&&a.point(n,e)}function s(t,n){var e=r(t,n);v.point(e[0],e[1])}function u(){_.point=s,v.lineStart()}function l(){_.point=o,v.lineEnd()}function c(t,n){g.push([t,n]);var e=r(t,n);x.point(e[0],e[1])}function h(){x.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),x.lineEnd();var t,n=x.clean(),e=y.buffer(),i=e.length;if(g.pop(),p.push(g),g=null,i)if(1&n){var r,o=-1;if((i=(t=e[0]).length-1)>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else i>1&&2&n&&e.push(e.pop().concat(e.shift())),d.push(e.filter(jn))}var d,p,g,v=n(a),m=r.invert(i[0],i[1]),_={point:o,lineStart:u,lineEnd:l,polygonStart:function(){_.point=c,_.lineStart=h,_.lineEnd=f,d=[],p=[]},polygonEnd:function(){_.point=o,_.lineStart=u,_.lineEnd=l,d=xa.merge(d);var t=function(t,n){var e=t[0],i=t[1],r=[Math.sin(e),-Math.cos(e),0],a=0,o=0;qo.reset();for(var s=0,u=n.length;u>s;++s){var l=n[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+Xa/4,p=Math.sin(d),g=Math.cos(d),v=1;;){v===c&&(v=0);var m=(t=l[v])[0],_=t[1]/2+Xa/4,y=Math.sin(_),x=Math.cos(_),b=m-f,w=b>=0?1:-1,M=w*b,k=M>Xa,C=p*y;if(qo.add(Math.atan2(C*w*Math.sin(M),g*x+C*Math.cos(M))),a+=k?b+w*Va:b,k^f>=e^m>=e){var S=vn(pn(h),pn(t));yn(S);var A=vn(r,S);yn(A);var F=(k^b>=0?-1:1)*ot(A[2]);(i>F||i===F&&(S[0]||S[1]))&&(o+=k^b>=0?1:-1)}if(!v++)break;f=m,p=y,g=x,h=t}}return(-Ya>a||Ya>a&&0>qo)^1&o}(m,p);d.length?(b||(a.polygonStart(),b=!0),En(d,Dn,t,e,a)):t&&(b||(a.polygonStart(),b=!0),a.lineStart(),e(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),d=p=null},sphere:function(){a.polygonStart(),a.lineStart(),e(null,null,1,a),a.lineEnd(),a.polygonEnd()}},y=qn(),x=n(y),b=!1;return _}}function jn(t){return t.length>1}function qn(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:S,buffer:function(){var e=n;return n=[],t=null,e},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function Dn(t,n){return((t=t.x)[0]<0?t[1]-Ka-Ya:Ka-t[1])-((n=n.x)[0]<0?n[1]-Ka-Ya:Ka-n[1])}function $n(t){function n(t,n){return Math.cos(t)*Math.cos(n)>r}function e(t,n,e){var i=[1,0,0],a=vn(pn(t),pn(n)),o=gn(a,a),s=a[0],u=o-s*s;if(!u)return!e&&t;var l=r*o/u,c=-r*s/u,h=vn(i,a),f=_n(i,l);mn(f,_n(a,c));var d=h,p=gn(f,d),g=gn(d,d),v=p*p-g*(gn(f,f)-1);if(!(0>v)){var m=Math.sqrt(v),_=_n(d,(-p-m)/g);if(mn(_,f),_=xn(_),!e)return _;var y,x=t[0],b=n[0],w=t[1],M=n[1];x>b&&(y=x,x=b,b=y);var k=b-x,C=Ta(k-Xa)<Ya;if(!C&&w>M&&(y=w,w=M,M=y),C||Ya>k?C?w+M>0^_[1]<(Ta(_[0]-x)<Ya?w:M):w<=_[1]&&_[1]<=M:k>Xa^(x<=_[0]&&_[0]<=b)){var S=_n(d,(-p+m)/g);return mn(S,f),[_,xn(S)]}}}function i(n,e){var i=a?t:Xa-t,r=0;return-i>n?r|=1:n>i&&(r|=2),-i>e?r|=4:e>i&&(r|=8),r}var r=Math.cos(t),a=r>0,o=Ta(r)>Ya;return zn(n,(function(t){var r,s,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var d,p=[h,f],g=n(h,f),v=a?g?0:i(h,f):g?i(h+(0>h?Xa:-Xa),f):0;if(!r&&(l=u=g)&&t.lineStart(),g!==u&&(d=e(r,p),(bn(r,d)||bn(p,d))&&(p[0]+=Ya,p[1]+=Ya,g=n(p[0],p[1]))),g!==u)c=0,g?(t.lineStart(),d=e(p,r),t.point(d[0],d[1])):(d=e(r,p),t.point(d[0],d[1]),t.lineEnd()),r=d;else if(o&&r&&a^g){var m;v&s||!(m=e(p,r,!0))||(c=0,a?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||r&&bn(r,p)||t.point(p[0],p[1]),r=p,u=g,s=v},lineEnd:function(){u&&t.lineEnd(),r=null},clean:function(){return c|(l&&u)<<1}}}),ue(t,6*Ga),a?[0,-t]:[-Xa,t-Xa])}function Ln(t,n,e,i){return function(r){var a,o=r.a,s=r.b,u=o.x,l=o.y,c=0,h=1,f=s.x-u,d=s.y-l;if(a=t-u,f||!(a>0)){if(a/=f,0>f){if(c>a)return;h>a&&(h=a)}else if(f>0){if(a>h)return;a>c&&(c=a)}if(a=e-u,f||!(0>a)){if(a/=f,0>f){if(a>h)return;a>c&&(c=a)}else if(f>0){if(c>a)return;h>a&&(h=a)}if(a=n-l,d||!(a>0)){if(a/=d,0>d){if(c>a)return;h>a&&(h=a)}else if(d>0){if(a>h)return;a>c&&(c=a)}if(a=i-l,d||!(0>a)){if(a/=d,0>d){if(a>h)return;a>c&&(c=a)}else if(d>0){if(c>a)return;h>a&&(h=a)}return c>0&&(r.a={x:u+c*f,y:l+c*d}),1>h&&(r.b={x:u+h*f,y:l+h*d}),r}}}}}}function Rn(t,n,e,i){function r(i,r){return Ta(i[0]-t)<Ya?r>0?0:3:Ta(i[0]-e)<Ya?r>0?2:1:Ta(i[1]-n)<Ya?r>0?1:0:r>0?3:2}function a(t,n){return o(t.x,n.x)}function o(t,n){var e=r(t,1),i=r(n,1);return e!==i?e-i:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(s){function u(a,s,u,l){var c=0,h=0;if(null==a||(c=r(a,u))!==(h=r(s,u))||o(a,s)<0^u>0)do{l.point(0===c||3===c?t:e,c>1?i:n)}while((c=(c+u+4)%4)!==h);else l.point(s[0],s[1])}function l(r,a){return r>=t&&e>=r&&a>=n&&i>=a}function c(t,n){l(t,n)&&s.point(t,n)}function h(t,n){var e=l(t=Math.max(-Vo,Math.min(Vo,t)),n=Math.max(-Vo,Math.min(Vo,n)));if(d&&p.push([t,n]),b)g=t,v=n,m=e,b=!1,e&&(s.lineStart(),s.point(t,n));else if(e&&x)s.point(t,n);else{var i={a:{x:_,y},b:{x:t,y:n}};C(i)?(x||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),e||s.lineEnd(),w=!1):e&&(s.lineStart(),s.point(t,n),w=!1)}_=t,y=n,x=e}var f,d,p,g,v,m,_,y,x,b,w,M=s,k=qn(),C=Ln(t,n,e,i),S={point:c,lineStart:function(){S.point=h,d&&d.push(p=[]),b=!0,x=!1,_=y=NaN},lineEnd:function(){f&&(h(g,v),m&&x&&k.rejoin(),f.push(k.buffer())),S.point=c,x&&s.lineEnd()},polygonStart:function(){s=k,f=[],d=[],w=!0},polygonEnd:function(){s=M,f=xa.merge(f);var n=function(t){for(var n=0,e=d.length,i=t[1],r=0;e>r;++r)for(var a,o=1,s=d[r],u=s.length,l=s[0];u>o;++o)a=s[o],l[1]<=i?a[1]>i&&rt(l,a,t)>0&&++n:a[1]<=i&&rt(l,a,t)<0&&--n,l=a;return 0!==n}([t,i]),e=w&&n,r=f.length;(e||r)&&(s.polygonStart(),e&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),r&&En(f,a,n,u,s),s.polygonEnd()),f=d=p=null}};return S}}function Hn(t){var n=0,e=Xa/3,i=te(t),r=i(n,e);return r.parallels=function(t){return arguments.length?i(n=t[0]*Xa/180,e=t[1]*Xa/180):[n/Xa*180,e/Xa*180]},r}function Pn(t,n){function e(t,n){var e=Math.sqrt(a-2*r*Math.sin(n))/r;return[e*Math.sin(t*=r),o-e*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(n))/2,a=1+i*(2*r-i),o=Math.sqrt(a)/r;return e.invert=function(t,n){var e=o-n;return[Math.atan2(t,e)/r,ot((a-(t*t+e*e)*r*r)/(2*r))]},e}function On(){function t(t,n){Ko+=r*t-i*n,i=t,r=n}var n,e,i,r;es.point=function(a,o){es.point=t,n=i=a,e=r=o},es.lineEnd=function(){t(n,e)}}function In(){function t(t,n){o.push("M",t,",",n,a)}function n(t,n){o.push("M",t,",",n),s.point=e}function e(t,n){o.push("L",t,",",n)}function i(){s.point=t}function r(){o.push("Z")}var a=Un(4.5),o=[],s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=Un(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Un(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Wn(t,n){Ro+=t,Ho+=n,++Po}function Bn(){function t(t,i){var r=t-n,a=i-e,o=Math.sqrt(r*r+a*a);Oo+=o*(n+t)/2,Io+=o*(e+i)/2,Uo+=o,Wn(n=t,e=i)}var n,e;rs.point=function(i,r){rs.point=t,Wn(n=i,e=r)}}function Yn(){rs.point=Wn}function Zn(){function t(t,n){var e=t-i,a=n-r,o=Math.sqrt(e*e+a*a);Oo+=o*(i+t)/2,Io+=o*(r+n)/2,Uo+=o,Wo+=(o=r*t-i*n)*(i+t),Bo+=o*(r+n),Yo+=3*o,Wn(i=t,r=n)}var n,e,i,r;rs.point=function(a,o){rs.point=t,Wn(n=i=a,e=r=o)},rs.lineEnd=function(){t(n,e)}}function Xn(t){function n(n,e){t.moveTo(n+o,e),t.arc(n,e,o,0,Va)}function e(n,e){t.moveTo(n,e),s.point=i}function i(n,e){t.lineTo(n,e)}function r(){s.point=n}function a(){t.closePath()}var o=4.5,s={point:n,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=r,s.point=n},pointRadius:function(t){return o=t,s},result:S};return s}function Vn(t){function n(t){return(s?i:e)(t)}function e(n){return Gn(n,(function(e,i){e=t(e,i),n.point(e[0],e[1])}))}function i(n){function e(e,i){e=t(e,i),n.point(e[0],e[1])}function i(){_=NaN,M.point=a,n.lineStart()}function a(e,i){var a=pn([e,i]),o=t(e,i);r(_,y,m,x,b,w,_=o[0],y=o[1],m=e,x=a[0],b=a[1],w=a[2],s,n),n.point(_,y)}function o(){M.point=e,n.lineEnd()}function u(){i(),M.point=l,M.lineEnd=c}function l(t,n){a(h=t,n),f=_,d=y,p=x,g=b,v=w,M.point=a}function c(){r(_,y,m,x,b,w,f,d,h,p,g,v,s,n),M.lineEnd=o,o()}var h,f,d,p,g,v,m,_,y,x,b,w,M={point:e,lineStart:i,lineEnd:o,polygonStart:function(){n.polygonStart(),M.lineStart=u},polygonEnd:function(){n.polygonEnd(),M.lineStart=i}};return M}function r(n,e,i,s,u,l,c,h,f,d,p,g,v,m){var _=c-n,y=h-e,x=_*_+y*y;if(x>4*a&&v--){var b=s+d,w=u+p,M=l+g,k=Math.sqrt(b*b+w*w+M*M),C=Math.asin(M/=k),S=Ta(Ta(M)-1)<Ya||Ta(i-f)<Ya?(i+f)/2:Math.atan2(w,b),A=t(S,C),F=A[0],E=A[1],T=F-n,N=E-e,z=y*T-_*N;(z*z/x>a||Ta((_*T+y*N)/x-.5)>.3||o>s*d+u*p+l*g)&&(r(n,e,i,s,u,l,F,E,S,b/=k,w/=k,M,v,m),m.point(F,E),r(F,E,S,b,w,M,c,h,f,d,p,g,v,m))}}var a=.5,o=Math.cos(30*Ga),s=16;return n.precision=function(t){return arguments.length?(s=(a=t*t)>0&&16,n):Math.sqrt(a)},n}function Qn(t){var n=Vn((function(n,e){return t([n*Ja,e*Ja])}));return function(t){return ne(n(t))}}function Kn(t){this.stream=t}function Gn(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Jn(t){return te((function(){return t}))()}function te(t){function n(t){return[(t=s(t[0]*Ga,t[1]*Ga))[0]*f+u,l-t[1]*f]}function e(t){return(t=s.invert((t[0]-u)/f,(l-t[1])/f))&&[t[0]*Ja,t[1]*Ja]}function i(){s=An(o=re(m,_,y),a);var t=a(g,v);return u=d-t[0]*f,l=p+t[1]*f,r()}function r(){return c&&(c.valid=!1,c=null),n}var a,o,s,u,l,c,h=Vn((function(t,n){return[(t=a(t,n))[0]*f+u,l-t[1]*f]})),f=150,d=480,p=250,g=0,v=0,m=0,_=0,y=0,x=Xo,b=M,w=null,k=null;return n.stream=function(t){return c&&(c.valid=!1),(c=ne(x(o,h(b(t))))).valid=!0,c},n.clipAngle=function(t){return arguments.length?(x=null==t?(w=t,Xo):$n((w=+t)*Ga),r()):w},n.clipExtent=function(t){return arguments.length?(k=t,b=t?Rn(t[0][0],t[0][1],t[1][0],t[1][1]):M,r()):k},n.scale=function(t){return arguments.length?(f=+t,i()):f},n.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],i()):[d,p]},n.center=function(t){return arguments.length?(g=t[0]%360*Ga,v=t[1]%360*Ga,i()):[g*Ja,v*Ja]},n.rotate=function(t){return arguments.length?(m=t[0]%360*Ga,_=t[1]%360*Ga,y=t.length>2?t[2]%360*Ga:0,i()):[m*Ja,_*Ja,y*Ja]},xa.rebind(n,h,"precision"),function(){return a=t.apply(this,arguments),n.invert=a.invert&&e,i()}}function ne(t){return Gn(t,(function(n,e){t.point(n*Ga,e*Ga)}))}function ee(t,n){return[t,n]}function ie(t,n){return[t>Xa?t-Va:-Xa>t?t+Va:t,n]}function re(t,n,e){return t?n||e?An(oe(t),se(n,e)):oe(t):n||e?se(n,e):ie}function ae(t){return function(n,e){return[(n+=t)>Xa?n-Va:-Xa>n?n+Va:n,e]}}function oe(t){var n=ae(t);return n.invert=ae(-t),n}function se(t,n){function e(t,n){var e=Math.cos(n),s=Math.cos(t)*e,u=Math.sin(t)*e,l=Math.sin(n),c=l*i+s*r;return[Math.atan2(u*a-c*o,s*i-l*r),ot(c*a+u*o)]}var i=Math.cos(t),r=Math.sin(t),a=Math.cos(n),o=Math.sin(n);return e.invert=function(t,n){var e=Math.cos(n),s=Math.cos(t)*e,u=Math.sin(t)*e,l=Math.sin(n),c=l*a-u*o;return[Math.atan2(u*a+l*o,s*i+c*r),ot(c*i-s*r)]},e}function ue(t,n){var e=Math.cos(t),i=Math.sin(t);return function(r,a,o,s){var u=o*n;null!=r?(r=le(e,r),a=le(e,a),(o>0?a>r:r>a)&&(r+=o*Va)):(r=t+o*Va,a=t-.5*u);for(var l,c=r;o>0?c>a:a>c;c-=u)s.point((l=xn([e,-i*Math.cos(c),-i*Math.sin(c)]))[0],l[1])}}function le(t,n){var e=pn(n);e[0]-=t,yn(e);var i=at(-e[1]);return((-e[2]<0?-i:i)+2*Math.PI-Ya)%(2*Math.PI)}function ce(t,n,e){var i=xa.range(t,n-Ya,e).concat(n);return function(t){return i.map((function(n){return[t,n]}))}}function he(t,n,e){var i=xa.range(t,n-Ya,e).concat(n);return function(t){return i.map((function(n){return[n,t]}))}}function fe(t){return t.source}function de(t){return t.target}function pe(t,n){function e(n,e){var i=Math.cos(n),r=Math.cos(e),a=t(i*r);return[a*r*Math.sin(n),a*Math.sin(e)]}return e.invert=function(t,e){var i=Math.sqrt(t*t+e*e),r=n(i),a=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*a,i*o),Math.asin(i&&e*a/i)]},e}function ge(t,n){function e(t,n){o>0?-Ka+Ya>n&&(n=-Ka+Ya):n>Ka-Ya&&(n=Ka-Ya);var e=o/Math.pow(r(n),a);return[e*Math.sin(a*t),o-e*Math.cos(a*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Xa/4+t/2)},a=t===n?Math.sin(t):Math.log(i/Math.cos(n))/Math.log(r(n)/r(t)),o=i*Math.pow(r(t),a)/a;return a?(e.invert=function(t,n){var e=o-n,i=it(a)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/a,2*Math.atan(Math.pow(o/i,1/a))-Ka]},e):me}function ve(t,n){function e(t,n){var e=a-n;return[e*Math.sin(r*t),a-e*Math.cos(r*t)]}var i=Math.cos(t),r=t===n?Math.sin(t):(i-Math.cos(n))/(n-t),a=i/r+t;return Ta(r)<Ya?ee:(e.invert=function(t,n){var e=a-n;return[Math.atan2(t,e)/r,a-it(r)*Math.sqrt(t*t+e*e)]},e)}function me(t,n){return[t,Math.log(Math.tan(Xa/4+n/2))]}function _e(t){var n,e=Jn(t),i=e.scale,r=e.translate,a=e.clipExtent;return e.scale=function(){var t=i.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.translate=function(){var t=r.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.clipExtent=function(t){var o=a.apply(e,arguments);if(o===e){if(n=null==t){var s=Xa*i(),u=r();a([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else n&&(o=null);return o},e.clipExtent(null)}function ye(t,n){return[Math.log(Math.tan(Xa/4+n/2)),-t]}function xe(t){return t[0]}function be(t){return t[1]}function we(t){for(var n=t.length,e=[0,1],i=2,r=2;n>r;r++){for(;i>1&&rt(t[e[i-2]],t[e[i-1]],t[r])<=0;)--i;e[i++]=r}return e.slice(0,i)}function Me(t,n){return t[0]-n[0]||t[1]-n[1]}function ke(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function Ce(t,n,e,i){var r=t[0],a=e[0],o=n[0]-r,s=i[0]-a,u=t[1],l=e[1],c=n[1]-u,h=i[1]-l,f=(s*(u-l)-h*(r-a))/(h*o-s*c);return[r+f*o,u+f*c]}function Se(t){var n=t[0],e=t[t.length-1];return!(n[0]-e[0]||n[1]-e[1])}function Ae(){Ye(this),this.edge=this.site=this.circle=null}function Fe(t){var n=_s.pop()||new Ae;return n.site=t,n}function Ee(t){Re(t),gs.remove(t),_s.push(t),Ye(t)}function Te(t){var n=t.circle,e=n.x,i=n.cy,r={x:e,y:i},a=t.P,o=t.N,s=[t];Ee(t);for(var u=a;u.circle&&Ta(e-u.circle.x)<Ya&&Ta(i-u.circle.cy)<Ya;)a=u.P,s.unshift(u),Ee(u),u=a;s.unshift(u),Re(u);for(var l=o;l.circle&&Ta(e-l.circle.x)<Ya&&Ta(i-l.circle.cy)<Ya;)o=l.N,s.push(l),Ee(l),l=o;s.push(l),Re(l);var c,h=s.length;for(c=1;h>c;++c)l=s[c],u=s[c-1],Ue(l.edge,u.site,l.site,r);u=s[0],(l=s[h-1]).edge=Oe(u.site,l.site,null,r),Le(u),Le(l)}function Ne(t){for(var n,e,i,r,a=t.x,o=t.y,s=gs._;s;)if((i=ze(s,o)-a)>Ya)s=s.L;else{if(!((r=a-je(s,o))>Ya)){i>-Ya?(n=s.P,e=s):r>-Ya?(n=s,e=s.N):n=e=s;break}if(!s.R){n=s;break}s=s.R}var u=Fe(t);if(gs.insert(n,u),n||e){if(n===e)return Re(n),e=Fe(n.site),gs.insert(u,e),u.edge=e.edge=Oe(n.site,u.site),Le(n),void Le(e);if(!e)return void(u.edge=Oe(n.site,u.site));Re(n),Re(e);var l=n.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=e.site,g=p.x-c,v=p.y-h,m=2*(f*v-d*g),_=f*f+d*d,y=g*g+v*v,x={x:(v*_-d*y)/m+c,y:(f*y-g*_)/m+h};Ue(e.edge,l,p,x),u.edge=Oe(l,t,null,x),e.edge=Oe(t,p,null,x),Le(n),Le(e)}}function ze(t,n){var e=t.site,i=e.x,r=e.y,a=r-n;if(!a)return i;var o=t.P;if(!o)return-1/0;var s=(e=o.site).x,u=e.y,l=u-n;if(!l)return s;var c=s-i,h=1/a-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-a/2)))/h+i:(i+s)/2}function je(t,n){var e=t.N;if(e)return ze(e,n);var i=t.site;return i.y===n?i.x:1/0}function qe(t){this.site=t,this.edges=[]}function De(t,n){return n.angle-t.angle}function $e(){Ye(this),this.x=this.y=this.arc=this.site=this.cy=null}function Le(t){var n=t.P,e=t.N;if(n&&e){var i=n.site,r=t.site,a=e.site;if(i!==a){var o=r.x,s=r.y,u=i.x-o,l=i.y-s,c=a.x-o,h=2*(u*(v=a.y-s)-l*c);if(!(h>=-Za)){var f=u*u+l*l,d=c*c+v*v,p=(v*f-l*d)/h,g=(u*d-c*f)/h,v=g+s,m=ys.pop()||new $e;m.arc=t,m.site=r,m.x=p+o,m.y=v+Math.sqrt(p*p+g*g),m.cy=v,t.circle=m;for(var _=null,y=ms._;y;)if(m.y<y.y||m.y===y.y&&m.x<=y.x){if(!y.L){_=y.P;break}y=y.L}else{if(!y.R){_=y;break}y=y.R}ms.insert(_,m),_||(vs=m)}}}}function Re(t){var n=t.circle;n&&(n.P||(vs=n.N),ms.remove(n),ys.push(n),Ye(n),t.circle=null)}function He(t,n){var e=t.b;if(e)return!0;var i,r,a=t.a,o=n[0][0],s=n[1][0],u=n[0][1],l=n[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,v=(f+p)/2,m=(d+g)/2;if(g===d){if(o>v||v>=s)return;if(f>p){if(a){if(a.y>=l)return}else a={x:v,y:u};e={x:v,y:l}}else{if(a){if(a.y<u)return}else a={x:v,y:l};e={x:v,y:u}}}else if(r=m-(i=(f-p)/(g-d))*v,-1>i||i>1)if(f>p){if(a){if(a.y>=l)return}else a={x:(u-r)/i,y:u};e={x:(l-r)/i,y:l}}else{if(a){if(a.y<u)return}else a={x:(l-r)/i,y:l};e={x:(u-r)/i,y:u}}else if(g>d){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};e={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};e={x:o,y:i*o+r}}return t.a=a,t.b=e,!0}function Pe(t,n){this.l=t,this.r=n,this.a=this.b=null}function Oe(t,n,e,i){var r=new Pe(t,n);return ds.push(r),e&&Ue(r,t,n,e),i&&Ue(r,n,t,i),ps[t.i].edges.push(new We(r,t,n)),ps[n.i].edges.push(new We(r,n,t)),r}function Ie(t,n,e){var i=new Pe(t,null);return i.a=n,i.b=e,ds.push(i),i}function Ue(t,n,e,i){t.a||t.b?t.l===e?t.b=i:t.a=i:(t.a=i,t.l=n,t.r=e)}function We(t,n,e){var i=t.a,r=t.b;this.edge=t,this.site=n,this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Be(){this._=null}function Ye(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ze(t,n){var e=n,i=n.R,r=e.U;r?r.L===e?r.L=i:r.R=i:t._=i,i.U=r,e.U=i,e.R=i.L,e.R&&(e.R.U=e),i.L=e}function Xe(t,n){var e=n,i=n.L,r=e.U;r?r.L===e?r.L=i:r.R=i:t._=i,i.U=r,e.U=i,e.L=i.R,e.L&&(e.L.U=e),i.R=e}function Ve(t){for(;t.L;)t=t.L;return t}function Qe(t,n){var e,i,r,a=t.sort(Ke).pop();for(ds=[],ps=new Array(t.length),gs=new Be,ms=new Be;;)if(r=vs,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))(a.x!==e||a.y!==i)&&(ps[a.i]=new qe(a),Ne(a),e=a.x,i=a.y),a=t.pop();else{if(!r)break;Te(r.arc)}n&&(function(t){for(var n,e=ds,i=Ln(t[0][0],t[0][1],t[1][0],t[1][1]),r=e.length;r--;)(!He(n=e[r],t)||!i(n)||Ta(n.a.x-n.b.x)<Ya&&Ta(n.a.y-n.b.y)<Ya)&&(n.a=n.b=null,e.splice(r,1))}(n),function(t){for(var n,e,i,r,a,o,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=ps,v=g.length;v--;)if((a=g[v])&&a.prepare())for(u=(s=a.edges).length,o=0;u>o;)i=(c=s[o].end()).x,r=c.y,n=(l=s[++o%u].start()).x,e=l.y,(Ta(i-n)>Ya||Ta(r-e)>Ya)&&(s.splice(o,0,new We(Ie(a.site,c,Ta(i-h)<Ya&&p-r>Ya?{x:h,y:Ta(n-h)<Ya?e:p}:Ta(r-p)<Ya&&f-i>Ya?{x:Ta(e-p)<Ya?n:f,y:p}:Ta(i-f)<Ya&&r-d>Ya?{x:f,y:Ta(n-f)<Ya?e:d}:Ta(r-d)<Ya&&i-h>Ya?{x:Ta(e-d)<Ya?n:h,y:d}:null),a.site,null)),++u)}(n));var o={cells:ps,edges:ds};return gs=ms=ds=ps=null,o}function Ke(t,n){return n.y-t.y||n.x-t.x}function Ge(t,n,e){return(t.x-e.x)*(n.y-t.y)-(t.x-n.x)*(e.y-t.y)}function Je(t){return t.x}function ti(t){return t.y}function ni(t,n,e,i,r,a){if(!t(n,e,i,r,a)){var o=.5*(e+r),s=.5*(i+a),u=n.nodes;u[0]&&ni(t,u[0],e,i,o,s),u[1]&&ni(t,u[1],o,i,r,s),u[2]&&ni(t,u[2],e,s,o,a),u[3]&&ni(t,u[3],o,s,r,a)}}function ei(t,n,e,i,r,a,o){var s,u=1/0;return function t(l,c,h,f,d){if(!(c>a||h>o||i>f||r>d)){if(p=l.point){var p,g=n-l.x,v=e-l.y,m=g*g+v*v;if(u>m){var _=Math.sqrt(u=m);i=n-_,r=e-_,a=n+_,o=e+_,s=p}}for(var y=l.nodes,x=.5*(c+f),b=.5*(h+d),w=(e>=b)<<1|n>=x,M=w+4;M>w;++w)if(l=y[3&w])switch(3&w){case 0:t(l,c,h,x,b);break;case 1:t(l,x,h,f,b);break;case 2:t(l,c,b,x,d);break;case 3:t(l,x,b,f,d)}}}(t,i,r,a,o),s}function ii(t,n){t=xa.rgb(t),n=xa.rgb(n);var e=t.r,i=t.g,r=t.b,a=n.r-e,o=n.g-i,s=n.b-r;return function(t){return"#"+Mt(Math.round(e+a*t))+Mt(Math.round(i+o*t))+Mt(Math.round(r+s*t))}}function ri(t,n){var e,i={},r={};for(e in t)e in n?i[e]=si(t[e],n[e]):r[e]=t[e];for(e in n)e in t||(r[e]=n[e]);return function(t){for(e in i)r[e]=i[e](t);return r}}function ai(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function oi(t,n){var e,i,r,a=bs.lastIndex=ws.lastIndex=0,o=-1,s=[],u=[];for(t+="",n+="";(e=bs.exec(t))&&(i=ws.exec(n));)(r=i.index)>a&&(r=n.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(e=e[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:ai(e,i)})),a=ws.lastIndex;return a<n.length&&(r=n.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?u[0]?(n=u[0].x,function(t){return n(t)+""}):function(){return n}:(n=u.length,function(t){for(var e,i=0;n>i;++i)s[(e=u[i]).i]=e.x(t);return s.join("")})}function si(t,n){for(var e,i=xa.interpolators.length;--i>=0&&!(e=xa.interpolators[i](t,n)););return e}function ui(t,n){var e,i=[],r=[],a=t.length,o=n.length,s=Math.min(t.length,n.length);for(e=0;s>e;++e)i.push(si(t[e],n[e]));for(;a>e;++e)r[e]=t[e];for(;o>e;++e)r[e]=n[e];return function(t){for(e=0;s>e;++e)r[e]=i[e](t);return r}}function li(t){return function(n){return 0>=n?0:n>=1?1:t(n)}}function ci(t){return function(n){return 1-t(1-n)}}function hi(t){return function(n){return.5*(.5>n?t(2*n):2-t(2-2*n))}}function fi(t){return t*t}function di(t){return t*t*t}function pi(t){if(0>=t)return 0;if(t>=1)return 1;var n=t*t,e=n*t;return 4*(.5>t?e:3*(t-n)+e-.75)}function gi(t){return 1-Math.cos(t*Ka)}function vi(t){return Math.pow(2,10*(t-1))}function mi(t){return 1-Math.sqrt(1-t*t)}function _i(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function yi(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function xi(t){var n=[t.a,t.b],e=[t.c,t.d],i=wi(n),r=bi(n,e),a=wi(function(t,n,e){return t[0]+=e*n[0],t[1]+=e*n[1],t}(e,n,-r))||0;n[0]*e[1]<e[0]*n[1]&&(n[0]*=-1,n[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(n[1],n[0]):Math.atan2(-e[0],e[1]))*Ja,this.translate=[t.e,t.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*Ja:0}function bi(t,n){return t[0]*n[0]+t[1]*n[1]}function wi(t){var n=Math.sqrt(bi(t,t));return n&&(t[0]/=n,t[1]/=n),n}function Mi(t,n){var e,i=[],r=[],a=xa.transform(t),o=xa.transform(n),s=a.translate,u=o.translate,l=a.rotate,c=o.rotate,h=a.skew,f=o.skew,d=a.scale,p=o.scale;return s[0]!=u[0]||s[1]!=u[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:ai(s[0],u[0])},{i:3,x:ai(s[1],u[1])})):i.push(u[0]||u[1]?"translate("+u+")":""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:ai(l,c)})):c&&i.push(i.pop()+"rotate("+c+")"),h!=f?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:ai(h,f)}):f&&i.push(i.pop()+"skewX("+f+")"),d[0]!=p[0]||d[1]!=p[1]?(e=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:e-4,x:ai(d[0],p[0])},{i:e-2,x:ai(d[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),e=r.length,function(t){for(var n,a=-1;++a<e;)i[(n=r[a]).i]=n.x(t);return i.join("")}}function ki(t,n){return n=(n-=t=+t)||1/n,function(e){return(e-t)/n}}function Ci(t,n){return n=(n-=t=+t)||1/n,function(e){return Math.max(0,Math.min(1,(e-t)/n))}}function Si(t){for(var n=t.source,e=t.target,i=function(t,n){if(t===n)return t;for(var e=Ai(t),i=Ai(n),r=e.pop(),a=i.pop(),o=null;r===a;)o=r,r=e.pop(),a=i.pop();return o}(n,e),r=[n];n!==i;)n=n.parent,r.push(n);for(var a=r.length;e!==i;)r.splice(a,0,e),e=e.parent;return r}function Ai(t){for(var n=[],e=t.parent;null!=e;)n.push(t),t=e,e=e.parent;return n.push(t),n}function Fi(t){t.fixed|=2}function Ei(t){t.fixed&=-7}function Ti(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ni(t){t.fixed&=-5}function zi(t,n,e){var i=0,r=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,u=-1;++u<s;)null!=(a=o[u])&&(zi(a,n,e),t.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=n*e[t.point.index];t.charge+=t.pointCharge=l,i+=l*t.point.x,r+=l*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function ji(t,n){return xa.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=Hi,t}function qi(t,n){for(var e=[t];null!=(t=e.pop());)if(n(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)e.push(r[i])}function Di(t,n){for(var e=[t],i=[];null!=(t=e.pop());)if(i.push(t),(a=t.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)e.push(a[o]);for(;null!=(t=i.pop());)n(t)}function $i(t){return t.children}function Li(t){return t.value}function Ri(t,n){return n.value-t.value}function Hi(t){return xa.merge(t.map((function(t){return(t.children||[]).map((function(n){return{source:t,target:n}}))})))}function Pi(t){return t.x}function Oi(t){return t.y}function Ii(t,n,e){t.y0=n,t.y=e}function Ui(t){return xa.range(t.length)}function Wi(t){for(var n=-1,e=t[0].length,i=[];++n<e;)i[n]=0;return i}function Bi(t){for(var n,e=1,i=0,r=t[0][1],a=t.length;a>e;++e)(n=t[e][1])>r&&(i=e,r=n);return i}function Yi(t){return t.reduce(Zi,0)}function Zi(t,n){return t+n[1]}function Xi(t,n){return Vi(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function Vi(t,n){for(var e=-1,i=+t[0],r=(t[1]-i)/n,a=[];++e<=n;)a[e]=r*e+i;return a}function Qi(t){return[xa.min(t),xa.max(t)]}function Ki(t,n){return t.value-n.value}function Gi(t,n){var e=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=e,e._pack_prev=n}function Ji(t,n){t._pack_next=n,n._pack_prev=t}function tr(t,n){var e=n.x-t.x,i=n.y-t.y,r=t.r+n.r;return.999*r*r>e*e+i*i}function nr(t){function n(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((e=t.children)&&(l=e.length)){var e,i,r,a,o,s,u,l,c=1/0,h=-1/0,f=1/0,d=-1/0;if(e.forEach(er),(i=e[0]).x=-i.r,i.y=0,n(i),l>1&&((r=e[1]).x=r.r,r.y=0,n(r),l>2))for(ar(i,r,a=e[2]),n(a),Gi(i,a),i._pack_prev=a,Gi(a,r),r=i._pack_next,o=3;l>o;o++){ar(i,r,a=e[o]);var p=0,g=1,v=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(tr(s,a)){p=1;break}if(1==p)for(u=i._pack_prev;u!==s._pack_prev&&!tr(u,a);u=u._pack_prev,v++);p?(v>g||g==v&&r.r<i.r?Ji(i,r=s):Ji(i=u,r),o--):(Gi(i,a),r=a,n(a))}var m=(c+h)/2,_=(f+d)/2,y=0;for(o=0;l>o;o++)(a=e[o]).x-=m,a.y-=_,y=Math.max(y,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=y,e.forEach(ir)}}function er(t){t._pack_next=t._pack_prev=t}function ir(t){delete t._pack_next,delete t._pack_prev}function rr(t,n,e,i){var r=t.children;if(t.x=n+=i*t.x,t.y=e+=i*t.y,t.r*=i,r)for(var a=-1,o=r.length;++a<o;)rr(r[a],n,e,i)}function ar(t,n,e){var i=t.r+e.r,r=n.x-t.x,a=n.y-t.y;if(i&&(r||a)){var o=n.r+e.r,s=r*r+a*a,u=.5+((i*=i)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);e.x=t.x+u*r+l*a,e.y=t.y+u*a-l*r}else e.x=t.x+i,e.y=t.y}function or(t,n){return t.parent==n.parent?1:2}function sr(t){var n=t.children;return n.length?n[0]:t.t}function ur(t){var n,e=t.children;return(n=e.length)?e[n-1]:t.t}function lr(t,n,e){var i=e/(n.i-t.i);n.c-=i,n.s+=e,t.c+=i,n.z+=e,n.m+=e}function cr(t,n,e){return t.a.parent===n.parent?t.a:e}function hr(t){var n=t.children;return n&&n.length?hr(n[0]):t}function fr(t){var n,e=t.children;return e&&(n=e.length)?fr(e[n-1]):t}function dr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function pr(t,n){var e=t.x+n[3],i=t.y+n[0],r=t.dx-n[1]-n[3],a=t.dy-n[0]-n[2];return 0>r&&(e+=r/2,r=0),0>a&&(i+=a/2,a=0),{x:e,y:i,dx:r,dy:a}}function gr(t){var n=t[0],e=t[t.length-1];return e>n?[n,e]:[e,n]}function vr(t){return t.rangeExtent?t.rangeExtent():gr(t.range())}function mr(t,n,e,i){var r=e(t[0],t[1]),a=i(n[0],n[1]);return function(t){return a(r(t))}}function _r(t,n){var e,i=0,r=t.length-1,a=t[i],o=t[r];return a>o&&(e=i,i=r,r=e,e=a,a=o,o=e),t[i]=n.floor(a),t[r]=n.ceil(o),t}function yr(t,n,e,i){var r=[],a=[],o=0,s=Math.min(t.length,n.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<=s;)r.push(e(t[o-1],t[o])),a.push(i(n[o-1],n[o]));return function(n){var e=xa.bisect(t,n,1,s)-1;return a[e](r[e](n))}}function xr(t,n,e,i){function r(){var r=Math.min(t.length,n.length)>2?yr:mr,u=i?Ci:ki;return o=r(t,n,u,e),s=r(n,t,u,si),a}function a(t){return o(t)}var o,s;return a.invert=function(t){return s(t)},a.domain=function(n){return arguments.length?(t=n.map(Number),r()):t},a.range=function(t){return arguments.length?(n=t,r()):n},a.rangeRound=function(t){return a.range(t).interpolate(yi)},a.clamp=function(t){return arguments.length?(i=t,r()):i},a.interpolate=function(t){return arguments.length?(e=t,r()):e},a.ticks=function(n){return kr(t,n)},a.tickFormat=function(n,e){return Cr(t,n,e)},a.nice=function(n){return wr(t,n),r()},a.copy=function(){return xr(t,n,e,i)},r()}function br(t,n){return xa.rebind(t,n,"range","rangeRound","interpolate","clamp")}function wr(t,n){return _r(t,function(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:js}(Mr(t,n)[2]))}function Mr(t,n){null==n&&(n=10);var e=gr(t),i=e[1]-e[0],r=Math.pow(10,Math.floor(Math.log(i/n)/Math.LN10)),a=n/i*r;return.15>=a?r*=10:.35>=a?r*=5:.75>=a&&(r*=2),e[0]=Math.ceil(e[0]/r)*r,e[1]=Math.floor(e[1]/r)*r+.5*r,e[2]=r,e}function kr(t,n){return xa.range.apply(xa,Mr(t,n))}function Cr(t,n,e){var i=Mr(t,n);if(e){var r=bo.exec(e);if(r.shift(),"s"===r[8]){var a=xa.formatPrefix(Math.max(Ta(i[0]),Ta(i[1])));return r[7]||(r[7]="."+Sr(a.scale(i[2]))),r[8]="f",e=xa.format(r.join("")),function(t){return e(a.scale(t))+a.symbol}}r[7]||(r[7]="."+function(t,n){var e=Sr(n[2]);return t in qs?Math.abs(e-Sr(Math.max(Ta(n[0]),Ta(n[1]))))+ +("e"!==t):e-2*("%"===t)}(r[8],i)),e=r.join("")}else e=",."+Sr(i[2])+"f";return xa.format(e)}function Sr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Ar(t,n,e,i){function r(t){return(e?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function a(t){return e?Math.pow(n,t):-Math.pow(n,-t)}function o(n){return t(r(n))}return o.invert=function(n){return a(t.invert(n))},o.domain=function(n){return arguments.length?(e=n[0]>=0,t.domain((i=n.map(Number)).map(r)),o):i},o.base=function(e){return arguments.length?(n=+e,t.domain(i.map(r)),o):n},o.nice=function(){var n=_r(i.map(r),e?Math:$s);return t.domain(n),i=n.map(a),o},o.ticks=function(){var t=gr(i),o=[],s=t[0],u=t[1],l=Math.floor(r(s)),c=Math.ceil(r(u)),h=n%1?2:n;if(isFinite(c-l)){if(e){for(;c>l;l++)for(var f=1;h>f;f++)o.push(a(l)*f);o.push(a(l))}else for(o.push(a(l));l++<c;)for(f=h-1;f>0;f--)o.push(a(l)*f);for(l=0;o[l]<s;l++);for(c=o.length;o[c-1]>u;c--);o=o.slice(l,c)}return o},o.tickFormat=function(t,n){if(!arguments.length)return Ds;arguments.length<2?n=Ds:"function"!=typeof n&&(n=xa.format(n));var i,s=Math.max(.1,t/o.ticks().length),u=e?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/a(u(r(t)+i))<=s?n(t):""}},o.copy=function(){return Ar(t.copy(),n,e,i)},br(o,t)}function Fr(t,n,e){function i(n){return t(r(n))}var r=Er(n),a=Er(1/n);return i.invert=function(n){return a(t.invert(n))},i.domain=function(n){return arguments.length?(t.domain((e=n.map(Number)).map(r)),i):e},i.ticks=function(t){return kr(e,t)},i.tickFormat=function(t,n){return Cr(e,t,n)},i.nice=function(t){return i.domain(wr(e,t))},i.exponent=function(o){return arguments.length?(r=Er(n=o),a=Er(1/n),t.domain(e.map(r)),i):n},i.copy=function(){return Fr(t.copy(),n,e)},br(i,t)}function Er(t){return function(n){return 0>n?-Math.pow(-n,t):Math.pow(n,t)}}function Tr(t,n){function e(e){return a[((r.get(e)||("range"===n.t?r.set(e,t.push(e)):NaN))-1)%a.length]}function i(n,e){return xa.range(t.length).map((function(t){return n+e*t}))}var r,a,o;return e.domain=function(i){if(!arguments.length)return t;t=[],r=new p;for(var a,o=-1,s=i.length;++o<s;)r.has(a=i[o])||r.set(a,t.push(a));return e[n.t].apply(e,n.a)},e.range=function(t){return arguments.length?(a=t,o=0,n={t:"range",a:arguments},e):a},e.rangePoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],l=r[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+s);return a=i(u+c*s/2,c),o=0,n={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],l=r[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+s)|0;return a=i(u+Math.round(c*s/2+(l-u-(t.length-1+s)*c)/2),c),o=0,n={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=r[1]<r[0],c=r[l-0],h=r[1-l],f=(h-c)/(t.length-s+2*u);return a=i(c+f*u,f),l&&a.reverse(),o=f*(1-s),n={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=r[1]<r[0],c=r[l-0],h=r[1-l],f=Math.floor((h-c)/(t.length-s+2*u));return a=i(c+Math.round((h-c-(t.length-s)*f)/2),f),l&&a.reverse(),o=Math.round(f*(1-s)),n={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return gr(n.a[0])},e.copy=function(){return Tr(t,n)},e.domain(t)}function Nr(t,n){function e(){var e=0,a=n.length;for(r=[];++e<a;)r[e-1]=xa.quantile(t,e/a);return i}function i(t){return isNaN(t=+t)?void 0:n[xa.bisect(r,t)]}var r;return i.domain=function(n){return arguments.length?(t=n.map(u).filter(l).sort(s),e()):t},i.range=function(t){return arguments.length?(n=t,e()):n},i.quantiles=function(){return r},i.invertExtent=function(e){return 0>(e=n.indexOf(e))?[NaN,NaN]:[e>0?r[e-1]:t[0],e<r.length?r[e]:t[t.length-1]]},i.copy=function(){return Nr(t,n)},e()}function zr(t,n,e){function i(n){return e[Math.max(0,Math.min(o,Math.floor(a*(n-t))))]}function r(){return a=e.length/(n-t),o=e.length-1,i}var a,o;return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],r()):[t,n]},i.range=function(t){return arguments.length?(e=t,r()):e},i.invertExtent=function(n){return[n=0>(n=e.indexOf(n))?NaN:n/a+t,n+1/a]},i.copy=function(){return zr(t,n,e)},r()}function jr(t,n){function e(e){return e>=e?n[xa.bisect(t,e)]:void 0}return e.domain=function(n){return arguments.length?(t=n,e):t},e.range=function(t){return arguments.length?(n=t,e):n},e.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},e.copy=function(){return jr(t,n)},e}function qr(t){function n(t){return+t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(n){return kr(t,n)},n.tickFormat=function(n,e){return Cr(t,n,e)},n.copy=function(){return qr(t)},n}function Dr(){return 0}function $r(t){return t.innerRadius}function Lr(t){return t.outerRadius}function Rr(t){return t.startAngle}function Hr(t){return t.endAngle}function Pr(t){return t&&t.padAngle}function Or(t,n,e,i){return(t-e)*n-(n-i)*t>0?0:1}function Ir(t,n,e,i,r){var a=t[0]-n[0],o=t[1]-n[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),u=s*o,l=-s*a,c=t[0]+u,h=t[1]+l,f=n[0]+u,d=n[1]+l,p=(c+f)/2,g=(h+d)/2,v=f-c,m=d-h,_=v*v+m*m,y=e-i,x=c*d-f*h,b=(0>m?-1:1)*Math.sqrt(y*y*_-x*x),w=(x*m-v*b)/_,M=(-x*v-m*b)/_,k=(x*m+v*b)/_,C=(-x*v+m*b)/_,S=w-p,A=M-g,F=k-p,E=C-g;return S*S+A*A>F*F+E*E&&(w=k,M=C),[[w-u,M-l],[w*e/y,M*e/y]]}function Ur(t){function n(n){function o(){l.push("M",a(t(c),s))}for(var u,l=[],c=[],h=-1,f=n.length,d=Et(e),p=Et(i);++h<f;)r.call(this,u=n[h],h)?c.push([+d.call(this,u,h),+p.call(this,u,h)]):c.length&&(o(),c=[]);return c.length&&o(),l.length?l.join(""):null}var e=xe,i=be,r=Fn,a=Wr,o=a.key,s=.7;return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(i=t,n):i},n.defined=function(t){return arguments.length?(r=t,n):r},n.interpolate=function(t){return arguments.length?(o="function"==typeof t?a=t:(a=Is.get(t)||Wr).key,n):o},n.tension=function(t){return arguments.length?(s=t,n):s},n}function Wr(t){return t.join("L")}function Br(t){for(var n=0,e=t.length,i=t[0],r=[i[0],",",i[1]];++n<e;)r.push("V",(i=t[n])[1],"H",i[0]);return r.join("")}function Yr(t){for(var n=0,e=t.length,i=t[0],r=[i[0],",",i[1]];++n<e;)r.push("H",(i=t[n])[0],"V",i[1]);return r.join("")}function Zr(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return Wr(t);var e=t.length!=n.length,i="",r=t[0],a=t[1],o=n[0],s=o,u=1;if(e&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=t[1],u=2),n.length>1){s=n[1],a=t[u],u++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<n.length;l++,u++)a=t[u],s=n[l],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(e){var c=t[u];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Xr(t,n){for(var e,i=[],r=(1-n)/2,a=t[0],o=t[1],s=1,u=t.length;++s<u;)e=a,a=o,o=t[s],i.push([r*(o[0]-e[0]),r*(o[1]-e[1])]);return i}function Vr(t){if(t.length<3)return Wr(t);var n=1,e=t.length,i=t[0],r=i[0],a=i[1],o=[r,r,r,(i=t[1])[0]],s=[a,a,a,i[1]],u=[r,",",a,"L",Qr(Bs,o),",",Qr(Bs,s)];for(t.push(t[e-1]);++n<=e;)i=t[n],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),Kr(u,o,s);return t.pop(),u.push("L",i),u.join("")}function Qr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function Kr(t,n,e){t.push("C",Qr(Us,n),",",Qr(Us,e),",",Qr(Ws,n),",",Qr(Ws,e),",",Qr(Bs,n),",",Qr(Bs,e))}function Gr(t,n){return(n[1]-t[1])/(n[0]-t[0])}function Jr(t){for(var n,e,i,r=-1,a=t.length;++r<a;)e=(n=t[r])[0],i=n[1]-Ka,n[0]=e*Math.cos(i),n[1]=e*Math.sin(i);return t}function ta(t){function n(n){function u(){g.push("M",s(t(m),h),c,l(t(v.reverse()),h),"Z")}for(var f,d,p,g=[],v=[],m=[],_=-1,y=n.length,x=Et(e),b=Et(r),w=e===i?function(){return d}:Et(i),M=r===a?function(){return p}:Et(a);++_<y;)o.call(this,f=n[_],_)?(v.push([d=+x.call(this,f,_),p=+b.call(this,f,_)]),m.push([+w.call(this,f,_),+M.call(this,f,_)])):v.length&&(u(),v=[],m=[]);return v.length&&u(),g.length?g.join(""):null}var e=xe,i=xe,r=0,a=be,o=Fn,s=Wr,u=s.key,l=s,c="L",h=.7;return n.x=function(t){return arguments.length?(e=i=t,n):i},n.x0=function(t){return arguments.length?(e=t,n):e},n.x1=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(r=a=t,n):a},n.y0=function(t){return arguments.length?(r=t,n):r},n.y1=function(t){return arguments.length?(a=t,n):a},n.defined=function(t){return arguments.length?(o=t,n):o},n.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Is.get(t)||Wr).key,l=s.reverse||s,c=s.closed?"M":"L",n):u},n.tension=function(t){return arguments.length?(h=t,n):h},n}function na(t){return t.radius}function ea(t){return[t.x,t.y]}function ia(t){return function(){var n=t.apply(this,arguments),e=n[0],i=n[1]-Ka;return[e*Math.cos(i),e*Math.sin(i)]}}function ra(){return 64}function aa(){return"circle"}function oa(t){var n=Math.sqrt(t/Xa);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function sa(t){return function(){var n,e;(n=this[t])&&(e=n[n.active])&&(--n.count?delete n[n.active]:delete this[t],n.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function ua(t,n,e){return Da(t,Gs),t.namespace=n,t.id=e,t}function la(t,n,e,i){var r=t.id,a=t.namespace;return X(t,"function"==typeof e?function(t,o,s){t[a][r].tween.set(n,i(e.call(t,t.__data__,o,s)))}:(e=i(e),function(t){t[a][r].tween.set(n,e)}))}function ca(t){return null==t&&(t=""),function(){this.textContent=t}}function ha(t){return null==t?"__transition__":"__transition_"+t+"__"}function fa(t,n,e,i,r){var a=t[e]||(t[e]={active:0,count:0}),o=a[i];if(!o){var s=r.time;o=a[i]={tween:new p,time:s,delay:r.delay,duration:r.duration,ease:r.ease,index:n},r=null,++a.count,xa.timer((function(r){function u(e){if(a.active>i)return c();var r=a[a.active];r&&(--a.count,delete a[a.active],r.event&&r.event.interrupt.call(t,t.__data__,r.index)),a.active=i,o.event&&o.event.start.call(t,t.__data__,n),o.tween.forEach((function(e,i){(i=i.call(t,t.__data__,n))&&g.push(i)})),f=o.ease,h=o.duration,xa.timer((function(){return p.c=l(e||1)?Fn:l,1}),0,s)}function l(e){if(a.active!==i)return 1;for(var r=e/h,s=f(r),u=g.length;u>0;)g[--u].call(t,s);return r>=1?(o.event&&o.event.end.call(t,t.__data__,n),c()):void 0}function c(){return--a.count?delete a[i]:delete t[e],1}var h,f,d=o.delay,p=_o,g=[];return p.t=d+s,r>=d?u(r-d):void(p.c=u)}),0,s)}}function da(t,n,e){t.attr("transform",(function(t){var i=n(t);return"translate("+(isFinite(i)?i:e(t))+",0)"}))}function pa(t,n,e){t.attr("transform",(function(t){var i=n(t);return"translate(0,"+(isFinite(i)?i:e(t))+")"}))}function ga(t){return t.toISOString()}function va(t,n,e){function i(n){return t(n)}function r(t,e){var i=(t[1]-t[0])/e,r=xa.bisect(su,i);return r==su.length?[n.year,Mr(t.map((function(t){return t/31536e6})),e)[2]]:r?n[i/su[r-1]<su[r]/i?r-1:r]:[cu,Mr(t,e)[2]]}return i.invert=function(n){return ma(t.invert(n))},i.domain=function(n){return arguments.length?(t.domain(n),i):t.domain().map(ma)},i.nice=function(t,n){function e(e){return!isNaN(e)&&!t.range(e,ma(+e+1),n).length}var a=i.domain(),o=gr(a),s=null==t?r(o,10):"number"==typeof t&&r(o,t);return s&&(t=s[0],n=s[1]),i.domain(_r(a,n>1?{floor:function(n){for(;e(n=t.floor(n));)n=ma(n-1);return n},ceil:function(n){for(;e(n=t.ceil(n));)n=ma(+n+1);return n}}:t))},i.ticks=function(t,n){var e=gr(i.domain()),a=null==t?r(e,10):"number"==typeof t?r(e,t):!t.range&&[{range:t},n];return a&&(t=a[0],n=a[1]),t.range(e[0],ma(+e[1]+1),1>n?1:n)},i.tickFormat=function(){return e},i.copy=function(){return va(t.copy(),n,e)},br(i,t)}function ma(t){return new Date(t)}function _a(t){return JSON.parse(t.responseText)}function ya(t){var n=Ma.createRange();return n.selectNode(Ma.body),n.createContextualFragment(t.responseText)}var xa={version:"3.5.5"},ba=[].slice,wa=function(t){return ba.call(t)},Ma=this.document;if(Ma)try{wa(Ma.documentElement.childNodes)[0].nodeType}catch(t){wa=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}if(Date.now||(Date.now=function(){return+new Date}),Ma)try{Ma.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var ka=this.Element.prototype,Ca=ka.setAttribute,Sa=ka.setAttributeNS,Aa=this.CSSStyleDeclaration.prototype,Fa=Aa.setProperty;ka.setAttribute=function(t,n){Ca.call(this,t,n+"")},ka.setAttributeNS=function(t,n,e){Sa.call(this,t,n,e+"")},Aa.setProperty=function(t,n,e){Fa.call(this,t,n+"",e)}}xa.ascending=s,xa.descending=function(t,n){return t>n?-1:n>t?1:n>=t?0:NaN},xa.min=function(t,n){var e,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){e=i;break}for(;++r<a;)null!=(i=t[r])&&e>i&&(e=i)}else{for(;++r<a;)if(null!=(i=n.call(t,t[r],r))&&i>=i){e=i;break}for(;++r<a;)null!=(i=n.call(t,t[r],r))&&e>i&&(e=i)}return e},xa.max=function(t,n){var e,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){e=i;break}for(;++r<a;)null!=(i=t[r])&&i>e&&(e=i)}else{for(;++r<a;)if(null!=(i=n.call(t,t[r],r))&&i>=i){e=i;break}for(;++r<a;)null!=(i=n.call(t,t[r],r))&&i>e&&(e=i)}return e},xa.extent=function(t,n){var e,i,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=t[a])&&i>=i){e=r=i;break}for(;++a<o;)null!=(i=t[a])&&(e>i&&(e=i),i>r&&(r=i))}else{for(;++a<o;)if(null!=(i=n.call(t,t[a],a))&&i>=i){e=r=i;break}for(;++a<o;)null!=(i=n.call(t,t[a],a))&&(e>i&&(e=i),i>r&&(r=i))}return[e,r]},xa.sum=function(t,n){var e,i=0,r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)l(e=+t[a])&&(i+=e);else for(;++a<r;)l(e=+n.call(t,t[a],a))&&(i+=e);return i},xa.mean=function(t,n){var e,i=0,r=t.length,a=-1,o=r;if(1===arguments.length)for(;++a<r;)l(e=u(t[a]))?i+=e:--o;else for(;++a<r;)l(e=u(n.call(t,t[a],a)))?i+=e:--o;return o?i/o:void 0},xa.quantile=function(t,n){var e=(t.length-1)*n+1,i=Math.floor(e),r=+t[i-1],a=e-i;return a?r+a*(t[i]-r):r},xa.median=function(t,n){var e,i=[],r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)l(e=u(t[a]))&&i.push(e);else for(;++a<r;)l(e=u(n.call(t,t[a],a)))&&i.push(e);return i.length?xa.quantile(i.sort(s),.5):void 0},xa.variance=function(t,n){var e,i,r=t.length,a=0,o=0,s=-1,c=0;if(1===arguments.length)for(;++s<r;)l(e=u(t[s]))&&(o+=(i=e-a)*(e-(a+=i/++c)));else for(;++s<r;)l(e=u(n.call(t,t[s],s)))&&(o+=(i=e-a)*(e-(a+=i/++c)));return c>1?o/(c-1):void 0},xa.deviation=function(){var t=xa.variance.apply(this,arguments);return t?Math.sqrt(t):t};var Ea=c(s);xa.bisectLeft=Ea.left,xa.bisect=xa.bisectRight=Ea.right,xa.bisector=function(t){return c(1===t.length?function(n,e){return s(t(n),e)}:t)},xa.shuffle=function(t,n,e){(a=arguments.length)<3&&(e=t.length,2>a&&(n=0));for(var i,r,a=e-n;a;)r=Math.random()*a--|0,i=t[a+n],t[a+n]=t[r+n],t[r+n]=i;return t},xa.permute=function(t,n){for(var e=n.length,i=new Array(e);e--;)i[e]=t[n[e]];return i},xa.pairs=function(t){for(var n=0,e=t.length-1,i=t[0],r=new Array(0>e?0:e);e>n;)r[n]=[i,i=t[++n]];return r},xa.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,n=xa.min(arguments,h),e=new Array(n);++t<n;)for(var i,r=-1,a=e[t]=new Array(i);++r<i;)a[r]=arguments[r][t];return e},xa.transpose=function(t){return xa.zip.apply(xa,t)},xa.keys=function(t){var n=[];for(var e in t)n.push(e);return n},xa.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},xa.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},xa.merge=function(t){for(var n,e,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(e=new Array(o);--r>=0;)for(n=(i=t[r]).length;--n>=0;)e[--o]=i[n];return e};var Ta=Math.abs;xa.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e==1/0)throw new Error("infinite range");var i,r=[],a=f(Ta(e)),o=-1;if(t*=a,n*=a,0>(e*=a))for(;(i=t+e*++o)>n;)r.push(i/a);else for(;(i=t+e*++o)<n;)r.push(i/a);return r},xa.map=function(t,n){var e=new p;if(t instanceof p)t.forEach((function(t,n){e.set(t,n)}));else if(Array.isArray(t)){var i,r=-1,a=t.length;if(1===arguments.length)for(;++r<a;)e.set(r,t[r]);else for(;++r<a;)e.set(n.call(t,i=t[r],r),i)}else for(var o in t)e.set(o,t[o]);return e};var Na="__proto__",za="\0";d(p,{has:m,get:function(t){return this._[g(t)]},set:function(t,n){return this._[g(t)]=n},remove:_,keys:y,values:function(){var t=[];for(var n in this._)t.push(this._[n]);return t},entries:function(){var t=[];for(var n in this._)t.push({key:v(n),value:this._[n]});return t},size:x,empty:b,forEach:function(t){for(var n in this._)t.call(this,v(n),this._[n])}}),xa.nest=function(){function t(n,o,s){if(s>=a.length)return i?i.call(r,o):e?o.sort(e):o;for(var u,l,c,h,f=-1,d=o.length,g=a[s++],v=new p;++f<d;)(h=v.get(u=g(l=o[f])))?h.push(l):v.set(u,[l]);return n?(l=n(),c=function(e,i){l.set(e,t(n,i,s))}):(l={},c=function(e,i){l[e]=t(n,i,s)}),v.forEach(c),l}function n(t,e){if(e>=a.length)return t;var i=[],r=o[e++];return t.forEach((function(t,r){i.push({key:t,values:n(r,e)})})),r?i.sort((function(t,n){return r(t.key,n.key)})):i}var e,i,r={},a=[],o=[];return r.map=function(n,e){return t(e,n,0)},r.entries=function(e){return n(t(xa.map,e,0),0)},r.key=function(t){return a.push(t),r},r.sortKeys=function(t){return o[a.length-1]=t,r},r.sortValues=function(t){return e=t,r},r.rollup=function(t){return i=t,r},r},xa.set=function(t){var n=new w;if(t)for(var e=0,i=t.length;i>e;++e)n.add(t[e]);return n},d(w,{has:m,add:function(t){return this._[g(t+="")]=!0,t},remove:_,values:y,size:x,empty:b,forEach:function(t){for(var n in this._)t.call(this,v(n))}}),xa.behavior={},xa.rebind=function(t,n){for(var e,i=1,r=arguments.length;++i<r;)t[e=arguments[i]]=k(t,n,n[e]);return t};var ja=["webkit","ms","moz","Moz","o","O"];xa.dispatch=function(){for(var t=new A,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=F(t);return t},A.prototype.on=function(t,n){var e=t.indexOf("."),i="";if(e>=0&&(i=t.slice(e+1),t=t.slice(0,e)),t)return arguments.length<2?this[t].on(i):this[t].on(i,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},xa.event=null,xa.requote=function(t){return t.replace(qa,"\\$&")};var qa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Da={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]},$a=function(t,n){return n.querySelector(t)},La=function(t,n){return n.querySelectorAll(t)},Ra=function(t,n){var e=t.matches||t[C(t,"matchesSelector")];return(Ra=function(t,n){return e.call(t,n)})(t,n)};"function"==typeof Sizzle&&($a=function(t,n){return Sizzle(t,n)[0]||null},La=Sizzle,Ra=Sizzle.matchesSelector),xa.selection=function(){return xa.select(Ma.documentElement)};var Ha=xa.selection.prototype=[];Ha.select=function(t){var n,e,i,r,a=[];t=j(t);for(var o=-1,s=this.length;++o<s;){a.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(n.push(e=t.call(r,r.__data__,u,o)),e&&"__data__"in r&&(e.__data__=r.__data__)):n.push(null)}return z(a)},Ha.selectAll=function(t){var n,e,i=[];t=q(t);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,u=o.length;++s<u;)(e=o[s])&&(i.push(n=wa(t.call(e,e.__data__,s,r))),n.parentNode=e);return z(i)};var Pa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};xa.ns={prefix:Pa,qualify:function(t){var n=t.indexOf(":"),e=t;return n>=0&&(e=t.slice(0,n),t=t.slice(n+1)),Pa.hasOwnProperty(e)?{space:Pa[e],local:t}:t}},Ha.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return(t=xa.ns.qualify(t)).local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(D(n,t[n]));return this}return this.each(D(t,n))},Ha.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),i=(t=R(t)).length,r=-1;if(n=e.classList){for(;++r<i;)if(!n.contains(t[r]))return!1}else for(n=e.getAttribute("class");++r<i;)if(!L(t[r]).test(n))return!1;return!0}for(n in t)this.each(H(n,t[n]));return this}return this.each(H(t,n))},Ha.style=function(t,n,e){var i=arguments.length;if(3>i){if("string"!=typeof t){for(e in 2>i&&(n=""),t)this.each(O(e,t[e],n));return this}if(2>i){var r=this.node();return o(r).getComputedStyle(r,null).getPropertyValue(t)}e=""}return this.each(O(t,n,e))},Ha.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(I(n,t[n]));return this}return this.each(I(t,n))},Ha.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ha.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ha.append=function(t){return t=U(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},Ha.insert=function(t,n){return t=U(t),n=j(n),this.select((function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)}))},Ha.remove=function(){return this.each(W)},Ha.data=function(t,n){function e(t,e){var i,r,a,o=t.length,c=e.length,h=Math.min(o,c),f=new Array(c),d=new Array(c),g=new Array(o);if(n){var v,m=new p,_=new Array(o);for(i=-1;++i<o;)m.has(v=n.call(r=t[i],r.__data__,i))?g[i]=r:m.set(v,r),_[i]=v;for(i=-1;++i<c;)(r=m.get(v=n.call(e,a=e[i],i)))?!0!==r&&(f[i]=r,r.__data__=a):d[i]=B(a),m.set(v,!0);for(i=-1;++i<o;)!0!==m.get(_[i])&&(g[i]=t[i])}else{for(i=-1;++i<h;)r=t[i],a=e[i],r?(r.__data__=a,f[i]=r):d[i]=B(a);for(;c>i;++i)d[i]=B(e[i]);for(;o>i;++i)g[i]=t[i]}d.update=f,d.parentNode=f.parentNode=g.parentNode=t.parentNode,s.push(d),u.push(f),l.push(g)}var i,r,a=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(i=this[0]).length);++a<o;)(r=i[a])&&(t[a]=r.__data__);return t}var s=V([]),u=z([]),l=z([]);if("function"==typeof t)for(;++a<o;)e(i=this[a],t.call(i,i.parentNode.__data__,a));else for(;++a<o;)e(i=this[a],t);return u.enter=function(){return s},u.exit=function(){return l},u},Ha.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ha.filter=function(t){var n,e,i,r=[];"function"!=typeof t&&(t=Y(t));for(var a=0,o=this.length;o>a;a++){r.push(n=[]),n.parentNode=(e=this[a]).parentNode;for(var s=0,u=e.length;u>s;s++)(i=e[s])&&t.call(i,i.__data__,s,a)&&n.push(i)}return z(r)},Ha.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,i=this[t],r=i.length-1,a=i[r];--r>=0;)(e=i[r])&&(a&&a!==e.nextSibling&&a.parentNode.insertBefore(e,a),a=e);return this},Ha.sort=function(t){t=Z.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},Ha.each=function(t){return X(this,(function(n,e,i){t.call(n,n.__data__,e,i)}))},Ha.call=function(t){var n=wa(arguments);return t.apply(n[0]=this,n),this},Ha.empty=function(){return!this.node()},Ha.node=function(){for(var t=0,n=this.length;n>t;t++)for(var e=this[t],i=0,r=e.length;r>i;i++){var a=e[i];if(a)return a}return null},Ha.size=function(){var t=0;return X(this,(function(){++t})),t};var Oa=[];xa.selection.enter=V,xa.selection.enter.prototype=Oa,Oa.append=Ha.append,Oa.empty=Ha.empty,Oa.node=Ha.node,Oa.call=Ha.call,Oa.size=Ha.size,Oa.select=function(t){for(var n,e,i,r,a,o=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,o.push(n=[]),n.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(a=r[l])?(n.push(i[l]=e=t.call(r.parentNode,a.__data__,l,s)),e.__data__=a.__data__):n.push(null)}return z(o)},Oa.insert=function(t,n){return arguments.length<2&&(n=Q(this)),Ha.insert.call(this,t,n)},xa.select=function(t){var n;return"string"==typeof t?(n=[$a(t,Ma)]).parentNode=Ma.documentElement:(n=[t]).parentNode=a(t),z([n])},xa.selectAll=function(t){var n;return"string"==typeof t?(n=wa(La(t,Ma))).parentNode=Ma.documentElement:(n=t).parentNode=null,z([n])},Ha.on=function(t,n,e){var i=arguments.length;if(3>i){if("string"!=typeof t){for(e in 2>i&&(n=!1),t)this.each(K(e,t[e],n));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;e=!1}return this.each(K(t,n,e))};var Ia=xa.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ma&&Ia.forEach((function(t){"on"+t in Ma&&Ia.remove(t)}));var Ua,Wa=0;xa.mouse=function(t){return nt(t,T())};var Ba=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;xa.touch=function(t,n,e){if(arguments.length<3&&(e=n,n=T().changedTouches),n)for(var i,r=0,a=n.length;a>r;++r)if((i=n[r]).identifier===e)return nt(t,i)},xa.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function n(t,n,r,a,o){return function(){function s(){var t,e,i=n(f,g);i&&(t=i[0]-y[0],e=i[1]-y[1],p|=t|e,y=i,d({type:"drag",x:i[0]+l[0],y:i[1]+l[1],dx:t,dy:e}))}function u(){n(f,g)&&(m.on(a+v,null).on(o+v,null),_(p&&xa.event.target===h),d({type:"dragend"}))}var l,c=this,h=xa.event.target,f=c.parentNode,d=e.of(c,arguments),p=0,g=t(),v=".drag"+(null==g?"":"-"+g),m=xa.select(r(h)).on(a+v,s).on(o+v,u),_=tt(h),y=n(f,g);l=i?[(l=i.apply(c,arguments)).x-y[0],l.y-y[1]]:[0,0],d({type:"dragstart"})}}var e=N(t,"drag","dragstart","dragend"),i=null,r=n(S,xa.mouse,o,"mousemove","mouseup"),a=n(et,xa.touch,M,"touchmove","touchend");return t.origin=function(n){return arguments.length?(i=n,t):i},xa.rebind(t,e,"on")},xa.touches=function(t,n){return arguments.length<2&&(n=T().touches),n?wa(n).map((function(n){var e=nt(t,n);return e.identifier=n.identifier,e})):[]};var Ya=1e-6,Za=Ya*Ya,Xa=Math.PI,Va=2*Xa,Qa=Va-Ya,Ka=Xa/2,Ga=Xa/180,Ja=180/Xa,to=Math.SQRT2;xa.interpolateZoom=function(t,n){function e(t){var n=t*m;if(v){var e=st(g),o=a/(2*f)*(e*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(to*n+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+o*l,r+o*c,a*e/st(to*n+g)]}return[i+t*l,r+t*c,a*Math.exp(to*n)]}var i=t[0],r=t[1],a=t[2],o=n[0],s=n[1],u=n[2],l=o-i,c=s-r,h=l*l+c*c,f=Math.sqrt(h),d=(u*u-a*a+4*h)/(2*a*2*f),p=(u*u-a*a-4*h)/(2*u*2*f),g=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(p*p+1)-p)-g,m=(v||Math.log(u/a))/to;return e.duration=1e3*m,e},xa.behavior.zoom=function(){function t(t){t.on(F,c).on(eo+".zoom",f).on("dblclick.zoom",d).on(j,h)}function n(t){return[(t[0]-M.x)/M.k,(t[1]-M.y)/M.k]}function e(t){M.k=Math.max(C[0],Math.min(C[1],t))}function i(t,n){n=function(t){return[t[0]*M.k+M.x,t[1]*M.k+M.y]}(n),M.x+=t[0]-n[0],M.y+=t[1]-n[1]}function r(n,r,a,o){n.__chart__={x:M.x,y:M.y,k:M.k},e(Math.pow(2,o)),i(g=r,a),n=xa.select(n),S>0&&(n=n.transition().duration(S)),n.call(t.event)}function a(){x&&x.domain(y.range().map((function(t){return(t-M.x)/M.k})).map(y.invert)),w&&w.domain(b.range().map((function(t){return(t-M.y)/M.k})).map(b.invert))}function s(t){A++||t({type:"zoomstart"})}function u(t){a(),t({type:"zoom",scale:M.k,translate:[M.x,M.y]})}function l(t){--A||t({type:"zoomend"}),g=null}function c(){function t(){h=1,i(xa.mouse(r),d),u(c)}function e(){f.on(T,null).on(z,null),p(h&&xa.event.target===a),l(c)}var r=this,a=xa.event.target,c=q.of(r,arguments),h=0,f=xa.select(o(r)).on(T,t).on(z,e),d=n(xa.mouse(r)),p=tt(r);Ks.call(r),s(c)}function h(){function t(){var t=xa.touches(p);return d=M.k,t.forEach((function(t){t.identifier in v&&(v[t.identifier]=n(t))})),t}function a(){var n=xa.event.target;xa.select(n).on(x,o).on(b,f),w.push(n);for(var e=xa.event.changedTouches,i=0,a=e.length;a>i;++i)v[e[i].identifier]=null;var s=t(),u=Date.now();if(1===s.length){if(500>u-_){var l=s[0];r(p,l,v[l.identifier],Math.floor(Math.log(M.k)/Math.LN2)+1),E()}_=u}else if(s.length>1){l=s[0];var c=s[1],h=l[0]-c[0],d=l[1]-c[1];m=h*h+d*d}}function o(){var t,n,r,a,o=xa.touches(p);Ks.call(p);for(var s=0,l=o.length;l>s;++s,a=null)if(r=o[s],a=v[r.identifier]){if(n)break;t=r,n=a}if(a){var c=(c=r[0]-t[0])*c+(c=r[1]-t[1])*c,h=m&&Math.sqrt(c/m);t=[(t[0]+r[0])/2,(t[1]+r[1])/2],n=[(n[0]+a[0])/2,(n[1]+a[1])/2],e(h*d)}_=null,i(t,n),u(g)}function f(){if(xa.event.touches.length){for(var n=xa.event.changedTouches,e=0,i=n.length;i>e;++e)delete v[n[e].identifier];for(var r in v)return void t()}xa.selectAll(w).on(y,null),k.on(F,c).on(j,h),C(),l(g)}var d,p=this,g=q.of(p,arguments),v={},m=0,y=".zoom-"+xa.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,w=[],k=xa.select(p),C=tt(p);a(),s(g),k.on(F,null).on(j,a)}function f(){var t=q.of(this,arguments);m?clearTimeout(m):(p=n(g=v||xa.mouse(this)),Ks.call(this),s(t)),m=setTimeout((function(){m=null,l(t)}),50),E(),e(Math.pow(2,.002*no())*M.k),i(g,p),u(t)}function d(){var t=xa.mouse(this),e=Math.log(M.k)/Math.LN2;r(this,t,n(t),xa.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var p,g,v,m,_,y,x,b,w,M={x:0,y:0,k:1},k=[960,500],C=io,S=250,A=0,F="mousedown.zoom",T="mousemove.zoom",z="mouseup.zoom",j="touchstart.zoom",q=N(t,"zoomstart","zoom","zoomend");return eo||(eo="onwheel"in Ma?(no=function(){return-xa.event.deltaY*(xa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ma?(no=function(){return xa.event.wheelDelta},"mousewheel"):(no=function(){return-xa.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each((function(){var t=q.of(this,arguments),n=M;Vs?xa.select(this).transition().each("start.zoom",(function(){M=this.__chart__||{x:0,y:0,k:1},s(t)})).tween("zoom:zoom",(function(){var e=k[0],i=k[1],r=g?g[0]:e/2,a=g?g[1]:i/2,o=xa.interpolateZoom([(r-M.x)/M.k,(a-M.y)/M.k,e/M.k],[(r-n.x)/n.k,(a-n.y)/n.k,e/n.k]);return function(n){var i=o(n),s=e/i[2];this.__chart__=M={x:r-i[0]*s,y:a-i[1]*s,k:s},u(t)}})).each("interrupt.zoom",(function(){l(t)})).each("end.zoom",(function(){l(t)})):(this.__chart__=M,s(t),u(t),l(t))}))},t.translate=function(n){return arguments.length?(M={x:+n[0],y:+n[1],k:M.k},a(),t):[M.x,M.y]},t.scale=function(n){return arguments.length?(M={x:M.x,y:M.y,k:+n},a(),t):M.k},t.scaleExtent=function(n){return arguments.length?(C=null==n?io:[+n[0],+n[1]],t):C},t.center=function(n){return arguments.length?(v=n&&[+n[0],+n[1]],t):v},t.size=function(n){return arguments.length?(k=n&&[+n[0],+n[1]],t):k},t.duration=function(n){return arguments.length?(S=+n,t):S},t.x=function(n){return arguments.length?(x=n,y=n.copy(),M={x:0,y:0,k:1},t):x},t.y=function(n){return arguments.length?(w=n,b=n.copy(),M={x:0,y:0,k:1},t):w},xa.rebind(t,q,"on")};var no,eo,io=[0,1/0];xa.color=lt,lt.prototype.toString=function(){return this.rgb()+""},xa.hsl=ct;var ro=ct.prototype=new lt;ro.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ct(this.h,this.s,this.l/t)},ro.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ct(this.h,this.s,t*this.l)},ro.rgb=function(){return ht(this.h,this.s,this.l)},xa.hcl=ft;var ao=ft.prototype=new lt;ao.brighter=function(t){return new ft(this.h,this.c,Math.min(100,this.l+oo*(arguments.length?t:1)))},ao.darker=function(t){return new ft(this.h,this.c,Math.max(0,this.l-oo*(arguments.length?t:1)))},ao.rgb=function(){return dt(this.h,this.c,this.l).rgb()},xa.lab=pt;var oo=18,so=.95047,uo=1,lo=1.08883,co=pt.prototype=new lt;co.brighter=function(t){return new pt(Math.min(100,this.l+oo*(arguments.length?t:1)),this.a,this.b)},co.darker=function(t){return new pt(Math.max(0,this.l-oo*(arguments.length?t:1)),this.a,this.b)},co.rgb=function(){return gt(this.l,this.a,this.b)},xa.rgb=xt;var ho=xt.prototype=new lt;ho.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,i=this.b,r=30;return n||e||i?(n&&r>n&&(n=r),e&&r>e&&(e=r),i&&r>i&&(i=r),new xt(Math.min(255,n/t),Math.min(255,e/t),Math.min(255,i/t))):new xt(r,r,r)},ho.darker=function(t){return new xt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ho.hsl=function(){return Ct(this.r,this.g,this.b)},ho.toString=function(){return"#"+Mt(this.r)+Mt(this.g)+Mt(this.b)};var fo=xa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});fo.forEach((function(t,n){fo.set(t,bt(n))})),xa.functor=Et,xa.xhr=Tt(M),xa.dsv=function(t,n){function e(t,e,a){arguments.length<3&&(a=e,e=null);var o=Nt(t,n,null==e?i:r(e),a);return o.row=function(t){return arguments.length?o.response(null==(e=t)?i:r(t)):e},o}function i(t){return e.parse(t.responseText)}function r(t){return function(n){return e.parse(n.responseText,t)}}function a(n){return n.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return e.parse=function(t,n){var i;return e.parseRows(t,(function(t,e){if(i)return i(t,e-1);var r=new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+"]"})).join(",")+"}");i=n?function(t,e){return n(r(t),e)}:r}))},e.parseRows=function(t,n){function e(){if(c>=l)return o;if(r)return r=!1,a;var n=c;if(34===t.charCodeAt(n)){for(var e=n;e++<l;)if(34===t.charCodeAt(e)){if(34!==t.charCodeAt(e+1))break;++e}return c=e+2,13===(i=t.charCodeAt(e+1))?(r=!0,10===t.charCodeAt(e+2)&&++c):10===i&&(r=!0),t.slice(n+1,e).replace(/""/g,'"')}for(;l>c;){var i,s=1;if(10===(i=t.charCodeAt(c++)))r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==u)continue;return t.slice(n,c-s)}return t.slice(n)}for(var i,r,a={},o={},s=[],l=t.length,c=0,h=0;(i=e())!==o;){for(var f=[];i!==a&&i!==o;)f.push(i),i=e();n&&null==(f=n(f,h++))||s.push(f)}return s},e.format=function(n){if(Array.isArray(n[0]))return e.formatRows(n);var i=new w,r=[];return n.forEach((function(t){for(var n in t)i.has(n)||r.push(i.add(n))})),[r.map(o).join(t)].concat(n.map((function(n){return r.map((function(t){return o(n[t])})).join(t)}))).join("\n")},e.formatRows=function(t){return t.map(a).join("\n")},e},xa.csv=xa.dsv(",","text/csv"),xa.tsv=xa.dsv("\t","text/tab-separated-values");var po,go,vo,mo,_o,yo=this[C(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};xa.timer=function(t,n,e){var i=arguments.length;2>i&&(n=0),3>i&&(e=Date.now());var r=e+n,a={c:t,t:r,f:!1,n:null};go?go.n=a:po=a,go=a,vo||(mo=clearTimeout(mo),vo=1,yo(zt))},xa.timer.flush=function(){jt(),qt()},xa.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var xo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map((function(t,n){var e=Math.pow(10,3*Ta(8-n));return{scale:n>8?function(t){return t/e}:function(t){return t*e},symbol:t}}));xa.formatPrefix=function(t,n){var e=0;return t&&(0>t&&(t*=-1),n&&(t=xa.round(t,Dt(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),xo[8+e/3]};var bo=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,wo=xa.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return(t=xa.round(t,Dt(t,n))).toFixed(Math.max(0,Math.min(20,Dt(t*(1+1e-15),n))))}}),Mo=xa.time={},ko=Date;Rt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Co.setUTCDate.apply(this._,arguments)},setDay:function(){Co.setUTCDay.apply(this._,arguments)},setFullYear:function(){Co.setUTCFullYear.apply(this._,arguments)},setHours:function(){Co.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Co.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Co.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Co.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Co.setUTCSeconds.apply(this._,arguments)},setTime:function(){Co.setTime.apply(this._,arguments)}};var Co=Date.prototype;Mo.year=Ht((function(t){return(t=Mo.day(t)).setMonth(0,1),t}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t){return t.getFullYear()})),Mo.years=Mo.year.range,Mo.years.utc=Mo.year.utc.range,Mo.day=Ht((function(t){var n=new ko(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t){return t.getDate()-1})),Mo.days=Mo.day.range,Mo.days.utc=Mo.day.utc.range,Mo.dayOfYear=function(t){var n=Mo.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,n){n=7-n;var e=Mo[t]=Ht((function(t){return(t=Mo.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t}),(function(t,n){t.setDate(t.getDate()+7*Math.floor(n))}),(function(t){var e=Mo.year(t).getDay();return Math.floor((Mo.dayOfYear(t)+(e+n)%7)/7)-(e!==n)}));Mo[t+"s"]=e.range,Mo[t+"s"].utc=e.utc.range,Mo[t+"OfYear"]=function(t){var e=Mo.year(t).getDay();return Math.floor((Mo.dayOfYear(t)+(e+n)%7)/7)}})),Mo.week=Mo.sunday,Mo.weeks=Mo.sunday.range,Mo.weeks.utc=Mo.sunday.utc.range,Mo.weekOfYear=Mo.sundayOfYear;var So={"-":"",_:" ",0:"0"},Ao=/^\s*\d+/,Fo=/^%/;xa.locale=function(t){return{numberFormat:$t(t),timeFormat:Ot(t)}};var Eo=xa.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});xa.format=Eo.numberFormat,xa.geo={},un.prototype={s:0,t:0,add:function(t){ln(t,this.t,To),ln(To.s,this.s,this),this.s?this.t+=To.t:this.s=To.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var To=new un;xa.geo.stream=function(t,n){t&&No.hasOwnProperty(t.type)?No[t.type](t,n):cn(t,n)};var No={Feature:function(t,n){cn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)cn(e[i].geometry,n)}},zo={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){hn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)hn(e[i],n,0)},Polygon:function(t,n){fn(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)fn(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)cn(e[i],n)}};xa.geo.area=function(t){return jo=0,xa.geo.stream(t,Do),jo};var jo,qo=new un,Do={sphere:function(){jo+=4*Xa},point:S,lineStart:S,lineEnd:S,polygonStart:function(){qo.reset(),Do.lineStart=dn},polygonEnd:function(){var t=2*qo;jo+=0>t?4*Xa+t:t,Do.lineStart=Do.lineEnd=Do.point=S}};xa.geo.bounds=function(){function t(t,n){y.push(x=[c=t,f=t]),h>n&&(h=n),n>d&&(d=n)}function n(n,e){var i=pn([n*Ga,e*Ga]);if(m){var r=vn(m,i),a=vn([r[1],-r[0],0],r);yn(a),a=xn(a);var o=n-p,u=o>0?1:-1,l=a[0]*Ja*u,g=Ta(o)>180;if(g^(l>u*p&&u*n>l))(v=a[1]*Ja)>d&&(d=v);else if(g^((l=(l+360)%360-180)>u*p&&u*n>l)){var v=-a[1]*Ja;h>v&&(h=v)}else h>e&&(h=e),e>d&&(d=e);g?p>n?s(c,n)>s(c,f)&&(f=n):s(n,f)>s(c,f)&&(c=n):f>=c?(c>n&&(c=n),n>f&&(f=n)):n>p?s(c,n)>s(c,f)&&(f=n):s(n,f)>s(c,f)&&(c=n)}else t(n,e);m=i,p=n}function e(){b.point=n}function i(){x[0]=c,x[1]=f,b.point=t,m=null}function r(t,e){if(m){var i=t-p;_+=Ta(i)>180?i+(i>0?360:-360):i}else g=t,v=e;Do.point(t,e),n(t,e)}function a(){Do.lineStart()}function o(){r(g,v),Do.lineEnd(),Ta(_)>Ya&&(c=-(f=180)),x[0]=c,x[1]=f,m=null}function s(t,n){return(n-=t)<0?n+360:n}function u(t,n){return t[0]-n[0]}function l(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var c,h,f,d,p,g,v,m,_,y,x,b={point:t,lineStart:e,lineEnd:i,polygonStart:function(){b.point=r,b.lineStart=a,b.lineEnd=o,_=0,Do.polygonStart()},polygonEnd:function(){Do.polygonEnd(),b.point=t,b.lineStart=e,b.lineEnd=i,0>qo?(c=-(f=180),h=-(d=90)):_>Ya?d=90:-Ya>_&&(h=-90),x[0]=c,x[1]=f}};return function(t){if(d=f=-(c=h=1/0),y=[],xa.geo.stream(t,b),a=y.length){y.sort(u);for(var n=1,e=[p=y[0]];a>n;++n)l((r=y[n])[0],p)||l(r[1],p)?(s(p[0],r[1])>s(p[0],p[1])&&(p[1]=r[1]),s(r[0],p[1])>s(p[0],p[1])&&(p[0]=r[0])):e.push(p=r);for(var i,r,a,o=-1/0,p=(n=0,e[a=e.length-1]);a>=n;p=r,++n)r=e[n],(i=s(p[1],r[0]))>o&&(o=i,c=r[0],f=p[1])}return y=x=null,1/0===c||1/0===h?[[NaN,NaN],[NaN,NaN]]:[[c,h],[f,d]]}}(),xa.geo.centroid=function(t){$o=Lo=Ro=Ho=Po=Oo=Io=Uo=Wo=Bo=Yo=0,xa.geo.stream(t,Zo);var n=Wo,e=Bo,i=Yo,r=n*n+e*e+i*i;return Za>r&&(n=Oo,e=Io,i=Uo,Ya>Lo&&(n=Ro,e=Ho,i=Po),Za>(r=n*n+e*e+i*i))?[NaN,NaN]:[Math.atan2(e,n)*Ja,ot(i/Math.sqrt(r))*Ja]};var $o,Lo,Ro,Ho,Po,Oo,Io,Uo,Wo,Bo,Yo,Zo={sphere:S,point:wn,lineStart:kn,lineEnd:Cn,polygonStart:function(){Zo.lineStart=Sn},polygonEnd:function(){Zo.lineStart=kn}},Xo=zn(Fn,(function(t){var n,e=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(a,o){var s=a>0?Xa:-Xa,u=Ta(a-e);Ta(u-Xa)<Ya?(t.point(e,i=(i+o)/2>0?Ka:-Ka),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(a,i),n=0):r!==s&&u>=Xa&&(Ta(e-r)<Ya&&(e-=r*Ya),Ta(a-s)<Ya&&(a-=s*Ya),i=function(t,n,e,i){var r,a,o=Math.sin(t-e);return Ta(o)>Ya?Math.atan((Math.sin(n)*(a=Math.cos(i))*Math.sin(e)-Math.sin(i)*(r=Math.cos(n))*Math.sin(t))/(r*a*o)):(n+i)/2}(e,i,a,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),n=0),t.point(e=a,i=o),r=s},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-n}}}),(function(t,n,e,i){var r;if(null==t)r=e*Ka,i.point(-Xa,r),i.point(0,r),i.point(Xa,r),i.point(Xa,0),i.point(Xa,-r),i.point(0,-r),i.point(-Xa,-r),i.point(-Xa,0),i.point(-Xa,r);else if(Ta(t[0]-n[0])>Ya){var a=t[0]<n[0]?Xa:-Xa;r=e*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(n[0],n[1])}),[-Xa,-Xa/2]),Vo=1e9;xa.geo.clipExtent=function(){var t,n,e,i,r,a,o={stream:function(t){return r&&(r.valid=!1),(r=a(t)).valid=!0,r},extent:function(s){return arguments.length?(a=Rn(t=+s[0][0],n=+s[0][1],e=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),o):[[t,n],[e,i]]}};return o.extent([[0,0],[960,500]])},(xa.geo.conicEqualArea=function(){return Hn(Pn)}).raw=Pn,xa.geo.albers=function(){return xa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},xa.geo.albersUsa=function(){function t(t){var a=t[0],o=t[1];return n=null,e(a,o),n||(i(a,o),n)||r(a,o),n}var n,e,i,r,a=xa.geo.albers(),o=xa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=xa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){n=[t,e]}};return t.invert=function(t){var n=a.scale(),e=a.translate(),i=(t[0]-e[0])/n,r=(t[1]-e[1])/n;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?o:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:a).invert(t)},t.stream=function(t){var n=a.stream(t),e=o.stream(t),i=s.stream(t);return{point:function(t,r){n.point(t,r),e.point(t,r),i.point(t,r)},sphere:function(){n.sphere(),e.sphere(),i.sphere()},lineStart:function(){n.lineStart(),e.lineStart(),i.lineStart()},lineEnd:function(){n.lineEnd(),e.lineEnd(),i.lineEnd()},polygonStart:function(){n.polygonStart(),e.polygonStart(),i.polygonStart()},polygonEnd:function(){n.polygonEnd(),e.polygonEnd(),i.polygonEnd()}}},t.precision=function(n){return arguments.length?(a.precision(n),o.precision(n),s.precision(n),t):a.precision()},t.scale=function(n){return arguments.length?(a.scale(n),o.scale(.35*n),s.scale(n),t.translate(a.translate())):a.scale()},t.translate=function(n){if(!arguments.length)return a.translate();var l=a.scale(),c=+n[0],h=+n[1];return e=a.translate(n).clipExtent([[c-.455*l,h-.238*l],[c+.455*l,h+.238*l]]).stream(u).point,i=o.translate([c-.307*l,h+.201*l]).clipExtent([[c-.425*l+Ya,h+.12*l+Ya],[c-.214*l-Ya,h+.234*l-Ya]]).stream(u).point,r=s.translate([c-.205*l,h+.212*l]).clipExtent([[c-.214*l+Ya,h+.166*l+Ya],[c-.115*l-Ya,h+.234*l-Ya]]).stream(u).point,t},t.scale(1070)};var Qo,Ko,Go,Jo,ts,ns,es={point:S,lineStart:S,lineEnd:S,polygonStart:function(){Ko=0,es.lineStart=On},polygonEnd:function(){es.lineStart=es.lineEnd=es.point=S,Qo+=Ta(Ko/2)}},is={point:function(t,n){Go>t&&(Go=t),t>ts&&(ts=t),Jo>n&&(Jo=n),n>ns&&(ns=n)},lineStart:S,lineEnd:S,polygonStart:S,polygonEnd:S},rs={point:Wn,lineStart:Bn,lineEnd:Yn,polygonStart:function(){rs.lineStart=Zn},polygonEnd:function(){rs.point=Wn,rs.lineStart=Bn,rs.lineEnd=Yn}};xa.geo.path=function(){function t(t){return t&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=r(a)),xa.geo.stream(t,o)),a.result()}function n(){return o=null,t}var e,i,r,a,o,s=4.5;return t.area=function(t){return Qo=0,xa.geo.stream(t,r(es)),Qo},t.centroid=function(t){return Ro=Ho=Po=Oo=Io=Uo=Wo=Bo=Yo=0,xa.geo.stream(t,r(rs)),Yo?[Wo/Yo,Bo/Yo]:Uo?[Oo/Uo,Io/Uo]:Po?[Ro/Po,Ho/Po]:[NaN,NaN]},t.bounds=function(t){return ts=ns=-(Go=Jo=1/0),xa.geo.stream(t,r(is)),[[Go,Jo],[ts,ns]]},t.projection=function(t){return arguments.length?(r=(e=t)?t.stream||Qn(t):M,n()):e},t.context=function(t){return arguments.length?(a=null==(i=t)?new In:new Xn(t),"function"!=typeof s&&a.pointRadius(s),n()):i},t.pointRadius=function(n){return arguments.length?(s="function"==typeof n?n:(a.pointRadius(+n),+n),t):s},t.projection(xa.geo.albersUsa()).context(null)},xa.geo.transform=function(t){return{stream:function(n){var e=new Kn(n);for(var i in t)e[i]=t[i];return e}}},Kn.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},xa.geo.projection=Jn,xa.geo.projectionMutator=te,(xa.geo.equirectangular=function(){return Jn(ee)}).raw=ee.invert=ee,xa.geo.rotation=function(t){function n(n){return(n=t(n[0]*Ga,n[1]*Ga))[0]*=Ja,n[1]*=Ja,n}return t=re(t[0]%360*Ga,t[1]*Ga,t.length>2?t[2]*Ga:0),n.invert=function(n){return(n=t.invert(n[0]*Ga,n[1]*Ga))[0]*=Ja,n[1]*=Ja,n},n},ie.invert=ee,xa.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,n=re(-t[0]*Ga,-t[1]*Ga,0).invert,r=[];return e(null,null,1,{point:function(t,e){r.push(t=n(t,e)),t[0]*=Ja,t[1]*=Ja}}),{type:"Polygon",coordinates:[r]}}var n,e,i=[0,0],r=6;return t.origin=function(n){return arguments.length?(i=n,t):i},t.angle=function(i){return arguments.length?(e=ue((n=+i)*Ga,r*Ga),t):n},t.precision=function(i){return arguments.length?(e=ue(n*Ga,(r=+i)*Ga),t):r},t.angle(90)},xa.geo.distance=function(t,n){var e,i=(n[0]-t[0])*Ga,r=t[1]*Ga,a=n[1]*Ga,o=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((e=h*o)*e+(e=l*c-u*h*s)*e),u*c+l*h*s)},xa.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return xa.range(Math.ceil(a/v)*v,r,v).map(f).concat(xa.range(Math.ceil(l/m)*m,u,m).map(d)).concat(xa.range(Math.ceil(i/p)*p,e,p).filter((function(t){return Ta(t%v)>Ya})).map(c)).concat(xa.range(Math.ceil(s/g)*g,o,g).filter((function(t){return Ta(t%m)>Ya})).map(h))}var e,i,r,a,o,s,u,l,c,h,f,d,p=10,g=p,v=90,m=360,_=2.5;return t.lines=function(){return n().map((function(t){return{type:"LineString",coordinates:t}}))},t.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(d(u).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.majorExtent(n).minorExtent(n):t.minorExtent()},t.majorExtent=function(n){return arguments.length?(a=+n[0][0],r=+n[1][0],l=+n[0][1],u=+n[1][1],a>r&&(n=a,a=r,r=n),l>u&&(n=l,l=u,u=n),t.precision(_)):[[a,l],[r,u]]},t.minorExtent=function(n){return arguments.length?(i=+n[0][0],e=+n[1][0],s=+n[0][1],o=+n[1][1],i>e&&(n=i,i=e,e=n),s>o&&(n=s,s=o,o=n),t.precision(_)):[[i,s],[e,o]]},t.step=function(n){return arguments.length?t.majorStep(n).minorStep(n):t.minorStep()},t.majorStep=function(n){return arguments.length?(v=+n[0],m=+n[1],t):[v,m]},t.minorStep=function(n){return arguments.length?(p=+n[0],g=+n[1],t):[p,g]},t.precision=function(n){return arguments.length?(_=+n,c=ce(s,o,90),h=he(i,e,_),f=ce(l,u,90),d=he(a,r,_),t):_},t.majorExtent([[-180,-90+Ya],[180,90-Ya]]).minorExtent([[-180,-80-Ya],[180,80+Ya]])},xa.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[n||i.apply(this,arguments),e||r.apply(this,arguments)]}}var n,e,i=fe,r=de;return t.distance=function(){return xa.geo.distance(n||i.apply(this,arguments),e||r.apply(this,arguments))},t.source=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.target=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.precision=function(){return arguments.length?t:0},t},xa.geo.interpolate=function(t,n){return function(t,n,e,i){var r=Math.cos(n),a=Math.sin(n),o=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),l=r*Math.sin(t),c=o*Math.cos(e),h=o*Math.sin(e),f=2*Math.asin(Math.sqrt(ut(i-n)+r*o*ut(e-t))),d=1/Math.sin(f),p=f?function(t){var n=Math.sin(t*=f)*d,e=Math.sin(f-t)*d,i=e*u+n*c,r=e*l+n*h,o=e*a+n*s;return[Math.atan2(r,i)*Ja,Math.atan2(o,Math.sqrt(i*i+r*r))*Ja]}:function(){return[t*Ja,n*Ja]};return p.distance=f,p}(t[0]*Ga,t[1]*Ga,n[0]*Ga,n[1]*Ga)},xa.geo.length=function(t){return as=0,xa.geo.stream(t,os),as};var as,os={sphere:S,point:S,lineStart:function(){function t(t,r){var a=Math.sin(r*=Ga),o=Math.cos(r),s=Ta((t*=Ga)-n),u=Math.cos(s);as+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=i*a-e*o*u)*s),e*a+i*o*u),n=t,e=a,i=o}var n,e,i;os.point=function(r,a){n=r*Ga,e=Math.sin(a*=Ga),i=Math.cos(a),os.point=t},os.lineEnd=function(){os.point=os.lineEnd=S}},lineEnd:S,polygonStart:S,polygonEnd:S},ss=pe((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(xa.geo.azimuthalEqualArea=function(){return Jn(ss)}).raw=ss;var us=pe((function(t){var n=Math.acos(t);return n&&n/Math.sin(n)}),M);(xa.geo.azimuthalEquidistant=function(){return Jn(us)}).raw=us,(xa.geo.conicConformal=function(){return Hn(ge)}).raw=ge,(xa.geo.conicEquidistant=function(){return Hn(ve)}).raw=ve;var ls=pe((function(t){return 1/t}),Math.atan);(xa.geo.gnomonic=function(){return Jn(ls)}).raw=ls,me.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-Ka]},(xa.geo.mercator=function(){return _e(me)}).raw=me;var cs=pe((function(){return 1}),Math.asin);(xa.geo.orthographic=function(){return Jn(cs)}).raw=cs;var hs=pe((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));(xa.geo.stereographic=function(){return Jn(hs)}).raw=hs,ye.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-Ka]},(xa.geo.transverseMercator=function(){var t=_e(ye),n=t.center,e=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return t?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90])}).raw=ye,xa.geom={},xa.geom.hull=function(t){function n(t){if(t.length<3)return[];var n,r=Et(e),a=Et(i),o=t.length,s=[],u=[];for(n=0;o>n;n++)s.push([+r.call(this,t[n],n),+a.call(this,t[n],n),n]);for(s.sort(Me),n=0;o>n;n++)u.push([s[n][0],-s[n][1]]);var l=we(s),c=we(u),h=c[0]===l[0],f=c[c.length-1]===l[l.length-1],d=[];for(n=l.length-1;n>=0;--n)d.push(t[s[l[n]][2]]);for(n=+h;n<c.length-f;++n)d.push(t[s[c[n]][2]]);return d}var e=xe,i=be;return arguments.length?n(t):(n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(i=t,n):i},n)},xa.geom.polygon=function(t){return Da(t,fs),t};var fs=xa.geom.polygon.prototype=[];fs.area=function(){for(var t,n=-1,e=this.length,i=this[e-1],r=0;++n<e;)t=i,i=this[n],r+=t[1]*i[0]-t[0]*i[1];return.5*r},fs.centroid=function(t){var n,e,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)n=s,s=this[i],e=n[0]*s[1]-s[0]*n[1],a+=(n[0]+s[0])*e,o+=(n[1]+s[1])*e;return[a*t,o*t]},fs.clip=function(t){for(var n,e,i,r,a,o,s=Se(t),u=-1,l=this.length-Se(this),c=this[l-1];++u<l;){for(n=t.slice(),t.length=0,r=this[u],a=n[(i=n.length-s)-1],e=-1;++e<i;)ke(o=n[e],c,r)?(ke(a,c,r)||t.push(Ce(a,o,c,r)),t.push(o)):ke(a,c,r)&&t.push(Ce(a,o,c,r)),a=o;s&&t.push(t[0]),c=r}return t};var ds,ps,gs,vs,ms,_s=[],ys=[];qe.prototype.prepare=function(){for(var t,n=this.edges,e=n.length;e--;)(t=n[e].edge).b&&t.a||n.splice(e,1);return n.sort(De),n.length},We.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Be.prototype={insert:function(t,n){var e,i,r;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Ve(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(i=e.U).L?(r=i.R)&&r.C?(e.C=r.C=!1,i.C=!0,t=i):(t===e.R&&(Ze(this,e),e=(t=e).U),e.C=!1,i.C=!0,Xe(this,i)):(r=i.L)&&r.C?(e.C=r.C=!1,i.C=!0,t=i):(t===e.L&&(Xe(this,e),e=(t=e).U),e.C=!1,i.C=!0,Ze(this,i)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,i,r=t.U,a=t.L,o=t.R;if(e=a?o?Ve(o):a:o,r?r.L===t?r.L=e:r.R=e:this._=e,a&&o?(i=e.C,e.C=t.C,e.L=a,a.U=e,e!==o?(r=e.U,e.U=t.U,t=e.R,r.L=t,e.R=o,o.U=e):(e.U=r,r=e,t=e.R)):(i=t.C,t=e),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if((n=r.R).C&&(n.C=!1,r.C=!0,Ze(this,r),n=r.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Xe(this,n),n=r.R),n.C=r.C,r.C=n.R.C=!1,Ze(this,r),t=this._;break}}else if((n=r.L).C&&(n.C=!1,r.C=!0,Xe(this,r),n=r.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Ze(this,n),n=r.L),n.C=r.C,r.C=n.L.C=!1,Xe(this,r),t=this._;break}n.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},xa.geom.voronoi=function(t){function n(t){var n=new Array(t.length),i=s[0][0],r=s[0][1],a=s[1][0],o=s[1][1];return Qe(e(t),s).cells.forEach((function(e,s){var u=e.edges,l=e.site,c=n[s]=u.length?u.map((function(t){var n=t.start();return[n.x,n.y]})):l.x>=i&&l.x<=a&&l.y>=r&&l.y<=o?[[i,o],[a,o],[a,r],[i,r]]:[];c.point=t[s]})),n}function e(t){return t.map((function(t,n){return{x:Math.round(a(t,n)/Ya)*Ya,y:Math.round(o(t,n)/Ya)*Ya,i:n}}))}var i=xe,r=be,a=i,o=r,s=xs;return t?n(t):(n.links=function(t){return Qe(e(t)).edges.filter((function(t){return t.l&&t.r})).map((function(n){return{source:t[n.l.i],target:t[n.r.i]}}))},n.triangles=function(t){var n=[];return Qe(e(t)).cells.forEach((function(e,i){for(var r,a=e.site,o=e.edges.sort(De),s=-1,u=o.length,l=o[u-1].edge,c=l.l===a?l.r:l.l;++s<u;)r=c,c=(l=o[s].edge).l===a?l.r:l.l,i<r.i&&i<c.i&&Ge(a,r,c)<0&&n.push([t[i],t[r.i],t[c.i]])})),n},n.x=function(t){return arguments.length?(a=Et(i=t),n):i},n.y=function(t){return arguments.length?(o=Et(r=t),n):r},n.clipExtent=function(t){return arguments.length?(s=null==t?xs:t,n):s===xs?null:s},n.size=function(t){return arguments.length?n.clipExtent(t&&[[0,0],t]):s===xs?null:s&&s[1]},n)};var xs=[[-1e6,-1e6],[1e6,1e6]];xa.geom.delaunay=function(t){return xa.geom.voronoi().triangles(t)},xa.geom.quadtree=function(t,n,e,i,r){function a(t){function a(t,n,e,i,r,a,o,s){if(!isNaN(e)&&!isNaN(i))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(Ta(u-e)+Ta(c-i)<.01)l(t,n,e,i,r,a,o,s);else{var h=t.point;t.x=t.y=t.point=null,l(t,h,u,c,r,a,o,s),l(t,n,e,i,r,a,o,s)}else t.x=e,t.y=i,t.point=n}else l(t,n,e,i,r,a,o,s)}function l(t,n,e,i,r,o,s,u){var l=.5*(r+s),c=.5*(o+u),h=e>=l,f=i>=c,d=f<<1|h;t.leaf=!1,h?r=l:s=l,f?o=c:u=c,a(t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),n,e,i,r,o,s,u)}var c,h,f,d,p,g,v,m,_,y=Et(s),x=Et(u);if(null!=n)g=n,v=e,m=i,_=r;else if(m=_=-(g=v=1/0),h=[],f=[],p=t.length,o)for(d=0;p>d;++d)(c=t[d]).x<g&&(g=c.x),c.y<v&&(v=c.y),c.x>m&&(m=c.x),c.y>_&&(_=c.y),h.push(c.x),f.push(c.y);else for(d=0;p>d;++d){var b=+y(c=t[d],d),w=+x(c,d);g>b&&(g=b),v>w&&(v=w),b>m&&(m=b),w>_&&(_=w),h.push(b),f.push(w)}var M=m-g,k=_-v;M>k?_=v+M:m=g+k;var C={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){a(C,t,+y(t,++d),+x(t,d),g,v,m,_)},visit:function(t){ni(t,C,g,v,m,_)},find:function(t){return ei(C,t[0],t[1],g,v,m,_)}};if(d=-1,null==n){for(;++d<p;)a(C,t[d],h[d],f[d],g,v,m,_);--d}else t.forEach(C.add);return h=f=t=c=null,C}var o,s=xe,u=be;return(o=arguments.length)?(s=Je,u=ti,3===o&&(r=e,i=n,e=n=0),a(t)):(a.x=function(t){return arguments.length?(s=t,a):s},a.y=function(t){return arguments.length?(u=t,a):u},a.extent=function(t){return arguments.length?(null==t?n=e=i=r=null:(n=+t[0][0],e=+t[0][1],i=+t[1][0],r=+t[1][1]),a):null==n?null:[[n,e],[i,r]]},a.size=function(t){return arguments.length?(null==t?n=e=i=r=null:(n=e=0,i=+t[0],r=+t[1]),a):null==n?null:[i-n,r-e]},a)},xa.interpolateRgb=ii,xa.interpolateObject=ri,xa.interpolateNumber=ai,xa.interpolateString=oi;var bs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ws=new RegExp(bs.source,"g");xa.interpolate=si,xa.interpolators=[function(t,n){var e=typeof n;return("string"===e?fo.has(n)||/^(#|rgb\(|hsl\()/.test(n)?ii:oi:n instanceof lt?ii:Array.isArray(n)?ui:"object"===e&&isNaN(n)?ri:ai)(t,n)}],xa.interpolateArray=ui;var Ms=function(){return M},ks=xa.map({linear:Ms,poly:function(t){return function(n){return Math.pow(n,t)}},quad:function(){return fi},cubic:function(){return di},sin:function(){return gi},exp:function(){return vi},circle:function(){return mi},elastic:function(t,n){var e;return arguments.length<2&&(n=.45),arguments.length?e=n/Va*Math.asin(1/t):(t=1,e=n/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-e)*Va/n)}},back:function(t){return t||(t=1.70158),function(n){return n*n*((t+1)*n-t)}},bounce:function(){return _i}}),Cs=xa.map({in:M,out:ci,"in-out":hi,"out-in":function(t){return hi(ci(t))}});xa.ease=function(t){var n=t.indexOf("-"),e=n>=0?t.slice(0,n):t,i=n>=0?t.slice(n+1):"in";return e=ks.get(e)||Ms,li((i=Cs.get(i)||M)(e.apply(null,ba.call(arguments,1))))},xa.interpolateHcl=function(t,n){t=xa.hcl(t),n=xa.hcl(n);var e=t.h,i=t.c,r=t.l,a=n.h-e,o=n.c-i,s=n.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?n.c:i),isNaN(a)?(a=0,e=isNaN(e)?n.h:e):a>180?a-=360:-180>a&&(a+=360),function(t){return dt(e+a*t,i+o*t,r+s*t)+""}},xa.interpolateHsl=function(t,n){t=xa.hsl(t),n=xa.hsl(n);var e=t.h,i=t.s,r=t.l,a=n.h-e,o=n.s-i,s=n.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?n.s:i),isNaN(a)?(a=0,e=isNaN(e)?n.h:e):a>180?a-=360:-180>a&&(a+=360),function(t){return ht(e+a*t,i+o*t,r+s*t)+""}},xa.interpolateLab=function(t,n){t=xa.lab(t),n=xa.lab(n);var e=t.l,i=t.a,r=t.b,a=n.l-e,o=n.a-i,s=n.b-r;return function(t){return gt(e+a*t,i+o*t,r+s*t)+""}},xa.interpolateRound=yi,xa.transform=function(t){var n=Ma.createElementNS(xa.ns.prefix.svg,"g");return(xa.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new xi(e?e.matrix:Ss)})(t)},xi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ss={a:1,b:0,c:0,d:1,e:0,f:0};xa.interpolateTransform=Mi,xa.layout={},xa.layout.bundle=function(){return function(t){for(var n=[],e=-1,i=t.length;++e<i;)n.push(Si(t[e]));return n}},xa.layout.chord=function(){function t(){var t,l,h,f,d,p={},g=[],v=xa.range(a),m=[];for(e=[],i=[],t=0,f=-1;++f<a;){for(l=0,d=-1;++d<a;)l+=r[f][d];g.push(l),m.push(xa.range(a)),t+=l}for(o&&v.sort((function(t,n){return o(g[t],g[n])})),s&&m.forEach((function(t,n){t.sort((function(t,e){return s(r[n][t],r[n][e])}))})),t=(Va-c*a)/t,l=0,f=-1;++f<a;){for(h=l,d=-1;++d<a;){var _=v[f],y=m[_][d],x=r[_][y],b=l,w=l+=x*t;p[_+"-"+y]={index:_,subindex:y,startAngle:b,endAngle:w,value:x}}i[_]={index:_,startAngle:h,endAngle:l,value:(l-h)/t},l+=c}for(f=-1;++f<a;)for(d=f-1;++d<a;){var M=p[f+"-"+d],k=p[d+"-"+f];(M.value||k.value)&&e.push(M.value<k.value?{source:k,target:M}:{source:M,target:k})}u&&n()}function n(){e.sort((function(t,n){return u((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)}))}var e,i,r,a,o,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(a=(r=t)&&r.length,e=i=null,l):r},l.padding=function(t){return arguments.length?(c=t,e=i=null,l):c},l.sortGroups=function(t){return arguments.length?(o=t,e=i=null,l):o},l.sortSubgroups=function(t){return arguments.length?(s=t,e=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,e&&n(),l):u},l.chords=function(){return e||t(),e},l.groups=function(){return i||t(),i},l},xa.layout.force=function(){function t(t){return function(n,e,i,r){if(n.point!==t){var a=n.cx-t.x,o=n.cy-t.y,s=r-e,u=a*a+o*o;if(u>s*s/v){if(p>u){var l=n.charge/u;t.px-=a*l,t.py-=o*l}return!0}n.point&&u&&p>u&&(l=n.pointCharge/u,t.px-=a*l,t.py-=o*l)}return!n.charge}}function n(t){t.px=xa.event.x,t.py=xa.event.y,s.resume()}var e,i,r,a,o,s={},u=xa.dispatch("start","tick","end"),l=[1,1],c=.9,h=As,f=Fs,d=-30,p=Es,g=.1,v=.64,m=[],_=[];return s.tick=function(){if((i*=.99)<.005)return u.end({type:"end",alpha:i=0}),!0;var n,e,s,h,f,p,v,y,x,b=m.length,w=_.length;for(e=0;w>e;++e)h=(s=_[e]).source,(p=(y=(f=s.target).x-h.x)*y+(x=f.y-h.y)*x)&&(y*=p=i*a[e]*((p=Math.sqrt(p))-r[e])/p,x*=p,f.x-=y*(v=h.weight/(f.weight+h.weight)),f.y-=x*v,h.x+=y*(v=1-v),h.y+=x*v);if((v=i*g)&&(y=l[0]/2,x=l[1]/2,e=-1,v))for(;++e<b;)(s=m[e]).x+=(y-s.x)*v,s.y+=(x-s.y)*v;if(d)for(zi(n=xa.geom.quadtree(m),i,o),e=-1;++e<b;)(s=m[e]).fixed||n.visit(t(s));for(e=-1;++e<b;)(s=m[e]).fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:i})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(_=t,s):_},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(v=t*t,s):Math.sqrt(v)},s.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(u.start({type:"start",alpha:i=t}),xa.timer(s.tick)),s):i},s.start=function(){function t(t,i){if(!e){for(e=new Array(u),s=0;u>s;++s)e[s]=[];for(s=0;c>s;++s){var r=_[s];e[r.source.index].push(r.target),e[r.target.index].push(r.source)}}for(var a,o=e[n],s=-1,l=o.length;++s<l;)if(!isNaN(a=o[s][t]))return a;return Math.random()*i}var n,e,i,u=m.length,c=_.length,p=l[0],g=l[1];for(n=0;u>n;++n)(i=m[n]).index=n,i.weight=0;for(n=0;c>n;++n)"number"==typeof(i=_[n]).source&&(i.source=m[i.source]),"number"==typeof i.target&&(i.target=m[i.target]),++i.source.weight,++i.target.weight;for(n=0;u>n;++n)i=m[n],isNaN(i.x)&&(i.x=t("x",p)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof h)for(n=0;c>n;++n)r[n]=+h.call(this,_[n],n);else for(n=0;c>n;++n)r[n]=h;if(a=[],"function"==typeof f)for(n=0;c>n;++n)a[n]=+f.call(this,_[n],n);else for(n=0;c>n;++n)a[n]=f;if(o=[],"function"==typeof d)for(n=0;u>n;++n)o[n]=+d.call(this,m[n],n);else for(n=0;u>n;++n)o[n]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return e||(e=xa.behavior.drag().origin(M).on("dragstart.force",Fi).on("drag.force",n).on("dragend.force",Ei)),arguments.length?void this.on("mouseover.force",Ti).on("mouseout.force",Ni).call(e):e},xa.rebind(s,u,"on")};var As=20,Fs=1,Es=1/0;xa.layout.hierarchy=function(){function t(r){var a,o=[r],s=[];for(r.depth=0;null!=(a=o.pop());)if(s.push(a),(l=e.call(t,a,a.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)o.push(c=l[u]),c.parent=a,c.depth=a.depth+1;i&&(a.value=0),a.children=l}else i&&(a.value=+i.call(t,a,a.depth)||0),delete a.children;return Di(r,(function(t){var e,r;n&&(e=t.children)&&e.sort(n),i&&(r=t.parent)&&(r.value+=t.value)})),s}var n=Ri,e=$i,i=Li;return t.sort=function(e){return arguments.length?(n=e,t):n},t.children=function(n){return arguments.length?(e=n,t):e},t.value=function(n){return arguments.length?(i=n,t):i},t.revalue=function(n){return i&&(qi(n,(function(t){t.children&&(t.value=0)})),Di(n,(function(n){var e;n.children||(n.value=+i.call(t,n,n.depth)||0),(e=n.parent)&&(e.value+=n.value)}))),n},t},xa.layout.partition=function(){function t(n,e,i,r){var a=n.children;if(n.x=e,n.y=n.depth*r,n.dx=i,n.dy=r,a&&(o=a.length)){var o,s,u,l=-1;for(i=n.value?i/n.value:0;++l<o;)t(s=a[l],e,u=s.value*i,r),e+=u}}function n(t){var e=t.children,i=0;if(e&&(r=e.length))for(var r,a=-1;++a<r;)i=Math.max(i,n(e[a]));return 1+i}function e(e,a){var o=i.call(this,e,a);return t(o[0],0,r[0],r[1]/n(o[0])),o}var i=xa.layout.hierarchy(),r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},ji(e,i)},xa.layout.pie=function(){function t(o){var s,u=o.length,l=o.map((function(e,i){return+n.call(t,e,i)})),c=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof r?r.apply(this,arguments):r)-c,f=Math.min(Math.abs(h)/u,+("function"==typeof a?a.apply(this,arguments):a)),d=f*(0>h?-1:1),p=(h-u*d)/xa.sum(l),g=xa.range(u),v=[];return null!=e&&g.sort(e===Ts?function(t,n){return l[n]-l[t]}:function(t,n){return e(o[t],o[n])}),g.forEach((function(t){v[t]={data:o[t],value:s=l[t],startAngle:c,endAngle:c+=s*p+d,padAngle:f}})),v}var n=Number,e=Ts,i=0,r=Va,a=0;return t.value=function(e){return arguments.length?(n=e,t):n},t.sort=function(n){return arguments.length?(e=n,t):e},t.startAngle=function(n){return arguments.length?(i=n,t):i},t.endAngle=function(n){return arguments.length?(r=n,t):r},t.padAngle=function(n){return arguments.length?(a=n,t):a},t};var Ts={};xa.layout.stack=function(){function t(s,u){if(!(f=s.length))return s;var l=s.map((function(e,i){return n.call(t,e,i)})),c=l.map((function(n){return n.map((function(n,e){return[a.call(t,n,e),o.call(t,n,e)]}))})),h=e.call(t,c,u);l=xa.permute(l,h),c=xa.permute(c,h);var f,d,p,g,v=i.call(t,c,u),m=l[0].length;for(p=0;m>p;++p)for(r.call(t,l[0][p],g=v[p],c[0][p][1]),d=1;f>d;++d)r.call(t,l[d][p],g+=c[d-1][p][1],c[d][p][1]);return s}var n=M,e=Ui,i=Wi,r=Ii,a=Pi,o=Oi;return t.values=function(e){return arguments.length?(n=e,t):n},t.order=function(n){return arguments.length?(e="function"==typeof n?n:Ns.get(n)||Ui,t):e},t.offset=function(n){return arguments.length?(i="function"==typeof n?n:zs.get(n)||Wi,t):i},t.x=function(n){return arguments.length?(a=n,t):a},t.y=function(n){return arguments.length?(o=n,t):o},t.out=function(n){return arguments.length?(r=n,t):r},t};var Ns=xa.map({"inside-out":function(t){var n,e,i=t.length,r=t.map(Bi),a=t.map(Yi),o=xa.range(i).sort((function(t,n){return r[t]-r[n]})),s=0,u=0,l=[],c=[];for(n=0;i>n;++n)e=o[n],u>s?(s+=a[e],l.push(e)):(u+=a[e],c.push(e));return c.reverse().concat(l)},reverse:function(t){return xa.range(t.length).reverse()},default:Ui}),zs=xa.map({silhouette:function(t){var n,e,i,r=t.length,a=t[0].length,o=[],s=0,u=[];for(e=0;a>e;++e){for(n=0,i=0;r>n;n++)i+=t[n][e][1];i>s&&(s=i),o.push(i)}for(e=0;a>e;++e)u[e]=(s-o[e])/2;return u},wiggle:function(t){var n,e,i,r,a,o,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,e=1;f>e;++e){for(n=0,r=0;c>n;++n)r+=t[n][e][1];for(n=0,a=0,s=h[e][0]-h[e-1][0];c>n;++n){for(i=0,o=(t[n][e][1]-t[n][e-1][1])/(2*s);n>i;++i)o+=(t[i][e][1]-t[i][e-1][1])/s;a+=o*t[n][e][1]}d[e]=u-=r?a/r*s:0,l>u&&(l=u)}for(e=0;f>e;++e)d[e]-=l;return d},expand:function(t){var n,e,i,r=t.length,a=t[0].length,o=1/r,s=[];for(e=0;a>e;++e){for(n=0,i=0;r>n;n++)i+=t[n][e][1];if(i)for(n=0;r>n;n++)t[n][e][1]/=i;else for(n=0;r>n;n++)t[n][e][1]=o}for(e=0;a>e;++e)s[e]=0;return s},zero:Wi});xa.layout.histogram=function(){function t(t,a){for(var o,s,u=[],l=t.map(e,this),c=i.call(this,l,a),h=r.call(this,c,l,a),f=(a=-1,l.length),d=h.length-1,p=n?1:1/f;++a<d;)(o=u[a]=[]).dx=h[a+1]-(o.x=h[a]),o.y=0;if(d>0)for(a=-1;++a<f;)(s=l[a])>=c[0]&&s<=c[1]&&((o=u[xa.bisect(h,s,1,d)-1]).y+=p,o.push(t[a]));return u}var n=!0,e=Number,i=Qi,r=Xi;return t.value=function(n){return arguments.length?(e=n,t):e},t.range=function(n){return arguments.length?(i=Et(n),t):i},t.bins=function(n){return arguments.length?(r="number"==typeof n?function(t){return Vi(t,n)}:Et(n),t):r},t.frequency=function(e){return arguments.length?(n=!!e,t):n},t},xa.layout.pack=function(){function t(t,a){var o=e.call(this,t,a),s=o[0],u=r[0],l=r[1],c=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(s.x=s.y=0,Di(s,(function(t){t.r=+c(t.value)})),Di(s,nr),i){var h=i*(n?1:Math.max(2*s.r/u,2*s.r/l))/2;Di(s,(function(t){t.r+=h})),Di(s,nr),Di(s,(function(t){t.r-=h}))}return rr(s,u/2,l/2,n?1:1/Math.max(2*s.r/u,2*s.r/l)),o}var n,e=xa.layout.hierarchy().sort(Ki),i=0,r=[1,1];return t.size=function(n){return arguments.length?(r=n,t):r},t.radius=function(e){return arguments.length?(n=null==e||"function"==typeof e?e:+e,t):n},t.padding=function(n){return arguments.length?(i=+n,t):i},ji(t,e)},xa.layout.tree=function(){function t(t,u){var l=r.call(this,t,u),c=l[0],h=function(t){for(var n,e={A:null,children:[t]},i=[e];null!=(n=i.pop());)for(var r,a=n.children,o=0,s=a.length;s>o;++o)i.push((a[o]=r={_:a[o],parent:n,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return e.children[0]}(c);if(Di(h,n),h.parent.m=-h.z,qi(h,e),s)qi(c,i);else{var f=c,d=c,p=c;qi(c,(function(t){t.x<f.x&&(f=t),t.x>d.x&&(d=t),t.depth>p.depth&&(p=t)}));var g=a(f,d)/2-f.x,v=o[0]/(d.x+a(d,f)/2+g),m=o[1]/(p.depth||1);qi(c,(function(t){t.x=(t.x+g)*v,t.y=t.depth*m}))}return l}function n(t){var n=t.children,e=t.parent.children,i=t.i?e[t.i-1]:null;if(n.length){!function(t){for(var n,e=0,i=0,r=t.children,a=r.length;--a>=0;)(n=r[a]).z+=e,n.m+=e,e+=n.s+(i+=n.c)}(t);var r=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+a(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+a(t._,i._));t.parent.A=function(t,n,e){if(n){for(var i,r=t,o=t,s=n,u=r.parent.children[0],l=r.m,c=o.m,h=s.m,f=u.m;s=ur(s),r=sr(r),s&&r;)u=sr(u),(o=ur(o)).a=t,(i=s.z+h-r.z-l+a(s._,r._))>0&&(lr(cr(s,t,e),t,i),l+=i,c+=i),h+=s.m,l+=r.m,f+=u.m,c+=o.m;s&&!ur(o)&&(o.t=s,o.m+=h-c),r&&!sr(u)&&(u.t=r,u.m+=l-f,e=t)}return e}(t,i,t.parent.A||e[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t){t.x*=o[0],t.y=t.depth*o[1]}var r=xa.layout.hierarchy().sort(null).value(null),a=or,o=[1,1],s=null;return t.separation=function(n){return arguments.length?(a=n,t):a},t.size=function(n){return arguments.length?(s=null==(o=n)?i:null,t):s?null:o},t.nodeSize=function(n){return arguments.length?(s=null==(o=n)?null:i,t):s?o:null},ji(t,r)},xa.layout.cluster=function(){function t(t,a){var o,s=n.call(this,t,a),u=s[0],l=0;Di(u,(function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce((function(t,n){return t+n.x}),0)/t.length}(n),t.y=function(t){return 1+xa.max(t,(function(t){return t.y}))}(n)):(t.x=o?l+=e(t,o):0,t.y=0,o=t)}));var c=hr(u),h=fr(u),f=c.x-e(c,h)/2,d=h.x+e(h,c)/2;return Di(u,r?function(t){t.x=(t.x-u.x)*i[0],t.y=(u.y-t.y)*i[1]}:function(t){t.x=(t.x-f)/(d-f)*i[0],t.y=(1-(u.y?t.y/u.y:1))*i[1]}),s}var n=xa.layout.hierarchy().sort(null).value(null),e=or,i=[1,1],r=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(n){return arguments.length?(r=null==(i=n),t):r?null:i},t.nodeSize=function(n){return arguments.length?(r=null!=(i=n),t):r?i:null},ji(t,n)},xa.layout.treemap=function(){function t(t,n){for(var e,i,r=-1,a=t.length;++r<a;)i=(e=t[r]).value*(0>n?0:n),e.area=isNaN(i)||0>=i?0:i}function n(e){var a=e.children;if(a&&a.length){var o,s,u,l=h(e),c=[],f=a.slice(),p=1/0,g="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(f,l.dx*l.dy/e.value),c.area=0;(u=f.length)>0;)c.push(o=f[u-1]),c.area+=o.area,"squarify"!==d||(s=i(c,g))<=p?(f.pop(),p=s):(c.area-=c.pop().area,r(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,g,l,!0),c.length=c.area=0),a.forEach(n)}}function e(n){var i=n.children;if(i&&i.length){var a,o=h(n),s=i.slice(),u=[];for(t(s,o.dx*o.dy/n.value),u.area=0;a=s.pop();)u.push(a),u.area+=a.area,null!=a.z&&(r(u,a.z?o.dx:o.dy,o,!s.length),u.length=u.area=0);i.forEach(e)}}function i(t,n){for(var e,i=t.area,r=0,a=1/0,o=-1,s=t.length;++o<s;)(e=t[o].area)&&(a>e&&(a=e),e>r&&(r=e));return n*=n,(i*=i)?Math.max(n*r*p/i,i/(n*a*p)):1/0}function r(t,n,e,i){var r,a=-1,o=t.length,s=e.x,l=e.y,c=n?u(t.area/n):0;if(n==e.dx){for((i||c>e.dy)&&(c=e.dy);++a<o;)(r=t[a]).x=s,r.y=l,r.dy=c,s+=r.dx=Math.min(e.x+e.dx-s,c?u(r.area/c):0);r.z=!0,r.dx+=e.x+e.dx-s,e.y+=c,e.dy-=c}else{for((i||c>e.dx)&&(c=e.dx);++a<o;)(r=t[a]).x=s,r.y=l,r.dx=c,l+=r.dy=Math.min(e.y+e.dy-l,c?u(r.area/c):0);r.z=!1,r.dy+=e.y+e.dy-l,e.x+=c,e.dx-=c}}function a(i){var r=o||s(i),a=r[0];return a.x=0,a.y=0,a.dx=l[0],a.dy=l[1],o&&s.revalue(a),t([a],a.dx*a.dy/a.value),(o?e:n)(a),f&&(o=r),r}var o,s=xa.layout.hierarchy(),u=Math.round,l=[1,1],c=null,h=dr,f=!1,d="squarify",p=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(l=t,a):l},a.padding=function(t){function n(n){var e=t.call(a,n,n.depth);return null==e?dr(n):pr(n,"number"==typeof e?[e,e,e,e]:e)}function e(n){return pr(n,t)}return arguments.length?(h=null==(c=t)?dr:"function"==(i=typeof t)?n:"number"===i?(t=[t,t,t,t],e):e,a):c;var i},a.round=function(t){return arguments.length?(u=t?Math.round:Number,a):u!=Number},a.sticky=function(t){return arguments.length?(f=t,o=null,a):f},a.ratio=function(t){return arguments.length?(p=t,a):p},a.mode=function(t){return arguments.length?(d=t+"",a):d},ji(a,s)},xa.random={normal:function(t,n){var e=arguments.length;return 2>e&&(n=1),1>e&&(t=0),function(){var e,i,r;do{r=(e=2*Math.random()-1)*e+(i=2*Math.random()-1)*i}while(!r||r>1);return t+n*e*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=xa.random.normal.apply(xa,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=xa.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var n=0,e=0;t>e;e++)n+=Math.random();return n}}},xa.scale={};var js={floor:M,ceil:M};xa.scale.linear=function(){return xr([0,1],[0,1],si,!1)};var qs={s:1,g:1,p:1,r:1,e:1};xa.scale.log=function(){return Ar(xa.scale.linear().domain([0,1]),10,!0,[1,10])};var Ds=xa.format(".0e"),$s={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};xa.scale.pow=function(){return Fr(xa.scale.linear(),1,[0,1])},xa.scale.sqrt=function(){return xa.scale.pow().exponent(.5)},xa.scale.ordinal=function(){return Tr([],{t:"range",a:[[]]})},xa.scale.category10=function(){return xa.scale.ordinal().range(Ls)},xa.scale.category20=function(){return xa.scale.ordinal().range(Rs)},xa.scale.category20b=function(){return xa.scale.ordinal().range(Hs)},xa.scale.category20c=function(){return xa.scale.ordinal().range(Ps)};var Ls=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(wt),Rs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(wt),Hs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(wt),Ps=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(wt);xa.scale.quantile=function(){return Nr([],[])},xa.scale.quantize=function(){return zr(0,1,[0,1])},xa.scale.threshold=function(){return jr([.5],[0,1])},xa.scale.identity=function(){return qr([0,1])},xa.svg={},xa.svg.arc=function(){function t(){var t=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+i.apply(this,arguments)),c=o.apply(this,arguments)-Ka,h=s.apply(this,arguments)-Ka,f=Math.abs(h-c),d=c>h?0:1;if(t>l&&(p=l,l=t,t=p),f>=Qa)return n(l,d)+(t?n(t,1-d):"")+"Z";var p,g,v,m,_,y,x,b,w,M,k,C,S=0,A=0,F=[];if((m=(+u.apply(this,arguments)||0)/2)&&(v=a===Os?Math.sqrt(t*t+l*l):+a.apply(this,arguments),d||(A*=-1),l&&(A=ot(v/l*Math.sin(m))),t&&(S=ot(v/t*Math.sin(m)))),l){_=l*Math.cos(c+A),y=l*Math.sin(c+A),x=l*Math.cos(h-A),b=l*Math.sin(h-A);var E=Math.abs(h-c-2*A)<=Xa?0:1;if(A&&Or(_,y,x,b)===d^E){var T=(c+h)/2;_=l*Math.cos(T),y=l*Math.sin(T),x=b=null}}else _=y=0;if(t){w=t*Math.cos(h-S),M=t*Math.sin(h-S),k=t*Math.cos(c+S),C=t*Math.sin(c+S);var N=Math.abs(c-h+2*S)<=Xa?0:1;if(S&&Or(w,M,k,C)===1-d^N){var z=(c+h)/2;w=t*Math.cos(z),M=t*Math.sin(z),k=C=null}}else w=M=0;if((p=Math.min(Math.abs(l-t)/2,+r.apply(this,arguments)))>.001){g=l>t^d?0:1;var j=null==k?[w,M]:null==x?[_,y]:Ce([_,y],[k,C],[x,b],[w,M]),q=_-j[0],D=y-j[1],$=x-j[0],L=b-j[1],R=1/Math.sin(Math.acos((q*$+D*L)/(Math.sqrt(q*q+D*D)*Math.sqrt($*$+L*L)))/2),H=Math.sqrt(j[0]*j[0]+j[1]*j[1]);if(null!=x){var P=Math.min(p,(l-H)/(R+1)),O=Ir(null==k?[w,M]:[k,C],[_,y],l,P,d),I=Ir([x,b],[w,M],l,P,d);p===P?F.push("M",O[0],"A",P,",",P," 0 0,",g," ",O[1],"A",l,",",l," 0 ",1-d^Or(O[1][0],O[1][1],I[1][0],I[1][1]),",",d," ",I[1],"A",P,",",P," 0 0,",g," ",I[0]):F.push("M",O[0],"A",P,",",P," 0 1,",g," ",I[0])}else F.push("M",_,",",y);if(null!=k){var U=Math.min(p,(t-H)/(R-1)),W=Ir([_,y],[k,C],t,-U,d),B=Ir([w,M],null==x?[_,y]:[x,b],t,-U,d);p===U?F.push("L",B[0],"A",U,",",U," 0 0,",g," ",B[1],"A",t,",",t," 0 ",d^Or(B[1][0],B[1][1],W[1][0],W[1][1]),",",1-d," ",W[1],"A",U,",",U," 0 0,",g," ",W[0]):F.push("L",B[0],"A",U,",",U," 0 0,",g," ",W[0])}else F.push("L",w,",",M)}else F.push("M",_,",",y),null!=x&&F.push("A",l,",",l," 0 ",E,",",d," ",x,",",b),F.push("L",w,",",M),null!=k&&F.push("A",t,",",t," 0 ",N,",",1-d," ",k,",",C);return F.push("Z"),F.join("")}function n(t,n){return"M0,"+t+"A"+t+","+t+" 0 1,"+n+" 0,"+-t+"A"+t+","+t+" 0 1,"+n+" 0,"+t}var e=$r,i=Lr,r=Dr,a=Os,o=Rr,s=Hr,u=Pr;return t.innerRadius=function(n){return arguments.length?(e=Et(n),t):e},t.outerRadius=function(n){return arguments.length?(i=Et(n),t):i},t.cornerRadius=function(n){return arguments.length?(r=Et(n),t):r},t.padRadius=function(n){return arguments.length?(a=n==Os?Os:Et(n),t):a},t.startAngle=function(n){return arguments.length?(o=Et(n),t):o},t.endAngle=function(n){return arguments.length?(s=Et(n),t):s},t.padAngle=function(n){return arguments.length?(u=Et(n),t):u},t.centroid=function(){var t=(+e.apply(this,arguments)+ +i.apply(this,arguments))/2,n=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Ka;return[Math.cos(n)*t,Math.sin(n)*t]},t};var Os="auto";xa.svg.line=function(){return Ur(M)};var Is=xa.map({linear:Wr,"linear-closed":function(t){return Wr(t)+"Z"},step:function(t){for(var n=0,e=t.length,i=t[0],r=[i[0],",",i[1]];++n<e;)r.push("H",(i[0]+(i=t[n])[0])/2,"V",i[1]);return e>1&&r.push("H",i[0]),r.join("")},"step-before":Br,"step-after":Yr,basis:Vr,"basis-open":function(t){if(t.length<4)return Wr(t);for(var n,e=[],i=-1,r=t.length,a=[0],o=[0];++i<3;)n=t[i],a.push(n[0]),o.push(n[1]);for(e.push(Qr(Bs,a)+","+Qr(Bs,o)),--i;++i<r;)n=t[i],a.shift(),a.push(n[0]),o.shift(),o.push(n[1]),Kr(e,a,o);return e.join("")},"basis-closed":function(t){for(var n,e,i=-1,r=t.length,a=r+4,o=[],s=[];++i<4;)e=t[i%r],o.push(e[0]),s.push(e[1]);for(n=[Qr(Bs,o),",",Qr(Bs,s)],--i;++i<a;)e=t[i%r],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),Kr(n,o,s);return n.join("")},bundle:function(t,n){var e=t.length-1;if(e)for(var i,r,a=t[0][0],o=t[0][1],s=t[e][0]-a,u=t[e][1]-o,l=-1;++l<=e;)r=l/e,(i=t[l])[0]=n*i[0]+(1-n)*(a+r*s),i[1]=n*i[1]+(1-n)*(o+r*u);return Vr(t)},cardinal:function(t,n){return t.length<3?Wr(t):t[0]+Zr(t,Xr(t,n))},"cardinal-open":function(t,n){return t.length<4?Wr(t):t[1]+Zr(t.slice(1,-1),Xr(t,n))},"cardinal-closed":function(t,n){return t.length<3?Wr(t):t[0]+Zr((t.push(t[0]),t),Xr([t[t.length-2]].concat(t,[t[1]]),n))},monotone:function(t){return t.length<3?Wr(t):t[0]+Zr(t,function(t){for(var n,e,i,r,a=[],o=function(t){for(var n=0,e=t.length-1,i=[],r=t[0],a=t[1],o=i[0]=Gr(r,a);++n<e;)i[n]=(o+(o=Gr(r=a,a=t[n+1])))/2;return i[n]=o,i}(t),s=-1,u=t.length-1;++s<u;)n=Gr(t[s],t[s+1]),Ta(n)<Ya?o[s]=o[s+1]=0:(r=(e=o[s]/n)*e+(i=o[s+1]/n)*i)>9&&(r=3*n/Math.sqrt(r),o[s]=r*e,o[s+1]=r*i);for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}(t))}});Is.forEach((function(t,n){n.key=t,n.closed=/-closed$/.test(t)}));var Us=[0,2/3,1/3,0],Ws=[0,1/3,2/3,0],Bs=[0,1/6,2/3,1/6];xa.svg.line.radial=function(){var t=Ur(Jr);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Br.reverse=Yr,Yr.reverse=Br,xa.svg.area=function(){return ta(M)},xa.svg.area.radial=function(){var t=ta(Jr);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},xa.svg.chord=function(){function t(t,o){var s=n(this,r,t,o),u=n(this,a,t,o);return"M"+s.p0+e(s.r,s.p1,s.a1-s.a0)+(function(t,n){return t.a0==n.a0&&t.a1==n.a1}(s,u)?i(s.r,s.p1,s.r,s.p0):i(s.r,s.p1,u.r,u.p0)+e(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,s.r,s.p0))+"Z"}function n(t,n,e,i){var r=n.call(t,e,i),a=o.call(t,r,i),l=s.call(t,r,i)-Ka,c=u.call(t,r,i)-Ka;return{r:a,a0:l,a1:c,p0:[a*Math.cos(l),a*Math.sin(l)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function e(t,n,e){return"A"+t+","+t+" 0 "+ +(e>Xa)+",1 "+n}function i(t,n,e,i){return"Q 0,0 "+i}var r=fe,a=de,o=na,s=Rr,u=Hr;return t.radius=function(n){return arguments.length?(o=Et(n),t):o},t.source=function(n){return arguments.length?(r=Et(n),t):r},t.target=function(n){return arguments.length?(a=Et(n),t):a},t.startAngle=function(n){return arguments.length?(s=Et(n),t):s},t.endAngle=function(n){return arguments.length?(u=Et(n),t):u},t},xa.svg.diagonal=function(){function t(t,r){var a=n.call(this,t,r),o=e.call(this,t,r),s=(a.y+o.y)/2,u=[a,{x:a.x,y:s},{x:o.x,y:s},o];return"M"+(u=u.map(i))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var n=fe,e=de,i=ea;return t.source=function(e){return arguments.length?(n=Et(e),t):n},t.target=function(n){return arguments.length?(e=Et(n),t):e},t.projection=function(n){return arguments.length?(i=n,t):i},t},xa.svg.diagonal.radial=function(){var t=xa.svg.diagonal(),n=ea,e=t.projection;return t.projection=function(t){return arguments.length?e(ia(n=t)):n},t},xa.svg.symbol=function(){function t(t,i){return(Ys.get(n.call(this,t,i))||oa)(e.call(this,t,i))}var n=aa,e=ra;return t.type=function(e){return arguments.length?(n=Et(e),t):n},t.size=function(n){return arguments.length?(e=Et(n),t):e},t};var Ys=xa.map({circle:oa,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*Xs)),e=n*Xs;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Zs),e=n*Zs/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Zs),e=n*Zs/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});xa.svg.symbolTypes=Ys.keys();var Zs=Math.sqrt(3),Xs=Math.tan(30*Ga);Ha.transition=function(t){for(var n,e,i=Vs||++Js,r=ha(t),a=[],o=Qs||{time:Date.now(),ease:pi,delay:0,duration:250},s=-1,u=this.length;++s<u;){a.push(n=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(e=l[c])&&fa(e,c,r,i,o),n.push(e)}return ua(a,r,i)},Ha.interrupt=function(t){return this.each(null==t?Ks:sa(ha(t)))};var Vs,Qs,Ks=sa(ha()),Gs=[],Js=0;Gs.call=Ha.call,Gs.empty=Ha.empty,Gs.node=Ha.node,Gs.size=Ha.size,xa.transition=function(t,n){return t&&t.transition?Vs?t.transition(n):t:xa.selection().transition(t)},xa.transition.prototype=Gs,Gs.select=function(t){var n,e,i,r=this.id,a=this.namespace,o=[];t=j(t);for(var s=-1,u=this.length;++s<u;){o.push(n=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(i=l[c])&&(e=t.call(i,i.__data__,c,s))?("__data__"in i&&(e.__data__=i.__data__),fa(e,c,a,r,i[a][r]),n.push(e)):n.push(null)}return ua(o,a,r)},Gs.selectAll=function(t){var n,e,i,r,a,o=this.id,s=this.namespace,u=[];t=q(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,d=h.length;++f<d;)if(i=h[f]){a=i[s][o],e=t.call(i,i.__data__,f,l),u.push(n=[]);for(var p=-1,g=e.length;++p<g;)(r=e[p])&&fa(r,p,s,o,a),n.push(r)}return ua(u,s,o)},Gs.filter=function(t){var n,e,i=[];"function"!=typeof t&&(t=Y(t));for(var r=0,a=this.length;a>r;r++){i.push(n=[]);for(var o,s=0,u=(o=this[r]).length;u>s;s++)(e=o[s])&&t.call(e,e.__data__,s,r)&&n.push(e)}return ua(i,this.namespace,this.id)},Gs.tween=function(t,n){var e=this.id,i=this.namespace;return arguments.length<2?this.node()[i][e].tween.get(t):X(this,null==n?function(n){n[i][e].tween.remove(t)}:function(r){r[i][e].tween.set(t,n)})},Gs.attr=function(t,n){function e(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?e:(t+="",function(){var n,e=this.getAttribute(s);return e!==t&&(n=o(e,t),function(t){this.setAttribute(s,n(t))})})}function a(t){return null==t?i:(t+="",function(){var n,e=this.getAttributeNS(s.space,s.local);return e!==t&&(n=o(e,t),function(t){this.setAttributeNS(s.space,s.local,n(t))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var o="transform"==t?Mi:si,s=xa.ns.qualify(t);return la(this,"attr."+t,n,s.local?a:r)},Gs.attrTween=function(t,n){var e=xa.ns.qualify(t);return this.tween("attr."+t,e.local?function(t,i){var r=n.call(this,t,i,this.getAttributeNS(e.space,e.local));return r&&function(t){this.setAttributeNS(e.space,e.local,r(t))}}:function(t,i){var r=n.call(this,t,i,this.getAttribute(e));return r&&function(t){this.setAttribute(e,r(t))}})},Gs.style=function(t,n,e){function i(){this.style.removeProperty(t)}function r(n){return null==n?i:(n+="",function(){var i,r=o(this).getComputedStyle(this,null).getPropertyValue(t);return r!==n&&(i=si(r,n),function(n){this.style.setProperty(t,i(n),e)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){for(e in 2>a&&(n=""),t)this.style(e,t[e],n);return this}e=""}return la(this,"style."+t,n,r)},Gs.styleTween=function(t,n,e){function i(i,r){var a=n.call(this,i,r,o(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(n){this.style.setProperty(t,a(n),e)}}return arguments.length<3&&(e=""),this.tween("style."+t,i)},Gs.text=function(t){return la(this,"text",t,ca)},Gs.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var n;this[t].count<2&&(n=this.parentNode)&&n.removeChild(this)}))},Gs.ease=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].ease:("function"!=typeof t&&(t=xa.ease.apply(xa,arguments)),X(this,(function(i){i[e][n].ease=t})))},Gs.delay=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].delay:X(this,"function"==typeof t?function(i,r,a){i[e][n].delay=+t.call(i,i.__data__,r,a)}:(t=+t,function(i){i[e][n].delay=t}))},Gs.duration=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].duration:X(this,"function"==typeof t?function(i,r,a){i[e][n].duration=Math.max(1,t.call(i,i.__data__,r,a))}:(t=Math.max(1,t),function(i){i[e][n].duration=t}))},Gs.each=function(t,n){var e=this.id,i=this.namespace;if(arguments.length<2){var r=Qs,a=Vs;try{Vs=e,X(this,(function(n,r,a){Qs=n[i][e],t.call(n,n.__data__,r,a)}))}finally{Qs=r,Vs=a}}else X(this,(function(r){var a=r[i][e];(a.event||(a.event=xa.dispatch("start","end","interrupt"))).on(t,n)}));return this},Gs.transition=function(){for(var t,n,e,i=this.id,r=++Js,a=this.namespace,o=[],s=0,u=this.length;u>s;s++){o.push(t=[]);for(var l,c=0,h=(l=this[s]).length;h>c;c++)(n=l[c])&&fa(n,c,a,r,{time:(e=n[a][i]).time,ease:e.ease,delay:e.delay+e.duration,duration:e.duration}),t.push(n)}return ua(o,a,r)},xa.svg.axis=function(){function t(t){t.each((function(){var t,l=xa.select(this),c=this.__chart__||e,h=this.__chart__=e.copy(),f=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,d=null==n?h.tickFormat?h.tickFormat.apply(h,s):M:n,p=l.selectAll(".tick").data(f,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ya),v=xa.transition(p.exit()).style("opacity",Ya).remove(),m=xa.transition(p.order()).style("opacity",1),_=Math.max(r,0)+o,y=vr(h),x=l.selectAll(".domain").data([0]),b=(x.enter().append("path").attr("class","domain"),xa.transition(x));g.append("line"),g.append("text");var w,k,C,S,A=g.select("line"),F=m.select("line"),E=p.select("text").text(d),T=g.select("text"),N=m.select("text"),z="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=da,w="x",C="y",k="x2",S="y2",E.attr("dy",0>z?"0em":".71em").style("text-anchor","middle"),b.attr("d","M"+y[0]+","+z*a+"V0H"+y[1]+"V"+z*a)):(t=pa,w="y",C="x",k="y2",S="x2",E.attr("dy",".32em").style("text-anchor",0>z?"end":"start"),b.attr("d","M"+z*a+","+y[0]+"H0V"+y[1]+"H"+z*a)),A.attr(S,z*r),T.attr(C,z*_),F.attr(k,0).attr(S,z*r),N.attr(w,0).attr(C,z*_),h.rangeBand){var j=h,q=j.rangeBand()/2;c=h=function(t){return j(t)+q}}else c.rangeBand?c=h:v.call(t,h,c);g.call(t,c,h),m.call(t,h,h)}))}var n,e=xa.scale.linear(),i=tu,r=6,a=6,o=3,s=[10],u=null;return t.scale=function(n){return arguments.length?(e=n,t):e},t.orient=function(n){return arguments.length?(i=n in nu?n+"":tu,t):i},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(n){return arguments.length?(u=n,t):u},t.tickFormat=function(e){return arguments.length?(n=e,t):n},t.tickSize=function(n){var e=arguments.length;return e?(r=+n,a=+arguments[e-1],t):r},t.innerTickSize=function(n){return arguments.length?(r=+n,t):r},t.outerTickSize=function(n){return arguments.length?(a=+n,t):a},t.tickPadding=function(n){return arguments.length?(o=+n,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var tu="bottom",nu={top:1,right:1,bottom:1,left:1};xa.svg.brush=function(){function t(a){a.each((function(){var a=xa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),o=a.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=a.selectAll(".resize").data(g,M);s.exit().remove(),s.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return eu[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,h=xa.transition(a),f=xa.transition(o);l&&(u=vr(l),f.attr("x",u[0]).attr("width",u[1]-u[0]),e(h)),c&&(u=vr(c),f.attr("y",u[0]).attr("height",u[1]-u[0]),i(h)),n(h)}))}function n(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+h[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"}))}function e(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function i(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function r(){function r(){32==xa.event.keyCode&&(F||(y=null,N[0]-=h[1],N[1]-=f[1],F=2),E())}function g(){32==xa.event.keyCode&&2==F&&(N[0]+=h[1],N[1]+=f[1],F=0,E())}function v(){var t=xa.mouse(b),r=!1;x&&(t[0]+=x[0],t[1]+=x[1]),F||(xa.event.altKey?(y||(y=[(h[0]+h[1])/2,(f[0]+f[1])/2]),N[0]=h[+(t[0]<y[0])],N[1]=f[+(t[1]<y[1])]):y=null),S&&m(t,l,0)&&(e(k),r=!0),A&&m(t,c,1)&&(i(k),r=!0),r&&(n(k),M({type:"brush",mode:F?"move":"resize"}))}function m(t,n,e){var i,r,o=vr(n),u=o[0],l=o[1],c=N[e],g=e?f:h,v=g[1]-g[0];return F&&(u-=c,l-=v+c),i=(e?p:d)?Math.max(u,Math.min(l,t[e])):t[e],F?r=(i+=c)+v:(y&&(c=Math.max(u,Math.min(l,2*y[e]-i))),i>c?(r=i,i=c):r=c),g[0]!=i||g[1]!=r?(e?s=null:a=null,g[0]=i,g[1]=r,!0):void 0}function _(){v(),k.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),xa.select("body").style("cursor",null),z.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),M({type:"brushend"})}var y,x,b=this,w=xa.select(xa.event.target),M=u.of(b,arguments),k=xa.select(b),C=w.datum(),S=!/^(n|s)$/.test(C)&&l,A=!/^(e|w)$/.test(C)&&c,F=w.classed("extent"),T=tt(b),N=xa.mouse(b),z=xa.select(o(b)).on("keydown.brush",r).on("keyup.brush",g);if(xa.event.changedTouches?z.on("touchmove.brush",v).on("touchend.brush",_):z.on("mousemove.brush",v).on("mouseup.brush",_),k.interrupt().selectAll("*").interrupt(),F)N[0]=h[0]-N[0],N[1]=f[0]-N[1];else if(C){var j=+/w$/.test(C),q=+/^n/.test(C);x=[h[1-j]-N[0],f[1-q]-N[1]],N[0]=h[j],N[1]=f[q]}else xa.event.altKey&&(y=N.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),xa.select("body").style("cursor",w.style("cursor")),M({type:"brushstart"}),v()}var a,s,u=N(t,"brushstart","brush","brushend"),l=null,c=null,h=[0,0],f=[0,0],d=!0,p=!0,g=iu[0];return t.event=function(t){t.each((function(){var t=u.of(this,arguments),n={x:h,y:f,i:a,j:s},e=this.__chart__||n;this.__chart__=n,Vs?xa.select(this).transition().each("start.brush",(function(){a=e.i,s=e.j,h=e.x,f=e.y,t({type:"brushstart"})})).tween("brush:brush",(function(){var e=ui(h,n.x),i=ui(f,n.y);return a=s=null,function(r){h=n.x=e(r),f=n.y=i(r),t({type:"brush",mode:"resize"})}})).each("end.brush",(function(){a=n.i,s=n.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})})):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))}))},t.x=function(n){return arguments.length?(g=iu[!(l=n)<<1|!c],t):l},t.y=function(n){return arguments.length?(g=iu[!l<<1|!(c=n)],t):c},t.clamp=function(n){return arguments.length?(l&&c?(d=!!n[0],p=!!n[1]):l?d=!!n:c&&(p=!!n),t):l&&c?[d,p]:l?d:c?p:null},t.extent=function(n){var e,i,r,o,u;return arguments.length?(l&&(e=n[0],i=n[1],c&&(e=e[0],i=i[0]),a=[e,i],l.invert&&(e=l(e),i=l(i)),e>i&&(u=e,e=i,i=u),(e!=h[0]||i!=h[1])&&(h=[e,i])),c&&(r=n[0],o=n[1],l&&(r=r[1],o=o[1]),s=[r,o],c.invert&&(r=c(r),o=c(o)),r>o&&(u=r,r=o,o=u),(r!=f[0]||o!=f[1])&&(f=[r,o])),t):(l&&(a?(e=a[0],i=a[1]):(e=h[0],i=h[1],l.invert&&(e=l.invert(e),i=l.invert(i)),e>i&&(u=e,e=i,i=u))),c&&(s?(r=s[0],o=s[1]):(r=f[0],o=f[1],c.invert&&(r=c.invert(r),o=c.invert(o)),r>o&&(u=r,r=o,o=u))),l&&c?[[e,r],[i,o]]:l?[e,i]:c&&[r,o])},t.clear=function(){return t.empty()||(h=[0,0],f=[0,0],a=s=null),t},t.empty=function(){return!!l&&h[0]==h[1]||!!c&&f[0]==f[1]},xa.rebind(t,u,"on")};var eu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},iu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],ru=Mo.format=Eo.timeFormat,au=ru.utc,ou=au("%Y-%m-%dT%H:%M:%S.%LZ");ru.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ga:ou,ga.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},ga.toString=ou.toString,Mo.second=Ht((function(t){return new ko(1e3*Math.floor(t/1e3))}),(function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))}),(function(t){return t.getSeconds()})),Mo.seconds=Mo.second.range,Mo.seconds.utc=Mo.second.utc.range,Mo.minute=Ht((function(t){return new ko(6e4*Math.floor(t/6e4))}),(function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))}),(function(t){return t.getMinutes()})),Mo.minutes=Mo.minute.range,Mo.minutes.utc=Mo.minute.utc.range,Mo.hour=Ht((function(t){var n=t.getTimezoneOffset()/60;return new ko(36e5*(Math.floor(t/36e5-n)+n))}),(function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))}),(function(t){return t.getHours()})),Mo.hours=Mo.hour.range,Mo.hours.utc=Mo.hour.utc.range,Mo.month=Ht((function(t){return(t=Mo.day(t)).setDate(1),t}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t){return t.getMonth()})),Mo.months=Mo.month.range,Mo.months.utc=Mo.month.utc.range;var su=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],uu=[[Mo.second,1],[Mo.second,5],[Mo.second,15],[Mo.second,30],[Mo.minute,1],[Mo.minute,5],[Mo.minute,15],[Mo.minute,30],[Mo.hour,1],[Mo.hour,3],[Mo.hour,6],[Mo.hour,12],[Mo.day,1],[Mo.day,2],[Mo.week,1],[Mo.month,1],[Mo.month,3],[Mo.year,1]],lu=ru.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Fn]]),cu={range:function(t,n,e){return xa.range(Math.ceil(t/e)*e,+n,e).map(ma)},floor:M,ceil:M};uu.year=Mo.year,Mo.scale=function(){return va(xa.scale.linear(),uu,lu)};var hu=uu.map((function(t){return[t[0].utc,t[1]]})),fu=au.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Fn]]);hu.year=Mo.year.utc,Mo.scale.utc=function(){return va(xa.scale.linear(),hu,fu)},xa.text=Tt((function(t){return t.responseText})),xa.json=function(t,n){return Nt(t,"application/json",_a,n)},xa.html=function(t,n){return Nt(t,"text/html",ya,n)},xa.xml=Tt((function(t){return t.responseXML})),void 0!==(r="function"==typeof(i=xa)?i.call(n,e,n,t):i)&&(t.exports=r),this.d3=xa}()},689:()=>{outer_update=null},336:(t,n,e)=>{var i;!function(){"use strict";function r(t,n){function e(t,n){return function(){return t.apply(n,arguments)}}var i;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=t,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!r.notNeeded(t)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,u=0,l=a.length;l>u;u++)s[a[u]]=e(s[a[u]],s);o&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(n,e,i){var r=Node.prototype.removeEventListener;"click"===n?r.call(t,n,e.hijacked||e,i):r.call(t,n,e,i)},t.addEventListener=function(n,e,i){var r=Node.prototype.addEventListener;"click"===n?r.call(t,n,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),i):r.call(t,n,e,i)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",(function(t){i(t)}),!1),t.onclick=null)}}var a=navigator.userAgent.indexOf("Windows Phone")>=0,o=navigator.userAgent.indexOf("Android")>0&&!a,s=/iP(ad|hone|od)/.test(navigator.userAgent)&&!a,u=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=s&&/OS [6-7]_\d/.test(navigator.userAgent),c=navigator.userAgent.indexOf("BB10")>0;r.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(s&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},r.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!o;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},r.prototype.sendClick=function(t,n){var e,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=n.changedTouches[0],(e=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.forwardedTouchEvent=!0,t.dispatchEvent(e)},r.prototype.determineEventType=function(t){return o&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(t){var n;s&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(n=t.value.length,t.setSelectionRange(n,n)):t.focus()},r.prototype.updateScrollParent=function(t){var n,e;if(!(n=t.fastClickScrollParent)||!n.contains(t)){e=t;do{if(e.scrollHeight>e.offsetHeight){n=e,t.fastClickScrollParent=e;break}e=e.parentElement}while(e)}n&&(n.fastClickLastScrollTop=n.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},r.prototype.onTouchStart=function(t){var n,e,i;if(t.targetTouches.length>1)return!0;if(n=this.getTargetElementFromEventTarget(t.target),e=t.targetTouches[0],s){if((i=window.getSelection()).rangeCount&&!i.isCollapsed)return!0;if(!u){if(e.identifier&&e.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=e.identifier,this.updateScrollParent(n)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=n,this.touchStartX=e.pageX,this.touchStartY=e.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},r.prototype.touchHasMoved=function(t){var n=t.changedTouches[0],e=this.touchBoundary;return Math.abs(n.pageX-this.touchStartX)>e||Math.abs(n.pageY-this.touchStartY)>e},r.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},r.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(t){var n,e,i,r,a,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,e=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(a=t.changedTouches[0],(c=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)||c).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=c.tagName.toLowerCase())){if(n=this.findControl(c)){if(this.focus(c),o)return!1;c=n}}else if(this.needsFocus(c))return t.timeStamp-e>100||s&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),s&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return!(!s||u||(r=c.fastClickScrollParent,!r||r.fastClickLastScrollTop===r.scrollTop))||(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(t){return!(this.targetElement&&!t.forwardedTouchEvent&&t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),1))},r.prototype.onClick=function(t){var n;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((n=this.onMouse(t))||(this.targetElement=null),n)},r.prototype.destroy=function(){var t=this.layer;o&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(t){var n,e,i;if(void 0===window.ontouchstart)return!0;if(e=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!o)return!0;if(n=document.querySelector("meta[name=viewport]")){if(-1!==n.content.indexOf("user-scalable=no"))return!0;if(e>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(c&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&i[2]>=3&&(n=document.querySelector("meta[name=viewport]"))){if(-1!==n.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(n=document.querySelector("meta[name=viewport]"),n&&(-1!==n.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)))||"none"===t.style.touchAction||"manipulation"===t.style.touchAction},r.attach=function(t,n){return new r(t,n)},void 0===(i=function(){return r}.call(n,e,n,t))||(t.exports=i)}()},930:()=>{!function(t,n,e,i){"use strict";!function(n){for(var e=n.length,i=t("head");e--;)0===i.has("."+n[e]).length&&i.append('<meta class="'+n[e]+'" />')}(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),t((function(){"undefined"!=typeof FastClick&&void 0!==e.body&&FastClick.attach(e.body)}));var r,a,o,s,u,l,c=function(n,i){if("string"==typeof n){if(i){var r;if(i.jquery){if(!(r=i[0]))return i}else r=i;return t(r.querySelectorAll(n))}return t(e.querySelectorAll(n))}return t(n,i)},h=function(t){var n=[];return t||n.push("data"),this.namespace.length>0&&n.push(this.namespace),n.push(this.name),n.join("-")},f=function(t){for(var n=t.split("-"),e=n.length,i=[];e--;)0!==e?i.push(n[e]):this.namespace.length>0?i.push(this.namespace,n[e]):i.push(n[e]);return i.reverse().join("-")},d=function(n,e){var i=this,r=function(){var r=c(this),a=!r.data(i.attr_name(!0)+"-init");r.data(i.attr_name(!0)+"-init",t.extend({},i.settings,e||n,i.data_options(r))),a&&i.events(this)};if(c(this.scope).is("["+this.attr_name()+"]")?r.call(this.scope):c("["+this.attr_name()+"]",this.scope).each(r),"string"==typeof n)return this[n].call(this,e)};n.matchMedia=n.matchMedia||(o=(r=e).documentElement,s=o.firstElementChild||o.firstChild,u=r.createElement("body"),(l=r.createElement("div")).id="mq-test-1",l.style.cssText="position:absolute;top:-100em",u.style.background="none",u.appendChild(l),function(t){return l.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',o.insertBefore(u,s),a=42===l.offsetWidth,o.removeChild(u),{matches:a,media:t}}),function(t){for(var e,i=0,r=["webkit","moz"],a=n.requestAnimationFrame,o=n.cancelAnimationFrame,s=void 0!==t.fx;i<r.length&&!a;i++)a=n[r[i]+"RequestAnimationFrame"],o=o||n[r[i]+"CancelAnimationFrame"]||n[r[i]+"CancelRequestAnimationFrame"];function u(){e&&(a(u),s&&t.fx.tick())}a?(n.requestAnimationFrame=a,n.cancelAnimationFrame=o,s&&(t.fx.timer=function(n){n()&&t.timers.push(n)&&!e&&(e=!0,u())},t.fx.stop=function(){e=!1})):(n.requestAnimationFrame=function(t){var e=(new Date).getTime(),r=Math.max(0,16-(e-i)),a=n.setTimeout((function(){t(e+r)}),r);return i=e+r,a},n.cancelAnimationFrame=function(t){clearTimeout(t)})}(t),n.Foundation={name:"Foundation",version:"5.5.1",media_queries:{small:c(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":c(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:c(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":c(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:c(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":c(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:c(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":c(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:c(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:t("<style></style>").appendTo("head")[0].sheet,global:{namespace:i},init:function(t,e,i,r,a){var o=[t,i,r,a],s=[];if(this.rtl=/rtl/i.test(c("html").attr("dir")),this.scope=t||this.scope,this.set_namespace(),e&&"string"==typeof e&&!/reflow/i.test(e))this.libs.hasOwnProperty(e)&&s.push(this.init_lib(e,o));else for(var u in this.libs)s.push(this.init_lib(u,e));return c(n).load((function(){c(n).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")})),t},init_lib:function(n,e){return this.libs.hasOwnProperty(n)?(this.patch(this.libs[n]),e&&e.hasOwnProperty(n)?(void 0!==this.libs[n].settings?t.extend(!0,this.libs[n].settings,e[n]):void 0!==this.libs[n].defaults&&t.extend(!0,this.libs[n].defaults,e[n]),this.libs[n].init.apply(this.libs[n],[this.scope,e[n]])):(e=e instanceof Array?e:new Array(e),this.libs[n].init.apply(this.libs[n],e))):function(){}},patch:function(t){t.scope=this.scope,t.namespace=this.global.namespace,t.rtl=this.rtl,t.data_options=this.utils.data_options,t.attr_name=h,t.add_namespace=f,t.bindings=d,t.S=this.utils.S},inherit:function(t,n){for(var e=n.split(" "),i=e.length;i--;)this.utils.hasOwnProperty(e[i])&&(t[e[i]]=this.utils[e[i]])},set_namespace:function(){var n=this.global.namespace===i?t(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=n===i||/false/i.test(n)?"":n},libs:{},utils:{S:c,throttle:function(t,n){var e=null;return function(){var i=this,r=arguments;null==e&&(e=setTimeout((function(){t.apply(i,r),e=null}),n))}},debounce:function(t,n,e){var i,r;return function(){var a=this,o=arguments,s=function(){i=null,e||(r=t.apply(a,o))},u=e&&!i;return clearTimeout(i),i=setTimeout(s,n),u&&(r=t.apply(a,o)),r}},data_options:function(n,e){e=e||"options";var i,r,a,o,s={},u=function(t){var n=Foundation.global.namespace;return n.length>0?t.data(n+"-"+e):t.data(e)}(n);if("object"==typeof u)return u;function l(n){return"string"==typeof n?t.trim(n):n}for(i=(a=(u||":").split(";")).length;i--;)r=[(r=a[i].split(":"))[0],r.slice(1).join(":")],/true/i.test(r[1])&&(r[1]=!0),/false/i.test(r[1])&&(r[1]=!1),o=r[1],isNaN(o-0)||null===o||""===o||!1===o||!0===o||(-1===r[1].indexOf(".")?r[1]=parseInt(r[1],10):r[1]=parseFloat(r[1])),2===r.length&&r[0].length>0&&(s[l(r[0])]=l(r[1]));return s},register_media:function(n,e){var r;Foundation.media_queries[n]===i&&(t("head").append('<meta class="'+e+'"/>'),Foundation.media_queries[n]=(("string"==typeof(r=t("."+e).css("font-family"))||r instanceof String)&&(r=r.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),r))},add_custom_rule:function(t,n){n===i&&Foundation.stylesheet?Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length):Foundation.media_queries[n]!==i&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[n]+"{ "+t+" }")},image_loaded:function(t,n){var e=this,i=t.length;0===i&&n(t),t.each((function(){!function(t,n){function e(){n(t[0])}t.attr("src")?t[0].complete||4===t[0].readyState?e():function(){if(this.one("load",e),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),n=t.match(/\?/)?"&":"?";n+="random="+(new Date).getTime(),this.attr("src",t+n)}}.call(t):e()}(e.S(this),(function(){0==(i-=1)&&n(t)}))}))},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(t){return n.matchMedia(t).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},t.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each((function(){return Foundation.init.apply(Foundation,[this].concat(t)),this}))}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.slider={name:"slider",version:"5.5.1",settings:{start:0,end:100,step:1,precision:null,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(t,n,e){Foundation.inherit(this,"throttle"),this.bindings(n,e),this.reflow()},events:function(){var e=this;t(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+e.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",(function(n){e.cache.active||(n.preventDefault(),e.set_active_slider(t(n.target)))})).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",(function(i){if(e.cache.active)if(i.preventDefault(),t.data(e.cache.active[0],"settings").vertical){var r=0;i.pageY||(r=n.scrollY),e.calculate_position(e.cache.active,e.get_cursor_position(i,"y")+r)}else e.calculate_position(e.cache.active,e.get_cursor_position(i,"x"))})).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",(function(t){e.remove_active_slider()})).on("change.fndtn.slider",(function(t){e.settings.on_change()})),e.S(n).on("resize.fndtn.slider",e.throttle((function(t){e.reflow()}),300))},get_cursor_position:function(t,n){var e,i="page"+n.toUpperCase(),r="client"+n.toUpperCase();return void 0!==t[i]?e=t[i]:void 0!==t.originalEvent[r]?e=t.originalEvent[r]:t.originalEvent.touches&&t.originalEvent.touches[0]&&void 0!==t.originalEvent.touches[0][r]?e=t.originalEvent.touches[0][r]:t.currentPoint&&void 0!==t.currentPoint[n]&&(e=t.currentPoint[n]),e},set_active_slider:function(t){this.cache.active=t},remove_active_slider:function(){this.cache.active=null},calculate_position:function(n,e){var i=this,r=t.data(n[0],"settings"),a=(t.data(n[0],"handle_l"),t.data(n[0],"handle_o"),t.data(n[0],"bar_l")),o=t.data(n[0],"bar_o");requestAnimationFrame((function(){var t;t=Foundation.rtl&&!r.vertical?i.limit_to((o+a-e)/a,0,1):i.limit_to((e-o)/a,0,1),t=r.vertical?1-t:t;var s=i.normalized_value(t,r.start,r.end,r.step,r.precision);i.set_ui(n,s)}))},set_ui:function(n,e){var i=t.data(n[0],"settings"),r=t.data(n[0],"handle_l"),a=t.data(n[0],"bar_l"),o=this.normalized_percentage(e,i.start,i.end),s=o*(a-r)-1,u=100*o,l=n.parent(),c=n.parent().children("input[type=hidden]");Foundation.rtl&&!i.vertical&&(s=-s),s=i.vertical?-s+a-r+1:s,this.set_translate(n,s,i.vertical),i.vertical?n.siblings(".range-slider-active-segment").css("height",u+"%"):n.siblings(".range-slider-active-segment").css("width",u+"%"),l.attr(this.attr_name(),e).trigger("change").trigger("change.fndtn.slider"),c.val(e),i.trigger_input_change&&c.trigger("change"),n[0].hasAttribute("aria-valuemin")||n.attr({"aria-valuemin":i.start,"aria-valuemax":i.end}),n.attr("aria-valuenow",e),""!=i.display_selector&&t(i.display_selector).each((function(){this.hasOwnProperty("value")?t(this).val(e):t(this).text(e)}))},normalized_percentage:function(t,n,e){return Math.min(1,(t-n)/(e-n))},normalized_value:function(t,n,e,i,r){var a=t*(e-n);return((a-a%i)/i*i+(a%i>=.5*i?i:0)+n).toFixed(r)},set_translate:function(n,e,i){i?t(n).css("-webkit-transform","translateY("+e+"px)").css("-moz-transform","translateY("+e+"px)").css("-ms-transform","translateY("+e+"px)").css("-o-transform","translateY("+e+"px)").css("transform","translateY("+e+"px)"):t(n).css("-webkit-transform","translateX("+e+"px)").css("-moz-transform","translateX("+e+"px)").css("-ms-transform","translateX("+e+"px)").css("-o-transform","translateX("+e+"px)").css("transform","translateX("+e+"px)")},limit_to:function(t,n,e){return Math.min(Math.max(t,n),e)},initialize_settings:function(n){var e,i=t.extend({},this.settings,this.data_options(t(n).parent()));null===i.precision&&(e=(""+i.step).match(/\.([\d]*)/),i.precision=e&&e[1]?e[1].length:0),i.vertical?(t.data(n,"bar_o",t(n).parent().offset().top),t.data(n,"bar_l",t(n).parent().outerHeight()),t.data(n,"handle_o",t(n).offset().top),t.data(n,"handle_l",t(n).outerHeight())):(t.data(n,"bar_o",t(n).parent().offset().left),t.data(n,"bar_l",t(n).parent().outerWidth()),t.data(n,"handle_o",t(n).offset().left),t.data(n,"handle_l",t(n).outerWidth())),t.data(n,"bar",t(n).parent()),t.data(n,"settings",i)},set_initial_position:function(n){var e=t.data(n.children(".range-slider-handle")[0],"settings"),i="number"!=typeof e.initial||isNaN(e.initial)?Math.floor(.5*(e.end-e.start)/e.step)*e.step+e.start:e.initial,r=n.children(".range-slider-handle");this.set_ui(r,i)},set_value:function(n){var e=this;t("["+e.attr_name()+"]",this.scope).each((function(){t(this).attr(e.attr_name(),n)})),t(this.scope).attr(e.attr_name())&&t(this.scope).attr(e.attr_name(),n),e.reflow()},reflow:function(){var n=this;n.S("["+this.attr_name()+"]").each((function(){var e=t(this).children(".range-slider-handle")[0],i=t(this).attr(n.attr_name());n.initialize_settings(e),i?n.set_ui(t(e),parseFloat(i)):n.set_initial_position(t(this))}))}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.joyride={name:"joyride",version:"5.5.1",defaults:{expose:!1,modal:!0,keyboard:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,prev_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(n,e,i){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||t.extend({},this.defaults,i||e),this.bindings(e,i)},go_next:function(){this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())},go_prev:function(){this.settings.$li.prev().length<1||(this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(null,!0),this.startTimer()):(this.hide(),this.show(null,!0)))},events:function(){var e=this;t(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(t){t.preventDefault(),this.go_next()}.bind(this)).on("click.fndtn.joyride",".joyride-prev-tip",function(t){t.preventDefault(),this.go_prev()}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(t){t.preventDefault(),this.end(this.settings.abort_on_close)}.bind(this)).on("keyup.fndtn.joyride",function(t){if(this.settings.keyboard&&this.settings.riding)switch(t.which){case 39:t.preventDefault(),this.go_next();break;case 37:t.preventDefault(),this.go_prev();break;case 27:t.preventDefault(),this.end(this.settings.abort_on_close)}}.bind(this)),t(n).off(".joyride").on("resize.fndtn.joyride",e.throttle((function(){t("["+e.attr_name()+"]").length>0&&e.settings.$next_tip&&e.settings.riding&&(e.settings.exposed.length>0&&t(e.settings.exposed).each((function(){var n=t(this);e.un_expose(n),e.expose(n)})),e.is_phone()?e.pos_phone():e.pos_default(!1))}),100))},start:function(){var n=this,e=t("["+this.attr_name()+"]",this.scope),i=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],r=i.length;!e.length>0||(this.settings.init||this.events(),this.settings=e.data(this.attr_name(!0)+"-init"),this.settings.$content_el=e,this.settings.$body=t(this.settings.tip_container),this.settings.body_offset=t(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.riding=!0,"function"!=typeof t.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!t.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each((function(e){var a=t(this);this.settings=t.extend({},n.defaults,n.data_options(a));for(var o=r;o--;)n.settings[i[o]]=parseInt(n.settings[i[o]],10);n.create({$li:a,index:e})})),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(n){var e,i;return n.tip_class=n.tip_class||"",e=t(this.settings.template.tip).addClass(n.tip_class),i=t.trim(t(n.li).html())+this.prev_button_text(n.prev_button_text,n.index)+this.button_text(n.button_text)+this.settings.template.link+this.timer_instance(n.index),e.append(t(this.settings.template.wrapper)),e.first().attr(this.add_namespace("data-index"),n.index),t(".joyride-content-wrapper",e).append(i),e[0]},timer_instance:function(n){return 0===n&&this.settings.start_timer_on_click&&this.settings.timer>0||0===this.settings.timer?"":t(this.settings.template.timer)[0].outerHTML},button_text:function(n){return this.settings.tip_settings.next_button?(n=t.trim(n)||"Next",n=t(this.settings.template.button).append(n)[0].outerHTML):n="",n},prev_button_text:function(n,e){return this.settings.tip_settings.prev_button?(n=t.trim(n)||"Previous",n=0==e?t(this.settings.template.prev_button).append(n).addClass("disabled")[0].outerHTML:t(this.settings.template.prev_button).append(n)[0].outerHTML):n="",n},create:function(n){this.settings.tip_settings=t.extend({},this.settings,this.data_options(n.$li));var e=n.$li.attr(this.add_namespace("data-button"))||n.$li.attr(this.add_namespace("data-text")),i=n.$li.attr(this.add_namespace("data-button-prev"))||n.$li.attr(this.add_namespace("data-prev-text")),r=n.$li.attr("class"),a=t(this.tip_template({tip_class:r,index:n.index,button_text:e,prev_button_text:i,li:n.$li}));t(this.settings.tip_container).append(a)},show:function(n,e){var r=null;if(this.settings.$li===i||-1===t.inArray(this.settings.$li.index(),this.settings.pause_after))if(this.settings.paused?this.settings.paused=!1:this.set_li(n,e),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0){if(n&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=t.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],!/body/i.test(this.settings.$target.selector)){var a=t(".joyride-modal-bg");/pop/i.test(this.settings.tipAnimation)?a.hide():a.fadeOut(this.settings.tipAnimationFadeSpeed),this.scroll_to()}this.is_phone()?this.pos_phone(!0):this.pos_default(!0),r=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(r.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){r.animate({width:r.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(r.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){r.animate({width:r.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip}else this.settings.$li&&this.settings.$target.length<1?this.show(n,e):this.end();else this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||t(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(t.proxy((function(){this.hide(),this.css("visibility","visible")}),this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(t,n){t?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=n?this.settings.$li.prev():this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=t(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var n=this.settings.$li.attr(this.add_namespace("data-class")),i=this.settings.$li.attr(this.add_namespace("data-id"));this.settings.$target=i?t(e.getElementById(i)):n?t("."+n).first():t("body")},scroll_to:function(){var e,i;e=t(n).height()/2,0!=(i=Math.ceil(this.settings.$target.offset().top-e+this.settings.$next_tip.outerHeight()))&&t("html, body").stop().animate({scrollTop:i},this.settings.scroll_speed,"swing")},paused:function(){return-1===t.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=i,this.show("init")},pos_default:function(t){var n=this.settings.$next_tip.find(".joyride-nub"),e=Math.ceil(n.outerWidth()/2),i=Math.ceil(n.outerHeight()/2),r=t||!1;if(r&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(n);else{var a=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,o=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;this.bottom()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top+i+this.settings.$target.outerHeight()+a,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+o}):this.settings.$next_tip.css({top:this.settings.$target.offset().top+i+this.settings.$target.outerHeight()+a,left:this.settings.$target.offset().left+o}),this.nub_position(n,this.settings.tip_settings.nub_position,"top")):this.top()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-i+a,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}):this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-i+a,left:this.settings.$target.offset().left+o}),this.nub_position(n,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+a,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+e+o}),this.nub_position(n,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+a,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-e+o}),this.nub_position(n,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(n.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}r&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(n){var e=this.settings.$next_tip.outerHeight(),i=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),r=t(".joyride-nub",this.settings.$next_tip),a=Math.ceil(r.outerHeight()/2),o=n||!1;r.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),o&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(r):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-e-a}),r.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+i+a}),r.addClass("top")),o&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(t){this.center(),t.hide(),this.show_modal()},show_modal:function(){var n;this.settings.$next_tip.data("closed")||((n=t(".joyride-modal-bg")).length<1&&(n=t(this.settings.template.modal)).appendTo("body"),/pop/i.test(this.settings.tip_animation)?n.show():n.fadeIn(this.settings.tip_animation_fade_speed))},expose:function(){var e,i,r,a,o,s="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof t)r=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;r=this.settings.$target}if(r.length<1)return n.console&&console.error("element not valid",r),!1;e=t(this.settings.template.expose),this.settings.$body.append(e),e.css({top:r.offset().top,left:r.offset().left,width:r.outerWidth(!0),height:r.outerHeight(!0)}),i=t(this.settings.template.expose_cover),a={zIndex:r.css("z-index"),position:r.css("position")},o=null==r.attr("class")?"":r.attr("class"),r.css("z-index",parseInt(e.css("z-index"))+1),"static"==a.position&&r.css("position","relative"),r.data("expose-css",a),r.data("orig-class",o),r.attr("class",o+" "+this.settings.expose_add_class),i.css({top:r.offset().top,left:r.offset().left,width:r.outerWidth(!0),height:r.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(i),e.addClass(s),i.addClass(s),r.data("expose",s),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,r),this.add_exposed(r)},un_expose:function(){var e,i,r,a,o,s=!1;if(arguments.length>0&&arguments[0]instanceof t)i=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;i=this.settings.$target}if(i.length<1)return n.console&&console.error("element not valid",i),!1;e=i.data("expose"),r=t("."+e),arguments.length>1&&(s=arguments[1]),!0===s?t(".joyride-expose-wrapper,.joyride-expose-cover").remove():r.remove(),"auto"==(a=i.data("expose-css")).zIndex?i.css("z-index",""):i.css("z-index",a.zIndex),a.position!=i.css("position")&&("static"==a.position?i.css("position",""):i.css("position",a.position)),o=i.data("orig-class"),i.attr("class",o),i.removeData("orig-classes"),i.removeData("expose"),i.removeData("expose-z-index"),this.remove_exposed(i)},add_exposed:function(n){this.settings.exposed=this.settings.exposed||[],n instanceof t||"object"==typeof n?this.settings.exposed.push(n[0]):"string"==typeof n&&this.settings.exposed.push(n)},remove_exposed:function(n){var e,i;for(n instanceof t?e=n[0]:"string"==typeof n&&(e=n),this.settings.exposed=this.settings.exposed||[],i=this.settings.exposed.length;i--;)if(this.settings.exposed[i]==e)return void this.settings.exposed.splice(i,1)},center:function(){var e=t(n);return this.settings.$next_tip.css({top:(e.height()-this.settings.$next_tip.outerHeight())/2+e.scrollTop(),left:(e.width()-this.settings.$next_tip.outerWidth())/2+e.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(e){var i=t(n),r=i.height()/2,a=Math.ceil(this.settings.$target.offset().top-r+this.settings.$next_tip.outerHeight()),o=i.width()+i.scrollLeft(),s=i.height()+a,u=i.height()+i.scrollTop(),l=i.scrollTop();return a<l&&(l=a<0?0:a),s>u&&(u=s),[e.offset().top<l,o<e.offset().left+e.outerWidth(),u<e.offset().top+e.outerHeight(),i.scrollLeft()>e.offset().left]},visible:function(t){for(var n=t.length;n--;)if(t[n])return!1;return!0},nub_position:function(t,n,e){"auto"===n?t.addClass(e):t.addClass(n)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(n){this.settings.cookie_monster&&t.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),t(this.scope).off("keyup.joyride"),this.settings.$next_tip.data("closed",!0),this.settings.riding=!1,t(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),void 0!==n&&!1!==n||(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),t(".joyride-tip-guide").remove()},off:function(){t(this.scope).off(".joyride"),t(n).off(".joyride"),t(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),t(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.5.1",settings:{use_tallest:!0,before_height_change:t.noop,after_height_change:t.noop,equalize_on_stack:!1},init:function(t,n,e){Foundation.inherit(this,"image_loaded"),this.bindings(n,e),this.reflow()},events:function(){this.S(n).off(".equalizer").on("resize.fndtn.equalizer",function(t){this.reflow()}.bind(this))},equalize:function(n){var e=!1,i=n.find("["+this.attr_name()+"-watch]:visible"),r=n.data(this.attr_name(!0)+"-init");if(0!==i.length){var a=i.first().offset().top;if(r.before_height_change(),n.trigger("before-height-change").trigger("before-height-change.fndth.equalizer"),i.height("inherit"),i.each((function(){t(this).offset().top!==a&&(e=!0)})),!1!==r.equalize_on_stack||!e){var o=i.map((function(){return t(this).outerHeight(!1)})).get();if(r.use_tallest){var s=Math.max.apply(null,o);i.css("height",s)}else{var u=Math.min.apply(null,o);i.css("height",u)}r.after_height_change(),n.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")}}},reflow:function(){var n=this;this.S("["+this.attr_name()+"]",this.scope).each((function(){var e=t(this);n.image_loaded(n.S("img",this),(function(){n.equalize(e)}))}))}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.5.1",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(n,e,i){Foundation.inherit(this,"throttle"),t.extend(!0,this.settings,e,i),this.bindings(e,i)},events:function(i){var r=this,a=r.S;a(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",(function(n){(a(this).data(r.attr_name(!0)+"-init")||r.settings).is_hover&&!Modernizr.touch||(n.preventDefault(),a(this).parent("[data-reveal-id]")&&n.stopPropagation(),r.toggle(t(this)))})).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",(function(t){var n,e,i=a(this);clearTimeout(r.timeout),i.data(r.data_attr())?(n=a("#"+i.data(r.data_attr())),e=i):(n=i,e=a("["+r.attr_name()+'="'+n.attr("id")+'"]'));var o=e.data(r.attr_name(!0)+"-init")||r.settings;a(t.currentTarget).data(r.data_attr())&&o.is_hover&&r.closeall.call(r),o.is_hover&&r.open.apply(r,[n,e])})).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",(function(t){var n=a(this);if(n.data(r.data_attr()))e=n.data(r.data_attr(!0)+"-init")||r.settings;else var e=a("["+r.attr_name()+'="'+a(this).attr("id")+'"]').data(r.attr_name(!0)+"-init")||r.settings;r.timeout=setTimeout(function(){n.data(r.data_attr())?e.is_hover&&r.close.call(r,a("#"+n.data(r.data_attr()))):e.is_hover&&r.close.call(r,n)}.bind(this),e.hover_timeout)})).on("click.fndtn.dropdown",(function(n){var i=a(n.target).closest("["+r.attr_name()+"-content]");i.find("a").length>0&&"false"!==i.attr("aria-autoclose")&&r.close.call(r,a("["+r.attr_name()+"-content]")),(n.target===e||t.contains(e.documentElement,n.target))&&(a(n.target).closest("["+r.attr_name()+"]").length>0||(!a(n.target).data("revealId")&&i.length>0&&(a(n.target).is("["+r.attr_name()+"-content]")||t.contains(i.first()[0],n.target))?n.stopPropagation():r.close.call(r,a("["+r.attr_name()+"-content]"))))})).on("opened.fndtn.dropdown","["+r.attr_name()+"-content]",(function(){r.settings.opened.call(this)})).on("closed.fndtn.dropdown","["+r.attr_name()+"-content]",(function(){r.settings.closed.call(this)})),a(n).off(".dropdown").on("resize.fndtn.dropdown",r.throttle((function(){r.resize.call(r)}),50)),this.resize()},close:function(n){var e=this;n.each((function(){(t("["+e.attr_name()+"="+n[0].id+"]")||t("aria-controls="+n[0].id+"]")).attr("aria-expanded","false"),e.S(this).hasClass(e.settings.active_class)&&(e.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(e.settings.active_class).prev("["+e.attr_name()+"]").removeClass(e.settings.active_class).removeData("target"),e.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[n]))})),n.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var n=this;t.each(n.S(".f-open-"+this.attr_name(!0)),(function(){n.close.call(n,n.S(this))}))},open:function(t,n){this.css(t.addClass(this.settings.active_class),n),t.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),t.data("target",n.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[t,n]),t.attr("aria-hidden","false"),n.attr("aria-expanded","true"),t.focus(),t.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(t){if(!t.hasClass(this.settings.disabled_class)){var n=this.S("#"+t.data(this.data_attr()));0!==n.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(n)),n.hasClass(this.settings.active_class)?(this.close.call(this,n),n.data("target")!==t.get(0)&&this.open.call(this,n,t)):this.open.call(this,n,t))}},resize:function(){var n=this.S("["+this.attr_name()+"-content].open"),e=t(n.data("target"));n.length&&e.length&&this.css(n,e)},css:function(t,n){var e=Math.max((n.width()-t.width())/2,8),i=n.data(this.attr_name(!0)+"-init")||this.settings;if(this.clear_idx(),this.small()){var r=this.dirs.bottom.call(t,n,i);t.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:r.top}),t.css(Foundation.rtl?"right":"left",e)}else this.style(t,n,i);return t},style:function(n,e,i){var r=t.extend({position:"absolute"},this.dirs[i.align].call(n,e,i));n.attr("style","").css(r)},dirs:{_base:function(t){var i,r=this.offsetParent().offset(),a=t.offset();a.top-=r.top,a.left-=r.left,a.missRight=!1,a.missTop=!1,a.missLeft=!1,a.leftRightFlag=!1,i=e.getElementsByClassName("row")[0]?e.getElementsByClassName("row")[0].clientWidth:n.outerWidth;var o=(n.outerWidth-i)/2;return this.hasClass("mega")||(t.offset().top<=this.outerHeight()&&(a.missTop=!0,n.outerWidth,a.leftRightFlag=!0),t.offset().left+this.outerWidth()>t.offset().left+o&&t.offset().left-o>this.outerWidth()&&(a.missRight=!0,a.missLeft=!1),t.offset().left-this.outerWidth()<=0&&(a.missLeft=!0,a.missRight=!1)),a},top:function(t,n){var e=Foundation.libs.dropdown,i=e.dirs._base.call(this,t);return this.addClass("drop-top"),1==i.missTop&&(i.top=i.top+t.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),1==i.missRight&&(i.left=i.left-this.outerWidth()+t.outerWidth()),(t.outerWidth()<this.outerWidth()||e.small()||this.hasClass(n.mega_menu))&&e.adjust_pip(this,t,n,i),Foundation.rtl?{left:i.left-this.outerWidth()+t.outerWidth(),top:i.top-this.outerHeight()}:{left:i.left,top:i.top-this.outerHeight()}},bottom:function(t,n){var e=Foundation.libs.dropdown,i=e.dirs._base.call(this,t);return 1==i.missRight&&(i.left=i.left-this.outerWidth()+t.outerWidth()),(t.outerWidth()<this.outerWidth()||e.small()||this.hasClass(n.mega_menu))&&e.adjust_pip(this,t,n,i),e.rtl?{left:i.left-this.outerWidth()+t.outerWidth(),top:i.top+t.outerHeight()}:{left:i.left,top:i.top+t.outerHeight()}},left:function(t,n){var e=Foundation.libs.dropdown.dirs._base.call(this,t);return this.addClass("drop-left"),1==e.missLeft&&(e.left=e.left+this.outerWidth(),e.top=e.top+t.outerHeight(),this.removeClass("drop-left")),{left:e.left-this.outerWidth(),top:e.top}},right:function(t,n){var e=Foundation.libs.dropdown.dirs._base.call(this,t);this.addClass("drop-right"),1==e.missRight?(e.left=e.left-this.outerWidth(),e.top=e.top+t.outerHeight(),this.removeClass("drop-right")):e.triggeredRight=!0;var i=Foundation.libs.dropdown;return(t.outerWidth()<this.outerWidth()||i.small()||this.hasClass(n.mega_menu))&&i.adjust_pip(this,t,n,e),{left:e.left+t.outerWidth(),top:e.top}}},adjust_pip:function(t,n,e,i){var r=Foundation.stylesheet,a=8;t.hasClass(e.mega_class)?a=i.left+n.outerWidth()/2-8:this.small()&&(a+=i.left-8),this.rule_idx=r.cssRules.length;var o=".f-dropdown.open:before",s=".f-dropdown.open:after",u="left: "+a+"px;",l="left: "+(a-1)+"px;";1==i.missRight&&(o=".f-dropdown.open:before",s=".f-dropdown.open:after",u="left: "+(a=t.outerWidth()-23)+"px;",l="left: "+(a-1)+"px;"),1==i.triggeredRight&&(o=".f-dropdown.open:before",s=".f-dropdown.open:after",u="left:-12px;",l="left:-14px;"),r.insertRule?(r.insertRule([o,"{",u,"}"].join(" "),this.rule_idx),r.insertRule([s,"{",l,"}"].join(" "),this.rule_idx+1)):(r.addRule(o,u,this.rule_idx),r.addRule(s,l,this.rule_idx+1))},clear_idx:function(){var t=Foundation.stylesheet;void 0!==this.rule_idx&&(t.deleteRule(this.rule_idx),t.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(n).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.5.1",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close, div.clearing-blackout",open_selectors:"",skip_selector:"",touch_label:"",init:!1,locked:!1},init:function(t,n,e){var i=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(n,e),i.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(i.S("li",this.scope)):i.S("["+this.attr_name()+"]",this.scope).each((function(){i.assemble(i.S("li",this))}))},events:function(i){var r=this,a=r.S,o=t(".scroll-container");o.length>0&&(this.scope=o),a(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li "+this.settings.open_selectors,(function(t,n,e){n=n||a(this),e=e||n;var i=n.next("li"),o=n.closest("["+r.attr_name()+"]").data(r.attr_name(!0)+"-init"),s=a(t.target);t.preventDefault(),o||(r.init(),o=n.closest("["+r.attr_name()+"]").data(r.attr_name(!0)+"-init")),e.hasClass("visible")&&n[0]===e[0]&&i.length>0&&r.is_open(n)&&(s=a("img",e=i)),r.open(s,n,e),r.update_paddles(e)})).on("click.fndtn.clearing",".clearing-main-next",(function(t){r.nav(t,"next")})).on("click.fndtn.clearing",".clearing-main-prev",(function(t){r.nav(t,"prev")})).on("click.fndtn.clearing",this.settings.close_selectors,(function(t){Foundation.libs.clearing.close(t,this)})),t(e).on("keydown.fndtn.clearing",(function(t){r.keydown(t)})),a(n).off(".clearing").on("resize.fndtn.clearing",(function(){r.resize()})),this.swipe_events(i)},swipe_events:function(t){var n=this,e=n.S;e(this.scope).on("touchstart.fndtn.clearing",".visible-img",(function(t){t.touches||(t=t.originalEvent);var n={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:void 0};e(this).data("swipe-transition",n),t.stopPropagation()})).on("touchmove.fndtn.clearing",".visible-img",(function(t){if(t.touches||(t=t.originalEvent),!(t.touches.length>1||t.scale&&1!==t.scale)){var i=e(this).data("swipe-transition");if(void 0===i&&(i={}),i.delta_x=t.touches[0].pageX-i.start_page_x,Foundation.rtl&&(i.delta_x=-i.delta_x),void 0===i.is_scrolling&&(i.is_scrolling=!!(i.is_scrolling||Math.abs(i.delta_x)<Math.abs(t.touches[0].pageY-i.start_page_y))),!i.is_scrolling&&!i.active){t.preventDefault();var r=i.delta_x<0?"next":"prev";i.active=!0,n.nav(t,r)}}})).on("touchend.fndtn.clearing",".visible-img",(function(t){e(this).data("swipe-transition",{}),t.stopPropagation()}))},assemble:function(n){var e=n.parent();if(!e.parent().hasClass("carousel")){e.after('<div id="foundationClearingHolder"></div>');var i=e.detach(),r="";if(null!=i[0]){r=i[0].outerHTML;var a=this.S("#foundationClearingHolder"),o='<div class="carousel">'+r+"</div>",s='<div class="clearing-assembled"><div>'+e.data(this.attr_name(!0)+"-init").templates.viewing+o+"</div></div>",u=this.settings.touch_label;Modernizr.touch&&(s=t(s).find(".clearing-touch-label").html(u).end()),a.after(s).remove()}}},open:function(n,i,r){var a=this,o=t(e.body),s=r.closest(".clearing-assembled"),u=a.S("div",s).first(),l=a.S(".visible-img",u),c=a.S("img",l).not(n),h=a.S(".clearing-touch-label",u),f=!1;function d(n){t(n).css("visibility","visible"),o.css("overflow","hidden"),s.addClass("clearing-blackout"),u.addClass("clearing-container"),l.show(),this.fix_height(r).caption(a.S(".clearing-caption",l),a.S("img",r)).center_and_label(n,h).shift(i,r,(function(){r.closest("li").siblings().removeClass("visible"),r.closest("li").addClass("visible")})),l.trigger("opened.fndtn.clearing")}t("body").on("touchmove",(function(t){t.preventDefault()})),c.error((function(){f=!0})),this.locked()||(l.trigger("open.fndtn.clearing"),c.attr("src",this.load(n)).css("visibility","hidden"),function t(){setTimeout(function(){this.image_loaded(c,function(){1!==c.outerWidth()||f?d.call(this,c):t.call(this)}.bind(this))}.bind(this),100)}.call(this))},close:function(n,i){n.preventDefault();var r,a,o,s=(o=t(i),/blackout/.test(o.selector)?o:o.closest(".clearing-blackout")),u=t(e.body);return i===n.target&&s&&(u.css("overflow",""),r=t("div",s).first(),(a=t(".visible-img",r)).trigger("close.fndtn.clearing"),this.settings.prev_index=0,t("ul["+this.attr_name()+"]",s).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),r.removeClass("clearing-container"),a.hide(),a.trigger("closed.fndtn.clearing")),t("body").off("touchmove"),!1},is_open:function(t){return t.parent().prop("style").length>0},keydown:function(n){var e=t(".clearing-blackout ul["+this.attr_name()+"]"),i=this.rtl?37:39,r=this.rtl?39:37;n.which===i&&this.go(e,"next"),n.which===r&&this.go(e,"prev"),27===n.which&&this.S("a.clearing-close").trigger("click").trigger("click.fndtn.clearing")},nav:function(n,e){var i=t("ul["+this.attr_name()+"]",".clearing-blackout");n.preventDefault(),this.go(i,e)},resize:function(){var n=t("img",".clearing-blackout .visible-img"),e=t(".clearing-touch-label",".clearing-blackout");n.length&&(this.center_and_label(n,e),n.trigger("resized.fndtn.clearing"))},fix_height:function(t){var n=t.parent().children(),e=this;return n.each((function(){var t=e.S(this),n=t.find("img");t.height()>n.outerHeight()&&t.addClass("fix-height")})).closest("ul").width(100*n.length+"%"),this},update_paddles:function(t){var n=(t=t.closest("li")).closest(".carousel").siblings(".visible-img");t.next().length>0?this.S(".clearing-main-next",n).removeClass("disabled"):this.S(".clearing-main-next",n).addClass("disabled"),t.prev().length>0?this.S(".clearing-main-prev",n).removeClass("disabled"):this.S(".clearing-main-prev",n).addClass("disabled")},center_and_label:function(t,n){return!this.rtl&&n.length>0?n.css({marginLeft:-n.outerWidth()/2,marginTop:-t.outerHeight()/2-n.outerHeight()-10}):n.css({marginRight:-n.outerWidth()/2,marginTop:-t.outerHeight()/2-n.outerHeight()-10,left:"auto",right:"50%"}),this},load:function(t){var n;return n="A"===t[0].nodeName?t.attr("href"):t.closest("a").attr("href"),this.preload(t),n||t.attr("src")},preload:function(t){this.img(t.closest("li").next()).img(t.closest("li").prev())},img:function(t){if(t.length){var n=new Image,e=this.S("a",t);e.length?n.src=e.attr("href"):n.src=this.S("img",t).attr("src")}return this},caption:function(t,n){var e=n.attr("data-caption");return e?t.html(e).show():t.text("").hide(),this},go:function(t,n){var e=this.S(".visible",t),i=e[n]();this.settings.skip_selector&&0!=i.find(this.settings.skip_selector).length&&(i=i[n]()),i.length&&this.S("img",i).trigger("click",[e,i]).trigger("click.fndtn.clearing",[e,i]).trigger("change.fndtn.clearing")},shift:function(t,n,e){var i,r=n.parent(),a=this.settings.prev_index||n.index(),o=this.direction(r,t,n),s=this.rtl?"right":"left",u=parseInt(r.css("left"),10),l=n.outerWidth(),c={};n.index()===a||/skip/.test(o)?/skip/.test(o)&&(i=n.index()-this.settings.up_count,this.lock(),i>0?(c[s]=-i*l,r.animate(c,300,this.unlock())):(c[s]=0,r.animate(c,300,this.unlock()))):/left/.test(o)?(this.lock(),c[s]=u+l,r.animate(c,300,this.unlock())):/right/.test(o)&&(this.lock(),c[s]=u-l,r.animate(c,300,this.unlock())),e()},direction:function(t,n,e){var i,r=this.S("li",t),a=r.outerWidth()+r.outerWidth()/4,o=Math.floor(this.S(".clearing-container").outerWidth()/a)-1,s=r.index(e);return this.settings.up_count=o,i=this.adjacent(this.settings.prev_index,s)?s>o&&s>this.settings.prev_index?"right":s>o-1&&s<=this.settings.prev_index&&"left":"skip",this.settings.prev_index=s,i},adjacent:function(t,n){for(var e=n+1;e>=n-1;e--)if(e===t)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(n).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";var r=function(){},a=function(i,r){if(i.hasClass(r.slides_container_class))return this;var a,l,c,h,f,d,p=this,g=i,v=0;p.slides=function(){return g.children(r.slide_selector)},p.slides().first().addClass(r.active_slide_class),p.update_slide_number=function(n){r.slide_number&&(l.find("span:first").text(parseInt(n)+1),l.find("span:last").text(p.slides().length)),r.bullets&&(c.children().removeClass(r.bullets_active_class),t(c.children().get(n)).addClass(r.bullets_active_class))},p.update_active_link=function(n){var e=t('[data-orbit-link="'+p.slides().eq(n).attr("data-orbit-slide")+'"]');e.siblings().removeClass(r.bullets_active_class),e.addClass(r.bullets_active_class)},p.build_markup=function(){g.wrap('<div class="'+r.container_class+'"></div>'),a=g.parent(),g.addClass(r.slides_container_class),r.stack_on_small&&a.addClass(r.stack_on_small_class),r.navigation_arrows&&(a.append(t('<a href="#"><span></span></a>').addClass(r.prev_class)),a.append(t('<a href="#"><span></span></a>').addClass(r.next_class))),r.timer&&((h=t("<div>").addClass(r.timer_container_class)).append("<span>"),h.append(t("<div>").addClass(r.timer_progress_class)),h.addClass(r.timer_paused_class),a.append(h)),r.slide_number&&((l=t("<div>").addClass(r.slide_number_class)).append("<span></span> "+r.slide_number_text+" <span></span>"),a.append(l)),r.bullets&&(c=t("<ol>").addClass(r.bullets_container_class),a.append(c),c.wrap('<div class="orbit-bullets-container"></div>'),p.slides().each((function(n,e){var i=t("<li>").attr("data-orbit-slide",n).on("click",p.link_bullet);c.append(i)})))},p._goto=function(n,e){if(n===v)return!1;"object"==typeof d&&d.restart();var i=p.slides(),a="next";if(n<v&&(a="prev"),n>=i.length){if(!r.circular)return!1;n=0}else if(n<0){if(!r.circular)return!1;n=i.length-1}var o=t(i.get(v)),s=t(i.get(n));o.css("zIndex",2),o.removeClass(r.active_slide_class),s.css("zIndex",4).addClass(r.active_slide_class),g.trigger("before-slide-change.fndtn.orbit"),r.before_slide_change(),p.update_active_link(n);var u=function(){var t=function(){v=n,!0===e&&(d=p.create_timer()).start(),p.update_slide_number(v),g.trigger("after-slide-change.fndtn.orbit",[{slide_number:v,total_slides:i.length}]),r.after_slide_change(v,i.length)};g.outerHeight()!=s.outerHeight()&&r.variable_height?g.animate({height:s.outerHeight()},250,"linear",t):t()};if(1===i.length)return u(),!1;var l=function(){"next"===a&&f.next(o,s,u),"prev"===a&&f.prev(o,s,u)};s.outerHeight()>g.outerHeight()&&r.variable_height?g.animate({height:s.outerHeight()},250,"linear",l):l()},p.next=function(t){t.stopImmediatePropagation(),t.preventDefault(),p._goto(v+1)},p.prev=function(t){t.stopImmediatePropagation(),t.preventDefault(),p._goto(v-1)},p.link_custom=function(n){n.preventDefault();var e=t(this).attr("data-orbit-link");if("string"==typeof e&&""!=(e=t.trim(e))){var i=a.find("[data-orbit-slide="+e+"]");-1!=i.index()&&p._goto(i.index())}},p.link_bullet=function(n){var e=t(this).attr("data-orbit-slide");if("string"==typeof e&&""!=(e=t.trim(e)))if(isNaN(parseInt(e))){var i=a.find("[data-orbit-slide="+e+"]");-1!=i.index()&&p._goto(i.index()+1)}else p._goto(parseInt(e))},p.timer_callback=function(){p._goto(v+1,!0)},p.compute_dimensions=function(){var n=t(p.slides().get(v)).outerHeight();r.variable_height||p.slides().each((function(){t(this).outerHeight()>n&&(n=t(this).outerHeight())})),g.height(n)},p.create_timer=function(){return new o(a.find("."+r.timer_container_class),r,p.timer_callback)},p.stop_timer=function(){"object"==typeof d&&d.stop()},p.toggle_timer=function(){a.find("."+r.timer_container_class).hasClass(r.timer_paused_class)?(void 0===d&&(d=p.create_timer()),d.start()):"object"==typeof d&&d.stop()},p.init=function(){p.build_markup(),r.timer&&(d=p.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),d.start)),f=new u(r,g),"slide"===r.animation&&(f=new s(r,g)),a.on("click","."+r.next_class,p.next),a.on("click","."+r.prev_class,p.prev),r.next_on_click&&a.on("click","."+r.slides_container_class+" [data-orbit-slide]",p.link_bullet),a.on("click",p.toggle_timer),r.swipe&&a.on("touchstart.fndtn.orbit",(function(t){t.touches||(t=t.originalEvent);var n={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:void 0};a.data("swipe-transition",n),t.stopPropagation()})).on("touchmove.fndtn.orbit",(function(t){if(t.touches||(t=t.originalEvent),!(t.touches.length>1||t.scale&&1!==t.scale)){var n=a.data("swipe-transition");if(void 0===n&&(n={}),n.delta_x=t.touches[0].pageX-n.start_page_x,void 0===n.is_scrolling&&(n.is_scrolling=!!(n.is_scrolling||Math.abs(n.delta_x)<Math.abs(t.touches[0].pageY-n.start_page_y))),!n.is_scrolling&&!n.active){t.preventDefault();var e=n.delta_x<0?v+1:v-1;n.active=!0,p._goto(e)}}})).on("touchend.fndtn.orbit",(function(t){a.data("swipe-transition",{}),t.stopPropagation()})),a.on("mouseenter.fndtn.orbit",(function(t){r.timer&&r.pause_on_hover&&p.stop_timer()})).on("mouseleave.fndtn.orbit",(function(t){r.timer&&r.resume_on_mouseout&&d.start()})),t(e).on("click","[data-orbit-link]",p.link_custom),t(n).on("load resize",p.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),p.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),(function(){a.prev("."+r.preloader_class).css("display","none"),p.update_slide_number(0),p.update_active_link(0),g.trigger("ready.fndtn.orbit")}))},p.init()},o=function(t,n,e){var i,r,a=this,o=n.timer_speed,s=t.find("."+n.timer_progress_class),u=-1;this.update_progress=function(t){var n=s.clone();n.attr("style",""),n.css("width",t+"%"),s.replaceWith(n),s=n},this.restart=function(){clearTimeout(r),t.addClass(n.timer_paused_class),u=-1,a.update_progress(0)},this.start=function(){if(!t.hasClass(n.timer_paused_class))return!0;u=-1===u?o:u,t.removeClass(n.timer_paused_class),i=(new Date).getTime(),s.animate({width:"100%"},u,"linear"),r=setTimeout((function(){a.restart(),e()}),u),t.trigger("timer-started.fndtn.orbit")},this.stop=function(){if(t.hasClass(n.timer_paused_class))return!0;clearTimeout(r),t.addClass(n.timer_paused_class);var e=(new Date).getTime(),s=100-(u-=e-i)/o*100;a.update_progress(s),t.trigger("timer-stopped.fndtn.orbit")}},s=function(n,e){var i=n.animation_speed,r=1===t("html[dir=rtl]").length?"marginRight":"marginLeft",a={};a[r]="0%",this.next=function(t,n,e){t.animate({marginLeft:"-100%"},i),n.animate(a,i,(function(){t.css(r,"100%"),e()}))},this.prev=function(t,n,e){t.animate({marginLeft:"100%"},i),n.css(r,"-100%"),n.animate(a,i,(function(){t.css(r,"100%"),e()}))}},u=function(n,e){var i=n.animation_speed;t("html[dir=rtl]").length,this.next=function(t,n,e){n.css({margin:"0%",opacity:"0.01"}),n.animate({opacity:"1"},i,"linear",(function(){t.css("margin","100%"),e()}))},this.prev=function(t,n,e){n.css({margin:"0%",opacity:"0.01"}),n.animate({opacity:"1"},i,"linear",(function(){t.css("margin","100%"),e()}))}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.5.1",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:r,after_slide_change:r},init:function(t,n,e){this.bindings(n,e)},events:function(t){var n=new a(this.S(t),this.S(t).data("orbit-init"));this.S(t).data(this.name+"-instance",n)},reflow:function(){var t=this;t.S(t.scope).is("[data-orbit]")?t.S(t.scope).data(t.name+"-instance").compute_dimensions():t.S("[data-orbit]",t.scope).each((function(n,e){var i=t.S(e);t.data_options(i),i.data(t.name+"-instance").compute_dimensions()}))}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.5.1",settings:{open_method:"move",close_on_click:!1},init:function(t,n,e){this.bindings(n,e)},events:function(){var n=this,e=n.S,i="",r="",a="";"move"===this.settings.open_method?(i="move-",r="right",a="left"):"overlap_single"===this.settings.open_method?(i="offcanvas-overlap-",r="right",a="left"):"overlap"===this.settings.open_method&&(i="offcanvas-overlap"),e(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",(function(a){n.click_toggle_class(a,i+r),"overlap"!==n.settings.open_method&&e(".left-submenu").removeClass(i+r),t(".left-off-canvas-toggle").attr("aria-expanded","true")})).on("click.fndtn.offcanvas",".left-off-canvas-menu a",(function(a){var o=n.get_settings(a),s=e(this).parent();!o.close_on_click||s.hasClass("has-submenu")||s.hasClass("back")?e(this).parent().hasClass("has-submenu")?(a.preventDefault(),e(this).siblings(".left-submenu").toggleClass(i+r)):s.hasClass("back")&&(a.preventDefault(),s.parent().removeClass(i+r)):(n.hide.call(n,i+r,n.get_wrapper(a)),s.parent().removeClass(i+r)),t(".left-off-canvas-toggle").attr("aria-expanded","true")})).on("click.fndtn.offcanvas",".right-off-canvas-toggle",(function(r){n.click_toggle_class(r,i+a),"overlap"!==n.settings.open_method&&e(".right-submenu").removeClass(i+a),t(".right-off-canvas-toggle").attr("aria-expanded","true")})).on("click.fndtn.offcanvas",".right-off-canvas-menu a",(function(r){var o=n.get_settings(r),s=e(this).parent();!o.close_on_click||s.hasClass("has-submenu")||s.hasClass("back")?e(this).parent().hasClass("has-submenu")?(r.preventDefault(),e(this).siblings(".right-submenu").toggleClass(i+a)):s.hasClass("back")&&(r.preventDefault(),s.parent().removeClass(i+a)):(n.hide.call(n,i+a,n.get_wrapper(r)),s.parent().removeClass(i+a)),t(".right-off-canvas-toggle").attr("aria-expanded","true")})).on("click.fndtn.offcanvas",".exit-off-canvas",(function(o){n.click_remove_class(o,i+a),e(".right-submenu").removeClass(i+a),r&&(n.click_remove_class(o,i+r),e(".left-submenu").removeClass(i+a)),t(".right-off-canvas-toggle").attr("aria-expanded","true")})).on("click.fndtn.offcanvas",".exit-off-canvas",(function(e){n.click_remove_class(e,i+a),t(".left-off-canvas-toggle").attr("aria-expanded","false"),r&&(n.click_remove_class(e,i+r),t(".right-off-canvas-toggle").attr("aria-expanded","false"))}))},toggle:function(t,n){(n=n||this.get_wrapper()).is("."+t)?this.hide(t,n):this.show(t,n)},show:function(t,n){(n=n||this.get_wrapper()).trigger("open").trigger("open.fndtn.offcanvas"),n.addClass(t)},hide:function(t,n){(n=n||this.get_wrapper()).trigger("close").trigger("close.fndtn.offcanvas"),n.removeClass(t)},click_toggle_class:function(t,n){t.preventDefault();var e=this.get_wrapper(t);this.toggle(n,e)},click_remove_class:function(t,n){t.preventDefault();var e=this.get_wrapper(t);this.hide(n,e)},get_settings:function(t){return this.S(t.target).closest("["+this.attr_name()+"]").data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(t){var n=this.S(t?t.target:this.scope).closest(".off-canvas-wrap");return 0===n.length&&(n=this.S(".off-canvas-wrap")),n},reflow:function(){}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.alert={name:"alert",version:"5.5.1",settings:{callback:function(){}},init:function(t,n,e){this.bindings(n,e)},events:function(){var n=this,e=this.S;t(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] .close",(function(t){var i=e(this).closest("["+n.attr_name()+"]"),r=i.data(n.attr_name(!0)+"-init")||n.settings;t.preventDefault(),Modernizr.csstransitions?(i.addClass("alert-close"),i.on("transitionend webkitTransitionEnd oTransitionEnd",(function(t){e(this).trigger("close").trigger("close.fndtn.alert").remove(),r.callback()}))):i.fadeOut(300,(function(){e(this).trigger("close").trigger("close.fndtn.alert").remove(),r.callback()}))}))},reflow:function(){}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";function r(t){var n=/fade/i.test(t),e=/pop/i.test(t);return{animate:n||e,pop:e,fade:n}}Foundation.libs.reveal={name:"reveal",version:"5.5.1",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",multiple_opened:!1,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:t(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(n,e,i){t.extend(!0,this.settings,e,i),this.bindings(e,i)},events:function(t){var n=this,i=n.S;return i(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",(function(t){if(t.preventDefault(),!n.locked){var e=i(this),r=e.data(n.data_attr("reveal-ajax"));if(n.locked=!0,void 0===r)n.open.call(n,e);else{var a=!0===r?e.attr("href"):r;n.open.call(n,e,{url:a})}}})),i(e).on("click.fndtn.reveal",this.close_targets(),(function(t){if(t.preventDefault(),!n.locked){var e=i("["+n.attr_name()+"].open").data(n.attr_name(!0)+"-init")||n.settings,r=i(t.target)[0]===i("."+e.bg_class)[0];if(r){if(!e.close_on_background_click)return;t.stopPropagation()}n.locked=!0,n.close.call(n,r?i("["+n.attr_name()+"].open"):i(this).closest("["+n.attr_name()+"]"))}})),i("["+n.attr_name()+"]",this.scope).length>0?i(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):i(this.scope).on("open.fndtn.reveal","["+n.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+n.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+n.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+n.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+n.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+n.attr_name()+"]",this.close_video),!0},key_up_on:function(t){var n=this;return n.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",(function(t){var e=n.S("["+n.attr_name()+"].open"),i=e.data(n.attr_name(!0)+"-init")||n.settings;i&&27===t.which&&i.close_on_esc&&!n.locked&&n.close.call(n,e)})),!0},key_up_off:function(t){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(e,i){var r,a=this;e?void 0!==e.selector?r=a.S("#"+e.data(a.data_attr("reveal-id"))).first():(r=a.S(this.scope),i=e):r=a.S(this.scope);var o=r.data(a.attr_name(!0)+"-init");if(o=o||this.settings,r.hasClass("open")&&e.attr("data-reveal-id")==r.attr("id"))return a.close(r);if(!r.hasClass("open")){var s=a.S("["+a.attr_name()+"].open");if(void 0===r.data("css-top")&&r.data("css-top",parseInt(r.css("top"),10)).data("offset",this.cache_offset(r)),this.key_up_on(r),r.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),s.length<1&&this.toggle_bg(r,!0),"string"==typeof i&&(i={url:i}),void 0!==i&&i.url){var u=void 0!==i.success?i.success:null;t.extend(i,{success:function(n,e,i){if(t.isFunction(u)){var l=u(n,e,i);"string"==typeof l&&(n=l)}r.html(n),a.S(r).foundation("section","reflow"),a.S(r).children().foundation(),s.length>0&&(o.multiple_opened?this.to_back(s):this.hide(s,o.css.close)),a.show(r,o.css.open)}}),t.ajax(i)}else s.length>0&&(o.multiple_opened?this.to_back(s):this.hide(s,o.css.close)),this.show(r,o.css.open)}a.S(n).trigger("resize")},close:function(n){n=n&&n.length?n:this.S(this.scope);var e=this.S("["+this.attr_name()+"].open"),i=n.data(this.attr_name(!0)+"-init")||this.settings;e.length>0&&(this.locked=!0,this.key_up_off(n),n.trigger("close").trigger("close.fndtn.reveal"),(i.multiple_opened&&1===e.length||!i.multiple_opened||n.length>1)&&(this.toggle_bg(n,!1),this.to_front(n)),i.multiple_opened?(this.hide(n,i.css.close,i),this.to_front(t(t.makeArray(e).reverse()[1]))):this.hide(e,i.css.close,i))},close_targets:function(){var t="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?t+", ."+this.settings.bg_class:t},toggle_bg:function(n,e){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=t("<div />",{class:this.settings.bg_class}).appendTo("body").hide());var r=this.settings.bg.filter(":visible").length>0;e!=r&&((e==i?r:!e)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(e,i){if(i){var a=(l=e.data(this.attr_name(!0)+"-init")||this.settings).root_element;if(0===e.parent(a).length){var o=e.wrap('<div style="display: none;" />').parent();e.on("closed.fndtn.reveal.wrapped",(function(){e.detach().appendTo(o),e.unwrap().unbind("closed.fndtn.reveal.wrapped")})),e.detach().appendTo(a)}var s=r(l.animation);if(s.animate||(this.locked=!1),s.pop){i.top=t(n).scrollTop()-e.data("offset")+"px";var u={top:t(n).scrollTop()+e.data("css-top")+"px",opacity:1};return setTimeout(function(){return e.css(i).animate(u,l.animation_speed,"linear",function(){this.locked=!1,e.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),l.animation_speed/2)}return s.fade?(i.top=t(n).scrollTop()+e.data("css-top")+"px",u={opacity:1},setTimeout(function(){return e.css(i).animate(u,l.animation_speed,"linear",function(){this.locked=!1,e.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),l.animation_speed/2)):e.css(i).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}var l;return r((l=this.settings).animation).fade?e.fadeIn(l.animation_speed/2):(this.locked=!1,e.show())},to_back:function(t){t.addClass("toback")},to_front:function(t){t.removeClass("toback")},hide:function(e,i){if(i){var a=r((s=(s=e.data(this.attr_name(!0)+"-init"))||this.settings).animation);if(a.animate||(this.locked=!1),a.pop){var o={top:-t(n).scrollTop()-e.data("offset")+"px",opacity:0};return setTimeout(function(){return e.animate(o,s.animation_speed,"linear",function(){this.locked=!1,e.css(i).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),s.animation_speed/2)}return a.fade?(o={opacity:0},setTimeout(function(){return e.animate(o,s.animation_speed,"linear",function(){this.locked=!1,e.css(i).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),s.animation_speed/2)):e.hide().css(i).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal")}var s;return r((s=this.settings).animation).fade?e.fadeOut(s.animation_speed/2):e.hide()},close_video:function(n){var e=t(".flex-video",n.target),i=t("iframe",e);i.length>0&&(i.attr("data-src",i[0].src),i.attr("src",i.attr("src")),e.hide())},open_video:function(n){var e=t(".flex-video",n.target),r=e.find("iframe");if(r.length>0){if("string"==typeof r.attr("data-src"))r[0].src=r.attr("data-src");else{var a=r[0].src;r[0].src=i,r[0].src=a}e.show()}},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},cache_offset:function(t){var n=t.show().height()+parseInt(t.css("top"),10);return t.hide(),n},off:function(){t(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.5.1",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{default:"only screen",small:Foundation.media_queries.small,"small-only":Foundation.media_queries["small-only"],medium:Foundation.media_queries.medium,"medium-only":Foundation.media_queries["medium-only"],large:Foundation.media_queries.large,"large-only":Foundation.media_queries["large-only"],xlarge:Foundation.media_queries.xlarge,"xlarge-only":Foundation.media_queries["xlarge-only"],xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(n,e,i){if(/IMG/.test(n[0].nodeName)){var r=n[0].src;if(new RegExp(e,"i").test(r))return;return n[0].src=e,i(n[0].src)}var a=n.data(this.data_attr+"-last-path"),o=this;if(a!=e)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(e)?(t(n).css("background-image","url("+e+")"),n.data("interchange-last-path",e),i(e)):t.get(e,(function(t){n.html(t),n.data(o.data_attr+"-last-path",e),i()}))}}},init:function(n,e,i){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),t.extend(!0,this.settings,e,i),this.bindings(e,i),this.load("images"),this.load("nodes")},get_media_hash:function(){var t="";for(var n in this.settings.named_queries)t+=matchMedia(this.settings.named_queries[n]).matches.toString();return t},events:function(){var e,i=this;return t(n).off(".interchange").on("resize.fndtn.interchange",i.throttle((function(){var t=i.get_media_hash();t!==e&&i.resize(),e=t}),50)),this},resize:function(){var n=this.cache;if(this.images_loaded&&this.nodes_loaded){for(var e in n)if(n.hasOwnProperty(e)){var i=this.results(e,n[e]);i&&this.settings.directives[i.scenario[1]].call(this,i.el,i.scenario[0],function(t){if(arguments[0]instanceof Array)var n=arguments[0];else n=Array.prototype.slice.call(arguments,0);return function(){t.el.trigger(t.scenario[1],n)}}(i))}}else setTimeout(t.proxy(this.resize,this),50)},results:function(t,n){var e=n.length;if(e>0)for(var i=this.S("["+this.add_namespace("data-uuid")+'="'+t+'"]');e--;){var r=n[e][2];if((this.settings.named_queries.hasOwnProperty(r)?matchMedia(this.settings.named_queries[r]):matchMedia(r)).matches)return{el:i,scenario:n[e]}}return!1},load:function(t,n){return(void 0===this["cached_"+t]||n)&&this["update_"+t](),this["cached_"+t]},update_images:function(){var t=this.S("img["+this.data_attr+"]"),n=t.length,e=n,i=0,r=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===n;e--;)i++,t[e]&&(t[e].getAttribute(r)||"").length>0&&this.cached_images.push(t[e]),i===n&&(this.images_loaded=!0,this.enhance("images"));return this},update_nodes:function(){var t=this.S("["+this.data_attr+"]").not("img"),n=t.length,e=n,i=0,r=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===n;e--;)i++,(t[e].getAttribute(r)||"").length>0&&this.cached_nodes.push(t[e]),i===n&&(this.nodes_loaded=!0,this.enhance("nodes"));return this},enhance:function(e){for(var i=this["cached_"+e].length;i--;)this.object(t(this["cached_"+e][i]));return t(n).trigger("resize").trigger("resize.fndtn.interchange")},convert_directive:function(t){var n=this.trim(t);return n.length>0?n:"replace"},parse_scenario:function(t){var n=t[0].match(/(.+),\s*(\w+)\s*$/),e=t[1];if(n)var i=n[1],r=n[2];else i=t[0].split(/,\s*$/)[0],r="";return[this.trim(i),this.convert_directive(r),this.trim(e)]},object:function(t){var n=this.parse_data_attr(t),e=[],i=n.length;if(i>0)for(;i--;){var r=n[i].split(/\(([^\)]*?)(\))$/);if(r.length>1){var a=this.parse_scenario(r);e.push(a)}}return this.store(t,e)},store:function(t,n){var e=this.random_str(),i=t.data(this.add_namespace("uuid",!0));return this.cache[i]?this.cache[i]:(t.attr(this.add_namespace("data-uuid"),e),this.cache[e]=n)},trim:function(n){return"string"==typeof n?t.trim(n):n},set_data_attr:function(t){return t?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(t){for(var n=t.attr(this.attr_name()).split(/\[(.*?)\]/),e=n.length,i=[];e--;)n[e].replace(/[\W\d]+/,"").length>4&&i.push(n[e]);return i},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.5.1",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0,offset_by_height:!0,duration:700,easing:"swing"},init:function(t,n,e){Foundation.inherit(this,"throttle"),this.bindings(n,e)},events:function(){var e=this,i=e.S,r=e.settings;e.set_expedition_position(),i(e.scope).off(".magellan").on("click.fndtn.magellan","["+e.add_namespace("data-magellan-arrival")+'] a[href^="#"]',(function(n){n.preventDefault();var i=t(this).closest("["+e.attr_name()+"]"),r=i.data("magellan-expedition-init"),a=this.hash.split("#").join(""),o=t('a[name="'+a+'"]');0===o.length&&(o=t("#"+a));var s=o.offset().top-r.destination_threshold+1;r.offset_by_height&&(s-=i.outerHeight()),t("html, body").stop().animate({scrollTop:s},r.duration,r.easing,(function(){history.pushState?history.pushState(null,null,"#"+a):location.hash="#"+a}))})).on("scroll.fndtn.magellan",e.throttle(this.check_for_arrivals.bind(this),r.throttle_delay)),t(n).on("resize.fndtn.magellan",e.throttle(this.set_expedition_position.bind(this),r.throttle_delay))},check_for_arrivals:function(){this.update_arrivals(),this.update_expedition_positions()},set_expedition_position:function(){var n=this;t("["+this.attr_name()+"=fixed]",n.scope).each((function(e,i){var r,a,o=t(this),s=o.data("magellan-expedition-init"),u=o.attr("styles");o.attr("style",""),r=o.offset().top+s.threshold,a=parseInt(o.data("magellan-fixed-top")),isNaN(a)||(n.settings.fixed_top=a),o.data(n.data_attr("magellan-top-offset"),r),o.attr("style",u)}))},update_expedition_positions:function(){var e=this,i=t(n).scrollTop();t("["+this.attr_name()+"=fixed]",e.scope).each((function(){var n=t(this),r=n.data("magellan-expedition-init"),a=n.attr("style"),o=n.data("magellan-top-offset");if(i+e.settings.fixed_top>=o){var s=n.prev("["+e.add_namespace("data-magellan-expedition-clone")+"]");0===s.length&&((s=n.clone()).removeAttr(e.attr_name()),s.attr(e.add_namespace("data-magellan-expedition-clone"),""),n.before(s)),n.css({position:"fixed",top:r.fixed_top}).addClass("fixed")}else n.prev("["+e.add_namespace("data-magellan-expedition-clone")+"]").remove(),n.attr("style",a).css("position","").css("top","").removeClass("fixed")}))},update_arrivals:function(){var e=this,i=t(n).scrollTop();t("["+this.attr_name()+"]",e.scope).each((function(){var n=t(this),r=n.data(e.attr_name(!0)+"-init"),a=e.offsets(n,i),o=n.find("["+e.add_namespace("data-magellan-arrival")+"]"),s=!1;a.each((function(t,i){if(i.viewport_offset>=i.top_offset)return n.find("["+e.add_namespace("data-magellan-arrival")+"]").not(i.arrival).removeClass(r.active_class),i.arrival.addClass(r.active_class),s=!0,!0})),s||o.removeClass(r.active_class)}))},offsets:function(n,e){var i=this,r=n.data(i.attr_name(!0)+"-init"),a=e;return n.find("["+i.add_namespace("data-magellan-arrival")+"]").map((function(e,o){var s=t(this).data(i.data_attr("magellan-arrival")),u=t("["+i.add_namespace("data-magellan-destination")+"="+s+"]");if(u.length>0){var l=u.offset().top-r.destination_threshold;return r.offset_by_height&&(l-=n.outerHeight()),l=Math.floor(l),{destination:u,arrival:t(this),top_offset:l,viewport_offset:a}}})).sort((function(t,n){return t.top_offset<n.top_offset?-1:t.top_offset>n.top_offset?1:0}))},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},off:function(){this.S(this.scope).off(".magellan"),this.S(n).off(".magellan")},reflow:function(){t("["+this.add_namespace("data-magellan-expedition-clone")+"]",this.scope).remove()}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.5.1",settings:{content_class:"content",active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(t,n,e){this.bindings(n,e)},events:function(){var n=this,e=this.S;e(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > .accordion-navigation > a",(function(i){var r=e(this).closest("["+n.attr_name()+"]"),a=n.attr_name()+"="+r.attr(n.attr_name()),o=r.data(n.attr_name(!0)+"-init")||n.settings,s=e("#"+this.href.split("#")[1]),u=t("> .accordion-navigation",r),l=u.children("."+o.content_class),c=l.filter("."+o.active_class);if(i.preventDefault(),r.attr(n.attr_name())&&(l=l.add("["+a+"] dd > ."+o.content_class),u=u.add("["+a+"] .accordion-navigation")),o.toggleable&&s.is(c))return s.parent(".accordion-navigation").toggleClass(o.active_class,!1),s.toggleClass(o.active_class,!1),o.callback(s),s.triggerHandler("toggled",[r]),void r.triggerHandler("toggled",[s]);o.multi_expand||(l.removeClass(o.active_class),u.removeClass(o.active_class)),s.addClass(o.active_class).parent().addClass(o.active_class),o.callback(s),s.triggerHandler("toggled",[r]),r.triggerHandler("toggled",[s])}))},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.5.1",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(n,e,i){Foundation.inherit(this,"add_custom_rule register_media throttle");var r=this;r.register_media("topbar","foundation-mq-topbar"),this.bindings(e,i),r.S("["+this.attr_name()+"]",this.scope).each((function(){var n=t(this),e=n.data(r.attr_name(!0)+"-init");r.S("section, .top-bar-section",this),n.data("index",0);var i=n.parent();i.hasClass("fixed")||r.is_sticky(n,i,e)?(r.settings.sticky_class=e.sticky_class,r.settings.sticky_topbar=n,n.data("height",i.outerHeight()),n.data("stickyoffset",i.offset().top)):n.data("height",n.outerHeight()),e.assembled||r.assemble(n),e.is_hover?r.S(".has-dropdown",n).addClass("not-click"):r.S(".has-dropdown",n).removeClass("not-click"),r.add_custom_rule(".f-topbar-fixed { padding-top: "+n.data("height")+"px }"),i.hasClass("fixed")&&r.S("body").addClass("f-topbar-fixed")}))},is_sticky:function(t,n,e){var i=n.hasClass(e.sticky_class),r=matchMedia(Foundation.media_queries.small).matches,a=matchMedia(Foundation.media_queries.medium).matches,o=matchMedia(Foundation.media_queries.large).matches;return!((!i||"all"!==e.sticky_on)&&(!(i&&this.small()&&-1!==e.sticky_on.indexOf("small")&&r)||a||o)&&(!(i&&this.medium()&&-1!==e.sticky_on.indexOf("medium")&&r&&a)||o)&&!(i&&this.large()&&-1!==e.sticky_on.indexOf("large")&&r&&a&&o)&&(!i||!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)))},toggle:function(e){var i,r=this,a=(i=e?r.S(e).closest("["+this.attr_name()+"]"):r.S("["+this.attr_name()+"]")).data(this.attr_name(!0)+"-init"),o=r.S("section, .top-bar-section",i);r.breakpoint()&&(r.rtl?(o.css({right:"0%"}),t(">.name",o).css({right:"100%"})):(o.css({left:"0%"}),t(">.name",o).css({left:"100%"})),r.S("li.moved",o).removeClass("moved"),i.data("index",0),i.toggleClass("expanded").css("height","")),a.scrolltop?i.hasClass("expanded")?i.parent().hasClass("fixed")&&(a.scrolltop?(i.parent().removeClass("fixed"),i.addClass("fixed"),r.S("body").removeClass("f-topbar-fixed"),n.scrollTo(0,0)):i.parent().removeClass("expanded")):i.hasClass("fixed")&&(i.parent().addClass("fixed"),i.removeClass("fixed"),r.S("body").addClass("f-topbar-fixed")):(r.is_sticky(i,i.parent(),a)&&i.parent().addClass("fixed"),i.parent().hasClass("fixed")&&(i.hasClass("expanded")?(i.addClass("fixed"),i.parent().addClass("expanded"),r.S("body").addClass("f-topbar-fixed")):(i.removeClass("fixed"),i.parent().removeClass("expanded"),r.update_sticky_positioning())))},timer:null,events:function(e){var i=this,r=this.S;r(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",(function(t){t.preventDefault(),i.toggle(this)})).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',(function(n){var e=t(this).closest("li");!i.breakpoint()||e.hasClass("back")||e.hasClass("has-dropdown")||i.toggle()})).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",(function(n){var e=r(this),a=r(n.target),o=e.closest("["+i.attr_name()+"]").data(i.attr_name(!0)+"-init");a.data("revealId")?i.toggle():i.breakpoint()||o.is_hover&&!Modernizr.touch||(n.stopImmediatePropagation(),e.hasClass("hover")?(e.removeClass("hover").find("li").removeClass("hover"),e.parents("li.hover").removeClass("hover")):(e.addClass("hover"),t(e).siblings().removeClass("hover"),"A"===a[0].nodeName&&a.parent().hasClass("has-dropdown")&&n.preventDefault()))})).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",(function(t){if(i.breakpoint()){t.preventDefault();var n=r(this),e=n.closest("["+i.attr_name()+"]"),a=e.find("section, .top-bar-section"),o=(n.next(".dropdown").outerHeight(),n.closest("li"));e.data("index",e.data("index")+1),o.addClass("moved"),i.rtl?(a.css({right:-100*e.data("index")+"%"}),a.find(">.name").css({right:100*e.data("index")+"%"})):(a.css({left:-100*e.data("index")+"%"}),a.find(">.name").css({left:100*e.data("index")+"%"})),e.css("height",n.siblings("ul").outerHeight(!0)+e.data("height"))}})),r(n).off(".topbar").on("resize.fndtn.topbar",i.throttle((function(){i.resize.call(i)}),50)).trigger("resize").trigger("resize.fndtn.topbar").load((function(){r(this).trigger("resize.fndtn.topbar")})),r("body").off(".topbar").on("click.fndtn.topbar",(function(t){r(t.target).closest("li").closest("li.hover").length>0||r("["+i.attr_name()+"] li.hover").removeClass("hover")})),r(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",(function(t){t.preventDefault();var n=r(this),e=n.closest("["+i.attr_name()+"]"),a=e.find("section, .top-bar-section"),o=(e.data(i.attr_name(!0)+"-init"),n.closest("li.moved")),s=o.parent();e.data("index",e.data("index")-1),i.rtl?(a.css({right:-100*e.data("index")+"%"}),a.find(">.name").css({right:100*e.data("index")+"%"})):(a.css({left:-100*e.data("index")+"%"}),a.find(">.name").css({left:100*e.data("index")+"%"})),0===e.data("index")?e.css("height",""):e.css("height",s.outerHeight(!0)+e.data("height")),setTimeout((function(){o.removeClass("moved")}),300)})),r(this.scope).find(".dropdown a").focus((function(){t(this).parents(".has-dropdown").addClass("hover")})).blur((function(){t(this).parents(".has-dropdown").removeClass("hover")}))},resize:function(){var t=this;t.S("["+this.attr_name()+"]").each((function(){var n,i=t.S(this),r=i.data(t.attr_name(!0)+"-init"),a=i.parent("."+t.settings.sticky_class);if(!t.breakpoint()){var o=i.hasClass("expanded");i.css("height","").removeClass("expanded").find("li").removeClass("hover"),o&&t.toggle(i)}t.is_sticky(i,a,r)&&(a.hasClass("fixed")?(a.removeClass("fixed"),n=a.offset().top,t.S(e.body).hasClass("f-topbar-fixed")&&(n-=i.data("height")),i.data("stickyoffset",n),a.addClass("fixed")):(n=a.offset().top,i.data("stickyoffset",n)))}))},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(n){var e=this,i=n.data(this.attr_name(!0)+"-init"),r=e.S("section, .top-bar-section",n);r.detach(),e.S(".has-dropdown>a",r).each((function(){var n,r=e.S(this),a=r.siblings(".dropdown"),o=r.attr("href");a.find(".title.back").length||(n=1==i.mobile_show_parent_link&&o?t('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-large-up"><a class="parent-link js-generated" href="'+o+'">'+r.html()+"</a></li>"):t('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),1==i.custom_back_text?t("h5>a",n).html(i.back_text):t("h5>a",n).html("&laquo; "+r.html()),a.prepend(n))})),r.appendTo(n),this.sticky(),this.assembled(n)},assembled:function(n){n.data(this.attr_name(!0),t.extend({},n.data(this.attr_name(!0)),{assembled:!0}))},height:function(n){var e=0,i=this;return t("> li",n).each((function(){e+=i.S(this).outerHeight(!0)})),e},sticky:function(){var t=this;this.S(n).on("scroll",(function(){t.update_sticky_positioning()}))},update_sticky_positioning:function(){var t="."+this.settings.sticky_class,e=this.S(n),i=this;if(i.settings.sticky_topbar&&i.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var r=this.settings.sticky_topbar.data("stickyoffset");i.S(t).hasClass("expanded")||(e.scrollTop()>r?i.S(t).hasClass("fixed")||(i.S(t).addClass("fixed"),i.S("body").addClass("f-topbar-fixed")):e.scrollTop()<=r&&i.S(t).hasClass("fixed")&&(i.S(t).removeClass("fixed"),i.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(n).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.tab={name:"tab",version:"5.5.1",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(t,e,i){var r=this,a=this.S;this.bindings(e,i),r.entry_location=n.location.href,this.handle_location_hash_change(),a("["+this.attr_name()+"] > .active > a",this.scope).each((function(){r.default_tab_hashes.push(this.hash)}))},events:function(){var t=this,e=this.S,i=function(n){e(this).closest("["+t.attr_name()+"]").data(t.attr_name(!0)+"-init").is_hover&&!Modernizr.touch||(n.preventDefault(),n.stopPropagation(),t.toggle_active_tab(e(this).parent()))};e(this.scope).off(".tab").on("focus.fndtn.tab","["+this.attr_name()+"] > * > a",i).on("click.fndtn.tab","["+this.attr_name()+"] > * > a",i).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",(function(n){e(this).closest("["+t.attr_name()+"]").data(t.attr_name(!0)+"-init").is_hover&&t.toggle_active_tab(e(this).parent())})),e(n).on("hashchange.fndtn.tab",(function(n){n.preventDefault(),t.handle_location_hash_change()}))},handle_location_hash_change:function(){var n=this,e=this.S;e("["+this.attr_name()+"]",this.scope).each((function(){var r,a=e(this).data(n.attr_name(!0)+"-init");if(a.deep_linking)if(""!=(r=a.scroll_to_content?n.scope.location.hash:n.scope.location.hash.replace("fndtn-",""))){var o=e(r);if(o.hasClass("content")&&o.parent().hasClass("tabs-content"))n.toggle_active_tab(t("["+n.attr_name()+"] > * > a[href="+r+"]").parent());else{var s=o.closest(".content").attr("id");s!=i&&n.toggle_active_tab(t("["+n.attr_name()+"] > * > a[href=#"+s+"]").parent(),r)}}else for(var u=0;u<n.default_tab_hashes.length;u++)n.toggle_active_tab(t("["+n.attr_name()+"] > * > a[href="+n.default_tab_hashes[u]+"]").parent())}))},toggle_active_tab:function(r,a){var o=this,s=o.S,u=r.closest("["+this.attr_name()+"]"),l=r.find("a"),c="#"+r.children("a").first().attr("href").split("#")[1],h=s(c),f=r.siblings(),d=u.data(this.attr_name(!0)+"-init"),p=function(t){var e=n.location.href===o.entry_location,i=d.scroll_to_content?o.default_tab_hashes[0]:e?n.location.hash:"fndtn-"+o.default_tab_hashes[0].replace("#","");e&&t===i||(n.location.hash=t)};s(this).data(this.data_attr("tab-content"))&&(c="#"+s(this).data(this.data_attr("tab-content")).split("#")[1],h=s(c)),d.deep_linking&&(d.scroll_to_content?(p(a||c),a==i||a==c?r.parent()[0].scrollIntoView():s(c)[0].scrollIntoView()):p(a!=i?"fndtn-"+a.replace("#",""):"fndtn-"+c.replace("#",""))),r.addClass(d.active_class).triggerHandler("opened"),l.attr({"aria-selected":"true",tabindex:0}),f.removeClass(d.active_class),f.find("a").attr({"aria-selected":"false",tabindex:-1}),h.siblings().removeClass(d.active_class).attr({"aria-hidden":"true",tabindex:-1}),h.addClass(d.active_class).attr("aria-hidden","false").removeAttr("tabindex"),d.callback(r),h.triggerHandler("toggled",[r]),u.triggerHandler("toggled",[h]),l.off("keydown").on("keydown",(function(n){var i,r=t(this),a=t(this).parents("li").prev().children('[role="tab"]'),o=t(this).parents("li").next().children('[role="tab"]');switch(n.keyCode){case 37:i=a;break;case 39:i=o;break;default:i=!1}i.length&&(r.attr({tabindex:"-1","aria-selected":null}),i.attr({tabindex:"0","aria-selected":!0}).focus()),t('[role="tabpanel"]').attr("aria-hidden","true"),t("#"+t(e.activeElement).attr("href").substring(1)).attr("aria-hidden",null)}))},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.abide={name:"abide",version:"5.5.1",settings:{live_validate:!0,validate_on_blur:!0,focus_on_invalid:!0,error_labels:!0,error_class:"error",timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(t,n,i){return e.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value===t.value}}},timer:null,init:function(t,n,e){this.bindings(n,e)},events:function(n){var e=this,i=e.S(n).attr("novalidate","novalidate"),r=i.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),i.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",(function(t){var n=/ajax/i.test(e.S(this).attr(e.attr_name()));return e.validate(e.S(this).find("input, textarea, select").get(),t,n)})).on("reset",(function(){return e.reset(t(this))})).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",(function(t){!0===r.validate_on_blur&&e.validate([this],t)})).on("keydown.fndtn.abide",(function(t){!0===r.live_validate&&9!=t.which&&(clearTimeout(e.timer),e.timer=setTimeout(function(){e.validate([this],t)}.bind(this),r.timeout))}))},reset:function(n){n.removeAttr(this.invalid_attr),t(this.invalid_attr,n).removeAttr(this.invalid_attr),t("."+this.settings.error_class,n).not("small").removeClass(this.settings.error_class)},validate:function(t,n,e){for(var i=this.parse_patterns(t),r=i.length,a=this.S(t[0]).closest("form"),o=/submit/.test(n.type),s=0;s<r;s++)if(!i[s]&&(o||e))return this.settings.focus_on_invalid&&t[s].focus(),a.trigger("invalid").trigger("invalid.fndtn.abide"),this.S(t[s]).closest("form").attr(this.invalid_attr,""),!1;return(o||e)&&a.trigger("valid").trigger("valid.fndtn.abide"),a.removeAttr(this.invalid_attr),!e},parse_patterns:function(t){for(var n=t.length,e=[];n--;)e.push(this.pattern(t[n]));return this.check_validation_and_apply_styles(e)},pattern:function(t){var n=t.getAttribute("type"),e="string"==typeof t.getAttribute("required"),i=t.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(i)&&i.length>0?[t,this.settings.patterns[i],e]:i.length>0?[t,new RegExp(i),e]:this.settings.patterns.hasOwnProperty(n)?[t,this.settings.patterns[n],e]:[t,i=/.*/,e]},check_validation_and_apply_styles:function(n){var e=n.length,i=[];for(this.S(n[0][0]).closest("[data-"+this.attr_name(!0)+"]").data(this.attr_name(!0)+"-init");e--;){var r,a,o=n[e][0],s=n[e][2],u=o.value.trim(),l=this.S(o).parent(),c=o.getAttribute(this.add_namespace("data-abide-validator")),h="radio"===o.type,f="checkbox"===o.type,d=this.S('label[for="'+o.getAttribute("id")+'"]'),p=!s||o.value.length>0,g=[];if(o.getAttribute(this.add_namespace("data-equalto"))&&(c="equalTo"),r=l.is("label")?l.parent():l,c&&(a=this.settings.validators[c].apply(this,[o,s,r]),g.push(a)),h&&s)g.push(this.valid_radio(o,s));else if(f&&s)g.push(this.valid_checkbox(o,s));else if(n[e][1].test(u)&&p||!s&&o.value.length<1||t(o).attr("disabled")?g.push(!0):g.push(!1),g=[g.every((function(t){return t}))],g[0])this.S(o).removeAttr(this.invalid_attr),o.setAttribute("aria-invalid","false"),o.removeAttribute("aria-describedby"),r.removeClass(this.settings.error_class),d.length>0&&this.settings.error_labels&&d.removeClass(this.settings.error_class).removeAttr("role"),t(o).triggerHandler("valid");else{this.S(o).attr(this.invalid_attr,""),o.setAttribute("aria-invalid","true");var v=r.find("small."+this.settings.error_class,"span."+this.settings.error_class),m=v.length>0?v[0].id:"";m.length>0&&o.setAttribute("aria-describedby",m),r.addClass(this.settings.error_class),d.length>0&&this.settings.error_labels&&d.addClass(this.settings.error_class).attr("role","alert"),t(o).triggerHandler("invalid")}i.push(g[0])}return i=[i.every((function(t){return t}))],i},valid_checkbox:function(t,n){var e=(t=this.S(t)).is(":checked")||!n||t.get(0).getAttribute("disabled");return e?t.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):t.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),e},valid_radio:function(t,n){for(var e=t.getAttribute("name"),i=this.S(t).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+e+"']"),r=i.length,a=!1,o=!1,s=0;s<r;s++)i[s].getAttribute("disabled")?(o=!0,a=!0):i[s].checked?a=!0:o&&(a=!1);for(s=0;s<r;s++)a?this.S(i[s]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):this.S(i[s]).attr(this.invalid_attr,"").parent().addClass(this.settings.error_class);return a},valid_equal:function(t,n,i){var r=e.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value===t.value;return r?(this.S(t).removeAttr(this.invalid_attr),i.removeClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.removeClass(this.settings.error_class)):(this.S(t).attr(this.invalid_attr,""),i.addClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.addClass(this.settings.error_class)),r},valid_oneof:function(t,n,e,i){t=this.S(t);var r=this.S("["+this.add_namespace("data-oneof")+"]"),a=r.filter(":checked").length>0;if(a?t.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):t.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),!i){var o=this;r.each((function(){o.valid_oneof.call(o,this,null,null,!0)}))}return a}}}(jQuery,window,window.document),function(t,n,e,i){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.5.1",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(t,n){return'<span data-selector="'+t+'" id="'+t+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+n+'<span class="nub"></span></span>'}},cache:{},init:function(t,n,e){Foundation.inherit(this,"random_str"),this.bindings(n,e)},should_show:function(n,e){var i=t.extend({},this.settings,this.data_options(n));return"all"===i.show_on||!(!this.small()||"small"!==i.show_on)||!(!this.medium()||"medium"!==i.show_on)||!(!this.large()||"large"!==i.show_on)},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(n){var e=this,i=e.S;e.create(this.S(n)),t(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",(function(n){var r=i(this),a=t.extend({},e.settings,e.data_options(r));if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(n.type)&&i(n.target).is("a"))return!1;if(/mouse/i.test(n.type)&&e.ie_touch(n))return!1;if(r.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(n.type)&&n.preventDefault(),e.hide(r);else{if(a.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(n.type))return;!a.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(n.type)&&(n.preventDefault(),i(a.tooltip_class+".open").hide()),/enter|over/i.test(n.type)?this.timer=setTimeout(function(){e.showTip(r)}.bind(this),e.settings.hover_delay):"mouseout"===n.type||"mouseleave"===n.type?(clearTimeout(this.timer),e.hide(r)):e.showTip(r)}})).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",(function(n){if(/mouse/i.test(n.type)&&e.ie_touch(n))return!1;"touch"==t(this).data("tooltip-open-event-type")&&"mouseleave"==n.type||("mouse"==t(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(n.type)?e.convert_to_touch(t(this)):e.hide(t(this)))})).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",(function(t){e.hide(i(this))}))},ie_touch:function(t){return!1},showTip:function(t){var n=this.getTip(t);if(this.should_show(t,n))return this.show(t)},getTip:function(n){var e=this.selector(n),i=t.extend({},this.settings,this.data_options(n)),r=null;return e&&(r=this.S('span[data-selector="'+e+'"]'+i.tooltip_class)),"object"==typeof r&&r},selector:function(t){var n=t.attr("id"),e=t.attr(this.attr_name())||t.attr("data-selector");return(n&&n.length<1||!n)&&"string"!=typeof e&&(e=this.random_str(6),t.attr("data-selector",e).attr("aria-describedby",e)),n&&n.length>0?n:e},create:function(e){var i=this,r=t.extend({},this.settings,this.data_options(e)),a=this.settings.tip_template;"string"==typeof r.tip_template&&n.hasOwnProperty(r.tip_template)&&(a=n[r.tip_template]);var o=t(a(this.selector(e),t("<div></div>").html(e.attr("title")).html())),s=this.inheritable_classes(e);o.addClass(s).appendTo(r.append_to),Modernizr.touch&&(o.append('<span class="tap-to-close">'+r.touch_close_text+"</span>"),o.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",(function(t){i.hide(e)}))),e.removeAttr("title").attr("title","")},reposition:function(n,e,i){var r,a,o,s;if(e.css("visibility","hidden").show(),r=n.data("width"),o=(a=e.children(".nub")).outerHeight(),a.outerHeight(),this.small()?e.css({width:"100%"}):e.css({width:r||"auto"}),s=function(t,n,e,i,r,a){return t.css({top:n||"auto",bottom:i||"auto",left:r||"auto",right:e||"auto"}).end()},s(e,n.offset().top+n.outerHeight()+10,"auto","auto",n.offset().left),this.small())s(e,n.offset().top+n.outerHeight()+10,"auto","auto",12.5,t(this.scope).width()),e.addClass("tip-override"),s(a,-o,"auto","auto",n.offset().left);else{var u=n.offset().left;Foundation.rtl&&(a.addClass("rtl"),u=n.offset().left+n.outerWidth()-e.outerWidth()),s(e,n.offset().top+n.outerHeight()+10,"auto","auto",u),e.removeClass("tip-override"),i&&i.indexOf("tip-top")>-1?(Foundation.rtl&&a.addClass("rtl"),s(e,n.offset().top-e.outerHeight(),"auto","auto",u).removeClass("tip-override")):i&&i.indexOf("tip-left")>-1?(s(e,n.offset().top+n.outerHeight()/2-e.outerHeight()/2,"auto","auto",n.offset().left-e.outerWidth()-o).removeClass("tip-override"),a.removeClass("rtl")):i&&i.indexOf("tip-right")>-1&&(s(e,n.offset().top+n.outerHeight()/2-e.outerHeight()/2,"auto","auto",n.offset().left+n.outerWidth()+o).removeClass("tip-override"),a.removeClass("rtl"))}e.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(n){var e=t.extend({},this.settings,this.data_options(n)),i=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(e.additional_inheritable_classes),r=n.attr("class"),a=r?t.map(r.split(" "),(function(n,e){if(-1!==t.inArray(n,i))return n})).join(" "):"";return t.trim(a)},convert_to_touch:function(n){var e=this,i=e.getTip(n),r=t.extend({},e.settings,e.data_options(n));0===i.find(".tap-to-close").length&&(i.append('<span class="tap-to-close">'+r.touch_close_text+"</span>"),i.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",(function(t){e.hide(n)}))),n.data("tooltip-open-event-type","touch")},show:function(t){var n=this.getTip(t);"touch"==t.data("tooltip-open-event-type")&&this.convert_to_touch(t),this.reposition(t,n,t.attr("class")),t.addClass("open"),n.fadeIn(150)},hide:function(t){var n=this.getTip(t);n.fadeOut(150,(function(){n.find(".tap-to-close").remove(),n.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),t.removeClass("open")}))},off:function(){var n=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each((function(e){t("["+n.attr_name()+"]").eq(e).attr("title",t(this).text())})).remove()},reflow:function(){}}}(jQuery,window,window.document)},341:()=>{$("document").ready((function(){$(document).foundation(),$(document).on("opened","[data-reveal]",(function(){var t=$(".inputName:visible").first();t.focus((function(){this.selectionStart=this.selectionEnd=this.value.length})),t.focus()})),$("#RenameNodeForm").submit((function(t){return rename_node(),!1})),$("#CreateNodeForm").submit((function(t){return create_node(),!1}))})),Shiny.addCustomMessageHandler("json_data",(function(t){var n=t;console.log(n);var e,i=0,r=null,a=null,o=0,s=750,u=$(document).width(),l=$(document).height(),c=d3.layout.tree().size([l,u]),h=d3.svg.diagonal().projection((function(t){return[t.y,t.x]}));function f(t){return"M"+t.source.y+","+t.source.x+"H"+(t.source.y+(t.target.y-t.source.y)/2)+"V"+t.target.x+"H"+t.target.y}var d=[{title:"Rename node",action:function(t,n,e){console.log("Rename node"),$("#RenameNodeName").val(n.name),rename_node_modal_active=!0,node_to_rename=n,$("#RenameNodeName").focus(),$("#RenameNodeModal").foundation("reveal","open")}},{title:"Delete node",action:function(t,i,r){console.log("Delete node"),function(t){p(n,(function(n){if(n.children)for(var i of n.children)if(i==t){n.children=_.without(n.children,i),F(e);break}}),(function(t){return t.children&&t.children.length>0?t.children:null}))}(i)}},{title:"Create child node",action:function(t,n,e){console.log("Create child node"),create_node_parent=n,create_node_modal_active=!0,$("#CreateNodeModal").foundation("reveal","open"),$("#CreateNodeName").focus()}}];function p(t,n,e){if(t){n(t);var i=e(t);if(i)for(var r=i.length,a=0;a<r;a++)p(i[a],n,e)}}function g(){c.sort((function(t,n){return n.name.toLowerCase()<t.name.toLowerCase()?1:-1}))}function v(t,n){var e=200;panTimer&&(clearTimeout(panTimer),translateCoords=d3.transform(E.attr("transform")),"left"==n||"right"==n?(translateX="left"==n?translateCoords.translate[0]+e:translateCoords.translate[0]-e,translateY=translateCoords.translate[1]):"up"!=n&&"down"!=n||(translateX=translateCoords.translate[0],translateY="up"==n?translateCoords.translate[1]+e:translateCoords.translate[1]-e),scaleX=translateCoords.scale[0],scaleY=translateCoords.scale[1],scale=m.scale(),E.transition().attr("transform","translate("+translateX+","+translateY+")scale("+scale+")"),d3.select(t).select("g.node").attr("transform","translate("+translateX+","+translateY+")"),m.scale(m.scale()),m.translate([translateX,translateY]),panTimer=setTimeout((function(){v(t,e)}),50))}p(n,(function(t){i=Math.max(t.name.length,i)}),(function(t){return t.children&&t.children.length>0?t.children:null})),g();var m=d3.behavior.zoom().scaleExtent([.1,3]).on("zoom",(function(){E.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")})),b=d3.select("#tree-container").append("svg").attr("width",u).attr("height",l);function w(){r=null,d3.selectAll(".ghostCircle").attr("class","ghostCircle"),d3.select(domNode).attr("class","node"),d3.select(domNode).select(".ghostCircle").attr("pointer-events",""),C(),null!==a&&(F(e),S(a),a=null)}function M(t){t._children&&(t.children=t._children,t.children.forEach(M),t._children=null)}function k(t){return result="#fff",1==t.synthetic?result=t._children||t.children?"darkgray":"lightgray":"USDA"==t.type?result=t._children||t.children?"orangered":"orange":"Produce"==t.type?result=t._children||t.children?"yellowgreen":"yellow":"RecipeIngredient"==t.type?result=t._children||t.children?"skyblue":"royalblue":result="lightsteelblue",result}b.append("rect").attr("width","100%").attr("height","100%").attr("fill","white"),b.call(m),dragListener=d3.behavior.drag().on("dragstart",(function(t){t!=e&&(dragStarted=!0,nodes=c.nodes(t),d3.event.sourceEvent.stopPropagation())})).on("drag",(function(t){if(t!=e){if(dragStarted&&(domNode=this,function(t,n){a=t,d3.select(n).select(".ghostCircle").attr("pointer-events","none"),d3.selectAll(".ghostCircle").attr("class","ghostCircle show"),d3.select(n).attr("class","node activeDrag"),E.selectAll("g.node").sort((function(t,n){return t.id!=a.id?1:-1})),nodes.length>1&&(links=c.links(nodes),nodePaths=E.selectAll("path.link").data(links,(function(t){return t.target.id})).remove(),nodesExit=E.selectAll("g.node").data(nodes,(function(t){return t.id})).filter((function(t,n){return t.id!=a.id})).remove()),parentLink=c.links(c.nodes(a.parent)),E.selectAll("path.link").filter((function(t,n){return t.target.id==a.id})).remove(),dragStarted=null}(t,domNode)),relCoords=d3.mouse($("svg").get(0)),relCoords[0]<20)panTimer=!0,v(this,"left");else if(relCoords[0]>$("svg").width()-20)panTimer=!0,v(this,"right");else if(relCoords[1]<20)panTimer=!0,v(this,"up");else if(relCoords[1]>$("svg").height()-20)panTimer=!0,v(this,"down");else try{clearTimeout(panTimer)}catch(t){}t.x0+=d3.event.dy,t.y0+=d3.event.dx,d3.select(this).attr("transform","translate("+t.y0+","+t.x0+")"),C()}})).on("dragend",(function(t){if(t!=e)if(domNode=this,r){var n=a.parent.children.indexOf(a);n>-1&&a.parent.children.splice(n,1),void 0!==r.children||void 0!==r._children?void 0!==r.children?r.children.push(a):r._children.push(a):(r.children=[],r.children.push(a)),M(r),g(),w()}else w()}));var C=function(){var t=[];null!==a&&null!==r&&(t=[{source:{x:r.y0,y:r.x0},target:{x:a.y0,y:a.x0}}]);var n=E.selectAll(".templink").data(t);n.enter().append("path").attr("class","templink").attr("d",d3.svg.diagonal()).attr("pointer-events","none"),n.attr("d",d3.svg.diagonal()),n.exit().remove()};function S(t){scale=m.scale(),x=-t.y0,y=-t.x0,x=x*scale+u/2,y=y*scale+l/2,d3.select("g").transition().duration(s).attr("transform","translate("+x+","+y+")scale("+scale+")"),m.scale(scale),m.translate([x,y])}function A(t){d3.event.defaultPrevented||(F(t=function(t){return t.children?(t._children=t.children,t.children=null):t._children&&(t.children=t._children,t._children=null),t}(t)),S(t))}function F(t){var n=[1],i=function(t,e){e.children&&e.children.length>0&&(n.length<=t+1&&n.push(0),n[t+1]+=e.children.length,e.children.forEach((function(n){i(t+1,n)})))};i(0,e);var a=100*d3.max(n),l=(c=c.size([a,u])).nodes(e).reverse(),p=c.links(l);l.forEach((function(t){t.y=300*t.depth})),node=E.selectAll("g.node").data(l,(function(t){return t.id||(t.id=++o)}));var g=node.enter().append("g").call(dragListener).attr("class","node").attr("transform",(function(n){return"translate("+t.y0+","+t.x0+")"})).on("click",A);g.append("rect").attr({x:-100,y:-20,width:200,height:40}).style("fill","white").style("stroke","steelblue").style("stroke-width","1px"),g.append("text").attr("x",(function(t){return t.children||t._children?-10:10})).attr("dy",".35em").attr("class","nodeText").attr("text-anchor",(function(t){return t.children||t._children?"end":"start"})).text((function(t){return t.name})).style("fill-opacity",0).style("font-size","10px").style("font-family","sans-serif").style("dominant-baseline","middle").style("text-anchor","middle"),g.append("circle").attr("class","ghostCircle").attr("r",30).attr("opacity",.2).style("fill","red").attr("pointer-events","mouseover").style("fill","white").on("mouseover",(function(t){r=t,C()})).on("mouseout",(function(t){r=null,C()})),node.select("text").attr("x",(function(t){return t.children||t._children?-10:10})).attr("text-anchor",(function(t){return t.children||t._children?"end":"start"})).text((function(t){return t.name})),node.select("circle.nodeCircle").attr("r",4.5).style("fill",k),node.on("contextmenu",d3.contextMenu(d)),node.transition().duration(s).attr("transform",(function(t){return"translate("+t.y+","+t.x+")"})).select("text").style("fill-opacity",1);var v=node.exit().transition().duration(s).attr("transform",(function(n){return"translate("+t.y+","+t.x+")"})).remove();v.select("circle").attr("r",0),v.select("text").style("fill-opacity",0);var m=E.selectAll("path.link").data(p,(function(t){return t.target.id}));m.enter().insert("path","g").attr("class","link").attr("d",(function(n){var e={x:t.x0,y:t.y0};return h({source:e,target:e})})),m.transition().duration(s).attr("d",f),m.exit().transition().duration(s).attr("d",(function(n){var e={x:t.x,y:t.y};return h({source:e,target:e})})).remove(),l.forEach((function(t){t.x0=t.x,t.y0=t.y}))}outer_update=F;var E=b.append("g");(e=n).x0=l/2,e.y0=0,F(e),S(e),tree_root=e,console.log(tree_root)}))},760:()=>{Shiny.addCustomMessageHandler("down_tree_png",(function(t){!function(t,n,e,i,r){var a="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t))),o=document.createElement("canvas"),s=o.getContext("2d");o.width=n,o.height=e;var u=new Image;u.onload=function(){s.clearRect(0,0,n,e),s.drawImage(u,0,0,n,e),o.toBlob((function(t){Math.round(t.length/1024);r&&r(t)}))},u.src=a}(function(t){t.setAttribute("xlink","http://www.w3.org/1999/xlink"),function(t,n){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;var i=n.hasChildNodes()?n.children[0]:null;n.insertBefore(e,i)}(function(t){var n=[];n.push("#"+t.id);for(var e=0;e<t.classList.length;e++)h("."+t.classList[e],n)||n.push("."+t.classList[e]);for(var i=t.getElementsByTagName("*"),r=0;r<i.length;r++){var a=i[r].id;h("#"+a,n)||n.push("#"+a);var o=i[r].classList;for(e=0;e<o.length;e++)h("."+o[e],n)||n.push("."+o[e])}var s="";for(r=0;r<document.styleSheets.length;r++){var u=document.styleSheets[r];try{if(!u.cssRules)continue}catch(t){if("SecurityError"!==t.name)throw t;continue}for(var l=u.cssRules,c=0;c<l.length;c++)h(l[c].selectorText,n)&&(s+=l[c].cssText)}return s;function h(t,n){return-1!==n.indexOf(t)}}(t),t);var n=(new XMLSerializer).serializeToString(t);return(n=n.replace(/(\w+)?:?xlink=/g,"xmlns:xlink=")).replace(/NS\d+:href/g,"xlink:href")}(document.querySelector("svg")),2e3,2e3,0,(function(t,n){saveAs(t,"D3 vis exported to PNG.png")}))})),Shiny.addCustomMessageHandler("down_tree_svg",(function(t){var n=document.querySelector("svg");(()=>{let t=(new XMLSerializer).serializeToString(n),e=new Blob([t],{type:"image/svg+xml;charset=utf-8"});((t,n)=>{let e=document.createElement("a");e.setAttribute("download","image.svg"),e.setAttribute("href",t),e.setAttribute("target","_blank"),e.click()})(URL.createObjectURL(e))})()}))},199:function(t,n){var e;(function(){function i(t){function n(n,e,i,r,a,o){for(;a>=0&&o>a;a+=t){var s=r?r[a]:a;i=e(i,n[s],s,n)}return i}return function(e,i,r,a){i=w(i,a,4);var o=!E(e)&&b.keys(e),s=(o||e).length,u=t>0?0:s-1;return arguments.length<3&&(r=e[o?o[u]:u],u+=t),n(e,i,r,o,u,s)}}function r(t){return function(n,e,i){e=M(e,i);for(var r=F(n),a=t>0?0:r-1;a>=0&&r>a;a+=t)if(e(n[a],a,n))return a;return-1}}function a(t,n,e){return function(i,r,a){var o=0,s=F(i);if("number"==typeof a)t>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(e&&a&&s)return i[a=e(i,r)]===r?a:-1;if(r!=r)return(a=n(d.call(i,o,s),b.isNaN))>=0?a+o:-1;for(a=t>0?o:s-1;a>=0&&s>a;a+=t)if(i[a]===r)return a;return-1}}function o(t,n){var e=q.length,i=t.constructor,r=b.isFunction(i)&&i.prototype||c,a="constructor";for(b.has(t,a)&&!b.contains(n,a)&&n.push(a);e--;)(a=q[e])in t&&t[a]!==r[a]&&!b.contains(n,a)&&n.push(a)}var s=this,u=s._,l=Array.prototype,c=Object.prototype,h=Function.prototype,f=l.push,d=l.slice,p=c.toString,g=c.hasOwnProperty,v=Array.isArray,m=Object.keys,_=h.bind,y=Object.create,x=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};t.exports&&(n=t.exports=b),n._=b,b.VERSION="1.8.3";var w=function(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,i){return t.call(n,e,i)};case 3:return function(e,i,r){return t.call(n,e,i,r)};case 4:return function(e,i,r,a){return t.call(n,e,i,r,a)}}return function(){return t.apply(n,arguments)}},M=function(t,n,e){return null==t?b.identity:b.isFunction(t)?w(t,n,e):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,n){return M(t,n,1/0)};var k=function(t,n){return function(e){var i=arguments.length;if(2>i||null==e)return e;for(var r=1;i>r;r++)for(var a=arguments[r],o=t(a),s=o.length,u=0;s>u;u++){var l=o[u];n&&void 0!==e[l]||(e[l]=a[l])}return e}},C=function(t){if(!b.isObject(t))return{};if(y)return y(t);x.prototype=t;var n=new x;return x.prototype=null,n},S=function(t){return function(n){return null==n?void 0:n[t]}},A=Math.pow(2,53)-1,F=S("length"),E=function(t){var n=F(t);return"number"==typeof n&&n>=0&&A>=n};b.each=b.forEach=function(t,n,e){var i,r;if(n=w(n,e),E(t))for(i=0,r=t.length;r>i;i++)n(t[i],i,t);else{var a=b.keys(t);for(i=0,r=a.length;r>i;i++)n(t[a[i]],a[i],t)}return t},b.map=b.collect=function(t,n,e){n=M(n,e);for(var i=!E(t)&&b.keys(t),r=(i||t).length,a=Array(r),o=0;r>o;o++){var s=i?i[o]:o;a[o]=n(t[s],s,t)}return a},b.reduce=b.foldl=b.inject=i(1),b.reduceRight=b.foldr=i(-1),b.find=b.detect=function(t,n,e){var i;return void 0!==(i=E(t)?b.findIndex(t,n,e):b.findKey(t,n,e))&&-1!==i?t[i]:void 0},b.filter=b.select=function(t,n,e){var i=[];return n=M(n,e),b.each(t,(function(t,e,r){n(t,e,r)&&i.push(t)})),i},b.reject=function(t,n,e){return b.filter(t,b.negate(M(n)),e)},b.every=b.all=function(t,n,e){n=M(n,e);for(var i=!E(t)&&b.keys(t),r=(i||t).length,a=0;r>a;a++){var o=i?i[a]:a;if(!n(t[o],o,t))return!1}return!0},b.some=b.any=function(t,n,e){n=M(n,e);for(var i=!E(t)&&b.keys(t),r=(i||t).length,a=0;r>a;a++){var o=i?i[a]:a;if(n(t[o],o,t))return!0}return!1},b.contains=b.includes=b.include=function(t,n,e,i){return E(t)||(t=b.values(t)),("number"!=typeof e||i)&&(e=0),b.indexOf(t,n,e)>=0},b.invoke=function(t,n){var e=d.call(arguments,2),i=b.isFunction(n);return b.map(t,(function(t){var r=i?n:t[n];return null==r?r:r.apply(t,e)}))},b.pluck=function(t,n){return b.map(t,b.property(n))},b.where=function(t,n){return b.filter(t,b.matcher(n))},b.findWhere=function(t,n){return b.find(t,b.matcher(n))},b.max=function(t,n,e){var i,r,a=-1/0,o=-1/0;if(null==n&&null!=t)for(var s=0,u=(t=E(t)?t:b.values(t)).length;u>s;s++)(i=t[s])>a&&(a=i);else n=M(n,e),b.each(t,(function(t,e,i){((r=n(t,e,i))>o||r===-1/0&&a===-1/0)&&(a=t,o=r)}));return a},b.min=function(t,n,e){var i,r,a=1/0,o=1/0;if(null==n&&null!=t)for(var s=0,u=(t=E(t)?t:b.values(t)).length;u>s;s++)i=t[s],a>i&&(a=i);else n=M(n,e),b.each(t,(function(t,e,i){r=n(t,e,i),(o>r||1/0===r&&1/0===a)&&(a=t,o=r)}));return a},b.shuffle=function(t){for(var n,e=E(t)?t:b.values(t),i=e.length,r=Array(i),a=0;i>a;a++)(n=b.random(0,a))!==a&&(r[a]=r[n]),r[n]=e[a];return r},b.sample=function(t,n,e){return null==n||e?(E(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,n))},b.sortBy=function(t,n,e){return n=M(n,e),b.pluck(b.map(t,(function(t,e,i){return{value:t,index:e,criteria:n(t,e,i)}})).sort((function(t,n){var e=t.criteria,i=n.criteria;if(e!==i){if(e>i||void 0===e)return 1;if(i>e||void 0===i)return-1}return t.index-n.index})),"value")};var T=function(t){return function(n,e,i){var r={};return e=M(e,i),b.each(n,(function(i,a){var o=e(i,a,n);t(r,i,o)})),r}};b.groupBy=T((function(t,n,e){b.has(t,e)?t[e].push(n):t[e]=[n]})),b.indexBy=T((function(t,n,e){t[e]=n})),b.countBy=T((function(t,n,e){b.has(t,e)?t[e]++:t[e]=1})),b.toArray=function(t){return t?b.isArray(t)?d.call(t):E(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:E(t)?t.length:b.keys(t).length},b.partition=function(t,n,e){n=M(n,e);var i=[],r=[];return b.each(t,(function(t,e,a){(n(t,e,a)?i:r).push(t)})),[i,r]},b.first=b.head=b.take=function(t,n,e){return null==t?void 0:null==n||e?t[0]:b.initial(t,t.length-n)},b.initial=function(t,n,e){return d.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))},b.last=function(t,n,e){return null==t?void 0:null==n||e?t[t.length-1]:b.rest(t,Math.max(0,t.length-n))},b.rest=b.tail=b.drop=function(t,n,e){return d.call(t,null==n||e?1:n)},b.compact=function(t){return b.filter(t,b.identity)};var N=function(t,n,e,i){for(var r=[],a=0,o=i||0,s=F(t);s>o;o++){var u=t[o];if(E(u)&&(b.isArray(u)||b.isArguments(u))){n||(u=N(u,n,e));var l=0,c=u.length;for(r.length+=c;c>l;)r[a++]=u[l++]}else e||(r[a++]=u)}return r};b.flatten=function(t,n){return N(t,n,!1)},b.without=function(t){return b.difference(t,d.call(arguments,1))},b.uniq=b.unique=function(t,n,e,i){b.isBoolean(n)||(i=e,e=n,n=!1),null!=e&&(e=M(e,i));for(var r=[],a=[],o=0,s=F(t);s>o;o++){var u=t[o],l=e?e(u,o,t):u;n?(o&&a===l||r.push(u),a=l):e?b.contains(a,l)||(a.push(l),r.push(u)):b.contains(r,u)||r.push(u)}return r},b.union=function(){return b.uniq(N(arguments,!0,!0))},b.intersection=function(t){for(var n=[],e=arguments.length,i=0,r=F(t);r>i;i++){var a=t[i];if(!b.contains(n,a)){for(var o=1;e>o&&b.contains(arguments[o],a);o++);o===e&&n.push(a)}}return n},b.difference=function(t){var n=N(arguments,!0,!0,1);return b.filter(t,(function(t){return!b.contains(n,t)}))},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var n=t&&b.max(t,F).length||0,e=Array(n),i=0;n>i;i++)e[i]=b.pluck(t,i);return e},b.object=function(t,n){for(var e={},i=0,r=F(t);r>i;i++)n?e[t[i]]=n[i]:e[t[i][0]]=t[i][1];return e},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(t,n,e,i){for(var r=(e=M(e,i,1))(n),a=0,o=F(t);o>a;){var s=Math.floor((a+o)/2);e(t[s])<r?a=s+1:o=s}return a},b.indexOf=a(1,b.findIndex,b.sortedIndex),b.lastIndexOf=a(-1,b.findLastIndex),b.range=function(t,n,e){null==n&&(n=t||0,t=0),e=e||1;for(var i=Math.max(Math.ceil((n-t)/e),0),r=Array(i),a=0;i>a;a++,t+=e)r[a]=t;return r};var z=function(t,n,e,i,r){if(!(i instanceof n))return t.apply(e,r);var a=C(t.prototype),o=t.apply(a,r);return b.isObject(o)?o:a};b.bind=function(t,n){if(_&&t.bind===_)return _.apply(t,d.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var e=d.call(arguments,2),i=function(){return z(t,i,n,this,e.concat(d.call(arguments)))};return i},b.partial=function(t){var n=d.call(arguments,1),e=function(){for(var i=0,r=n.length,a=Array(r),o=0;r>o;o++)a[o]=n[o]===b?arguments[i++]:n[o];for(;i<arguments.length;)a.push(arguments[i++]);return z(t,e,this,this,a)};return e},b.bindAll=function(t){var n,e,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(n=1;i>n;n++)t[e=arguments[n]]=b.bind(t[e],t);return t},b.memoize=function(t,n){var e=function(i){var r=e.cache,a=""+(n?n.apply(this,arguments):i);return b.has(r,a)||(r[a]=t.apply(this,arguments)),r[a]};return e.cache={},e},b.delay=function(t,n){var e=d.call(arguments,2);return setTimeout((function(){return t.apply(null,e)}),n)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,n,e){var i,r,a,o=null,s=0;e||(e={});var u=function(){s=!1===e.leading?0:b.now(),o=null,a=t.apply(i,r),o||(i=r=null)};return function(){var l=b.now();s||!1!==e.leading||(s=l);var c=n-(l-s);return i=this,r=arguments,0>=c||c>n?(o&&(clearTimeout(o),o=null),s=l,a=t.apply(i,r),o||(i=r=null)):o||!1===e.trailing||(o=setTimeout(u,c)),a}},b.debounce=function(t,n,e){var i,r,a,o,s,u=function(){var l=b.now()-o;n>l&&l>=0?i=setTimeout(u,n-l):(i=null,e||(s=t.apply(a,r),i||(a=r=null)))};return function(){a=this,r=arguments,o=b.now();var l=e&&!i;return i||(i=setTimeout(u,n)),l&&(s=t.apply(a,r),a=r=null),s}},b.wrap=function(t,n){return b.partial(n,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,n=t.length-1;return function(){for(var e=n,i=t[n].apply(this,arguments);e--;)i=t[e].call(this,i);return i}},b.after=function(t,n){return function(){return--t<1?n.apply(this,arguments):void 0}},b.before=function(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),1>=t&&(n=null),e}},b.once=b.partial(b.before,2);var j=!{toString:null}.propertyIsEnumerable("toString"),q=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(m)return m(t);var n=[];for(var e in t)b.has(t,e)&&n.push(e);return j&&o(t,n),n},b.allKeys=function(t){if(!b.isObject(t))return[];var n=[];for(var e in t)n.push(e);return j&&o(t,n),n},b.values=function(t){for(var n=b.keys(t),e=n.length,i=Array(e),r=0;e>r;r++)i[r]=t[n[r]];return i},b.mapObject=function(t,n,e){n=M(n,e);for(var i,r=b.keys(t),a=r.length,o={},s=0;a>s;s++)o[i=r[s]]=n(t[i],i,t);return o},b.pairs=function(t){for(var n=b.keys(t),e=n.length,i=Array(e),r=0;e>r;r++)i[r]=[n[r],t[n[r]]];return i},b.invert=function(t){for(var n={},e=b.keys(t),i=0,r=e.length;r>i;i++)n[t[e[i]]]=e[i];return n},b.functions=b.methods=function(t){var n=[];for(var e in t)b.isFunction(t[e])&&n.push(e);return n.sort()},b.extend=k(b.allKeys),b.extendOwn=b.assign=k(b.keys),b.findKey=function(t,n,e){n=M(n,e);for(var i,r=b.keys(t),a=0,o=r.length;o>a;a++)if(n(t[i=r[a]],i,t))return i},b.pick=function(t,n,e){var i,r,a={},o=t;if(null==o)return a;b.isFunction(n)?(r=b.allKeys(o),i=w(n,e)):(r=N(arguments,!1,!1,1),i=function(t,n,e){return n in e},o=Object(o));for(var s=0,u=r.length;u>s;s++){var l=r[s],c=o[l];i(c,l,o)&&(a[l]=c)}return a},b.omit=function(t,n,e){if(b.isFunction(n))n=b.negate(n);else{var i=b.map(N(arguments,!1,!1,1),String);n=function(t,n){return!b.contains(i,n)}}return b.pick(t,n,e)},b.defaults=k(b.allKeys,!0),b.create=function(t,n){var e=C(t);return n&&b.extendOwn(e,n),e},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,n){return n(t),t},b.isMatch=function(t,n){var e=b.keys(n),i=e.length;if(null==t)return!i;for(var r=Object(t),a=0;i>a;a++){var o=e[a];if(n[o]!==r[o]||!(o in r))return!1}return!0};var D=function(t,n,e,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;t instanceof b&&(t=t._wrapped),n instanceof b&&(n=n._wrapped);var r=p.call(t);if(r!==p.call(n))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n}var a="[object Array]"===r;if(!a){if("object"!=typeof t||"object"!=typeof n)return!1;var o=t.constructor,s=n.constructor;if(o!==s&&!(b.isFunction(o)&&o instanceof o&&b.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in n)return!1}i=i||[];for(var u=(e=e||[]).length;u--;)if(e[u]===t)return i[u]===n;if(e.push(t),i.push(n),a){if((u=t.length)!==n.length)return!1;for(;u--;)if(!D(t[u],n[u],e,i))return!1}else{var l,c=b.keys(t);if(u=c.length,b.keys(n).length!==u)return!1;for(;u--;)if(l=c[u],!b.has(n,l)||!D(t[l],n[l],e,i))return!1}return e.pop(),i.pop(),!0};b.isEqual=function(t,n){return D(t,n)},b.isEmpty=function(t){return null==t||(E(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length)},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=v||function(t){return"[object Array]"===p.call(t)},b.isObject=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(t){b["is"+t]=function(n){return p.call(n)==="[object "+t+"]"}})),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"object"!=typeof Int8Array&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===p.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,n){return null!=t&&g.call(t,n)},b.noConflict=function(){return s._=u,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=S,b.propertyOf=function(t){return null==t?function(){}:function(n){return t[n]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(n){return b.isMatch(n,t)}},b.times=function(t,n,e){var i=Array(Math.max(0,t));n=w(n,e,1);for(var r=0;t>r;r++)i[r]=n(r);return i},b.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var $={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=b.invert($),R=function(t){var n=function(n){return t[n]},e="(?:"+b.keys(t).join("|")+")",i=RegExp(e),r=RegExp(e,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,n):t}};b.escape=R($),b.unescape=R(L),b.result=function(t,n,e){var i=null==t?void 0:t[n];return void 0===i&&(i=e),b.isFunction(i)?i.call(t):i};var H=0;b.uniqueId=function(t){var n=++H+"";return t?t+n:n},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+O[t]};b.template=function(t,n,e){!n&&e&&(n=e),n=b.defaults({},n,b.templateSettings);var i=RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),r=0,a="__p+='";t.replace(i,(function(n,e,i,o,s){return a+=t.slice(r,s).replace(I,U),r=s+n.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),n})),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(n.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return o.call(this,t,b)},u=n.variable||"obj";return s.source="function("+u+"){\n"+a+"}",s},b.chain=function(t){var n=b(t);return n._chain=!0,n};var W=function(t,n){return t._chain?b(n).chain():n};b.mixin=function(t){b.each(b.functions(t),(function(n){var e=b[n]=t[n];b.prototype[n]=function(){var t=[this._wrapped];return f.apply(t,arguments),W(this,e.apply(b,t))}}))},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var n=l[t];b.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],W(this,e)}})),b.each(["concat","join","slice"],(function(t){var n=l[t];b.prototype[t]=function(){return W(this,n.apply(this._wrapped,arguments))}})),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},void 0===(e=function(){return b}.apply(n,[]))||(t.exports=e)}).call(this)}},n={};function e(i){var r=n[i];if(void 0!==r)return r.exports;var a=n[i]={exports:{}};return t[i].call(a.exports,a,a.exports,e),a.exports}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";Shiny,e(510),e(738),e(601),e(689),e(336),e(890),e(930),e(341),e(760),e(199),Shiny.addCustomMessageHandler("show-packer",(t=>{(t=>{alert(t)})(t)}))})()})();